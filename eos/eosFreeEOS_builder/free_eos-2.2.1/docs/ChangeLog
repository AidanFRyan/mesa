------------------------------------------------------------------------
r858 | airwin | 2008-07-08 16:00:04 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/cmake/modules/free_eos_version.cmake

Version 2.2.1.

------------------------------------------------------------------------
r857 | airwin | 2008-07-08 15:56:56 -0700 (Tue, 08 Jul 2008) | 12 lines
Changed paths:
   M /trunk/ChangeLog

Create up-to-date ChangeLog by

# To make sure you get full ChangeLog.
svn update

svn log --verbose . >| ChangeLog.test

diff -au ChangeLog ChangeLog.test |less

mv ChangeLog.test ChangeLog


------------------------------------------------------------------------
r856 | airwin | 2008-07-08 15:46:18 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   A /trunk/www/announcement-2.2.1.html
   M /trunk/www/index.html

Deprecate 2.2.0 because of the bugs and announce 2.2.1.

------------------------------------------------------------------------
r855 | airwin | 2008-07-08 13:02:57 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/utils/test_rosenbrock.out_standard

gfortran -O2 result is slightly different than previous.

------------------------------------------------------------------------
r854 | airwin | 2008-07-08 12:55:21 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   A /trunk/www/2.2.1-2.1.0.png (from /trunk/www/2.2.1-2.2.0.png:853)
   D /trunk/www/2.2.1-2.2.0.png

Rename this symlink to correct name (since 2.1.0 is the reference result).

------------------------------------------------------------------------
r853 | airwin | 2008-07-08 12:52:15 -0700 (Tue, 08 Jul 2008) | 4 lines
Changed paths:
   A /trunk/www/2.2.1-2.2.0.png

Convenient symbolic link for generated result that will be uploaded to
website under this symlink name.


------------------------------------------------------------------------
r852 | airwin | 2008-07-08 12:46:18 -0700 (Tue, 08 Jul 2008) | 3 lines
Changed paths:
   M /trunk/www/release_figures/newversion-oldversion.py_template
   M /trunk/www/release_figures/newversion-oldversion_1.0_model.py_template
   M /trunk/www/release_figures/newversion-oldversion_dgamma1.py_template
   M /trunk/www/release_figures/tc.py

Change plwid calls that decide the axis width to look good with the new
pngcairo and pscairo device output.

------------------------------------------------------------------------
r851 | airwin | 2008-07-08 12:44:22 -0700 (Tue, 08 Jul 2008) | 5 lines
Changed paths:
   M /trunk/www/release_figures/2.2.1/Makefile

Introduce new figureclean target that just removes the generated figures.

New PNG and PostScript options to take advantage of outstanding
pngcairo and pscairo device drivers from PLplot.

------------------------------------------------------------------------
r850 | airwin | 2008-07-08 10:53:49 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/utils/CMakeLists.txt
   A /trunk/utils/fermi_dirac_test.out_standard

Add fermi_dirac_test.out_standard to list of standard output results.

------------------------------------------------------------------------
r849 | airwin | 2008-07-08 10:46:54 -0700 (Tue, 08 Jul 2008) | 4 lines
Changed paths:
   M /trunk/utils/fermi_dirac_test.in

Do standard fermi_dirac test for the morder value most often used (as
default) in free_eos.f.


------------------------------------------------------------------------
r848 | airwin | 2008-07-08 10:15:48 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/README

2.2.0 ==> 2.2.1

------------------------------------------------------------------------
r847 | airwin | 2008-07-08 10:08:53 -0700 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/Makefile

gfortran compiler and new version of FreeEOS.

------------------------------------------------------------------------
r846 | airwin | 2008-07-07 22:30:51 -0700 (Mon, 07 Jul 2008) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.2.1

Tweak svn:ignore property.

------------------------------------------------------------------------
r845 | airwin | 2008-07-07 22:30:02 -0700 (Mon, 07 Jul 2008) | 5 lines
Changed paths:
   M /trunk/www/eospaper/plplot_python_start.py

Change from Numeric to numpy

Filter fortran data that is input to change "D" exponents to "E" exponents
that python recognizes when converting from strings to floating-point.

------------------------------------------------------------------------
r844 | airwin | 2008-07-07 22:26:30 -0700 (Mon, 07 Jul 2008) | 3 lines
Changed paths:
   M /trunk/include/pi_fit.h

Temporarily revert back to fitting values used for most prior releases for
release 2.2.1.

------------------------------------------------------------------------
r843 | airwin | 2008-07-07 22:21:34 -0700 (Mon, 07 Jul 2008) | 7 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

2.2.1 release version.  This reflects change back to pressure-ionization
coefficiencts that have been used in previous releases, and also some minor
formatting changes because gfortran does those a little differently compared
to the old version of g77 that was used before.  As expected, these results
only differ at the numerical noise level with those from the 2.2.0 release.


------------------------------------------------------------------------
r842 | airwin | 2008-07-07 14:18:51 -0700 (Mon, 07 Jul 2008) | 7 lines
Changed paths:
   M /trunk/src/aux_to_traditional.f
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_jacobian.f

Fix communication bug that was introduced for FreeEOS-2.2.0 and which
affected the GEFF, SIREFF, and EOS2 option suites.  Incorrectly forgot to
copy sum0 and sum2 to aux for special case of if_mc.eq.1. (This option for
approximating the Coloumb sums normally only used for the above option
suites).


------------------------------------------------------------------------
r841 | airwin | 2008-07-07 12:12:20 -0700 (Mon, 07 Jul 2008) | 5 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

For low fl, it is difficult to get into convergence trouble so drop all
Newton-Raphson scaling for this case.  This dramatically speeds up convergence
for the case when a large fl change is necessary since scaling was keeping
the maximum fl change to be just 0.01.

------------------------------------------------------------------------
r840 | airwin | 2008-07-07 12:03:00 -0700 (Mon, 07 Jul 2008) | 4 lines
Changed paths:
   M /trunk/src/eos_jacobian.f

kif=1 bug fix to drop ln transformation of Jacobian elements that were equal
to pnorad_daux since that derivative already ln transformed.


------------------------------------------------------------------------
r839 | airwin | 2008-07-07 11:59:04 -0700 (Mon, 07 Jul 2008) | 3 lines
Changed paths:
   M /trunk/src/coulomb.f

Remove significance loss that occurred when using unnecessary Gamma to
Lambda derivative transforms in Debye-Huckel limit.

------------------------------------------------------------------------
r838 | airwin | 2008-07-07 11:56:11 -0700 (Mon, 07 Jul 2008) | 2 lines
Changed paths:
   M /trunk/src/version.f

Prepare for 2.2.1 release by changing version to that number.

------------------------------------------------------------------------
r837 | airwin | 2008-07-07 11:01:18 -0700 (Mon, 07 Jul 2008) | 2 lines
Changed paths:
   M /trunk/src/README.developers

Append ftnchek -calltree output to give machine-generated who calls who.

------------------------------------------------------------------------
r836 | airwin | 2008-07-01 16:12:06 -0700 (Tue, 01 Jul 2008) | 8 lines
Changed paths:
   M /trunk/www/release_figures/2.2.1/Makefile

Improve line wrapping.

Get rid of multiple targets.  According to "info make" those are interpreted
as separate targets with duplicate rules.  Therefore such targets will
screw-up parallel builds with multiple invocations of the rule which is what
I observed until I made this fix.


------------------------------------------------------------------------
r835 | airwin | 2008-07-01 14:46:59 -0700 (Tue, 01 Jul 2008) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.2.1
   A /trunk/www/release_figures/2.2.1/Makefile
   A /trunk/www/release_figures/2.2.1/abund.dat
   A /trunk/www/release_figures/2.2.1/newversion
   A /trunk/www/release_figures/2.2.1/newversion/abund.dat
   A /trunk/www/release_figures/2.2.1/newversion/statef_delta_grid.in
   A /trunk/www/release_figures/2.2.1/newversion/statef_delta_tabulate_model.in
   A /trunk/www/release_figures/2.2.1/oldversion
   A /trunk/www/release_figures/2.2.1/oldversion/abund.dat
   A /trunk/www/release_figures/2.2.1/oldversion/statef_grid.in
   A /trunk/www/release_figures/2.2.1/oldversion/statef_tabulate_model.in
   A /trunk/www/release_figures/2.2.1/plplot_python_start.py
   A /trunk/www/release_figures/2.2.1/rho-T-loci
   A /trunk/www/release_figures/2.2.1/thermodynamic_consistency
   A /trunk/www/release_figures/2.2.1/thermodynamic_consistency/abund.dat
   A /trunk/www/release_figures/2.2.1/thermodynamic_consistency/statef_compare.in

Initial commit of files to generate 2.2.1 release figures

------------------------------------------------------------------------
r834 | airwin | 2008-07-01 13:10:41 -0700 (Tue, 01 Jul 2008) | 2 lines
Changed paths:
   M /trunk/www/release_figures/newversion-oldversion.py_template
   M /trunk/www/release_figures/newversion-oldversion_1.0_model.py_template
   M /trunk/www/release_figures/newversion-oldversion_dgamma1.py_template

These template files should not be executable.

------------------------------------------------------------------------
r833 | airwin | 2008-07-01 12:57:26 -0700 (Tue, 01 Jul 2008) | 3 lines
Changed paths:
   A /trunk/www/release_figures/tc.py

Initial commit of python script for demonstrating thermodynamic consistency.
This is not a template because there is nothing to configure.

------------------------------------------------------------------------
r832 | airwin | 2008-07-01 12:55:11 -0700 (Tue, 01 Jul 2008) | 2 lines
Changed paths:
   A /trunk/www/release_figures/newversion-oldversion.py_template
   A /trunk/www/release_figures/newversion-oldversion_1.0_model.py_template
   A /trunk/www/release_figures/newversion-oldversion_dgamma1.py_template

Initial commit of template python scripts used for 2.2.1 and above. 

------------------------------------------------------------------------
r831 | airwin | 2008-06-29 17:22:11 -0700 (Sun, 29 Jun 2008) | 6 lines
Changed paths:
   M /trunk/src/eos_calc.f

Fix ln h2plus bug for combination of ifh2 > 0 and ifh2plus = 0.  This bug
was introduced by the 2.2.0 code changes and is only expressed for low
densities where ln (non H2+ species numbers/N_A) drop below 0 and where the
above combination of flags (e.g., PTEH mode) occurs.


------------------------------------------------------------------------
r830 | airwin | 2008-06-29 13:34:26 -0700 (Sun, 29 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f

Reinstate 2,-201 option to do SIREFF with radiation pressure like README says.

------------------------------------------------------------------------
r829 | airwin | 2008-06-29 13:23:52 -0700 (Sun, 29 Jun 2008) | 2 lines
Changed paths:
   M /trunk/README

MHD ==> MDH (since that is the author order for that paper).

------------------------------------------------------------------------
r828 | airwin | 2008-06-29 11:25:06 -0700 (Sun, 29 Jun 2008) | 3 lines
Changed paths:
   M /trunk/README

Better gfortran instructions for Linux lapack/blas build plus other
documentation tweaks.

------------------------------------------------------------------------
r827 | airwin | 2008-06-28 18:32:24 -0700 (Sat, 28 Jun 2008) | 5 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Fix "order-of-calculations" bugs which were leading to overflows for gfortran
and modern g77.  The old g77 compiler got correct results because by default
it did the calculations in the correct order, but the correct order has
to be enforced with parentheses for gfortran and g77.

------------------------------------------------------------------------
r826 | airwin | 2008-06-28 14:00:03 -0700 (Sat, 28 Jun 2008) | 8 lines
Changed paths:
   M /trunk/src/eos_cold_start.f
   M /trunk/src/free_eos_detailed.f

Reorganize eos_cold_start argument list so that aux, auxf, and auxt
variables are returned rather than the traditional forms of those variables.
Also attempt to replace all unused arguments in the eos_cold_start calls to
other routines with the dummy variable to make clear those arguments are
actually completely ignored for the particular combination of logical
options used in eos_cold_start.


------------------------------------------------------------------------
r825 | airwin | 2008-06-28 13:56:54 -0700 (Sat, 28 Jun 2008) | 7 lines
Changed paths:
   M /trunk/src/eos_calc.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/ionize.f

Add commentary about *_dv variables being completely ignored for ifnr = 0.

Even though the assertion is only important for non-local variables make it
so for local variables as well for consistency.  This change only affected
one local variable (hequil_dv in eos_calc.f).


------------------------------------------------------------------------
r824 | airwin | 2008-06-28 09:51:03 -0700 (Sat, 28 Jun 2008) | 2 lines
Changed paths:
   M /trunk/README

Remove section on CMake prerequisite that was inadvertently duplicated.

------------------------------------------------------------------------
r823 | airwin | 2008-06-28 09:49:14 -0700 (Sat, 28 Jun 2008) | 6 lines
Changed paths:
   M /trunk/README

Add instructions about CMake prerequisite.

Add instructions about building g77 and gfortran versions of Lapack/BLAS on
Linux.  The gfortran instructions are not complete, yet.


------------------------------------------------------------------------
r822 | airwin | 2008-06-24 16:13:34 -0700 (Tue, 24 Jun 2008) | 4 lines
Changed paths:
   M /trunk/src/eos_bfgs.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_warm_step.f

Explicitly stop if eos_bfgs, eos_warm_step, or eos_free_calc is incorrectly
called with ifnr = 0.


------------------------------------------------------------------------
r821 | airwin | 2008-06-24 16:12:33 -0700 (Tue, 24 Jun 2008) | 9 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/free_non_ideal_calc.f

Explicitly stop if either eos_jacobian or free_non_ideal_calc is incorrectly
called with ifnr = 0.

Fix uninitialized ne, nef found by ftnchek.  This bug fix should make the
bfgs convergence more reliable but should not affect most use of FreeEOS
since the (expensive!) bfgs method is only tried when dealing with a
covergence emergency for the standard Newton-Raphson technique.


------------------------------------------------------------------------
r820 | airwin | 2008-06-24 12:26:56 -0700 (Tue, 24 Jun 2008) | 2 lines
Changed paths:
   M /trunk/include/helium1.h
   M /trunk/src/qryd_approx.f
   M /trunk/src/qryd_calc.f

Correct inappropriate use of single-precision constants found by ftnchek.

------------------------------------------------------------------------
r819 | airwin | 2008-06-24 12:21:15 -0700 (Tue, 24 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/ionize.f

Make use of ifsame_under more safe by checking that it is false on first call.

------------------------------------------------------------------------
r818 | airwin | 2008-06-24 12:11:27 -0700 (Tue, 24 Jun 2008) | 8 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

The y variable and g array are no longer available to free_eos_detailed so
comment out their declaration and also their use in the (now defunct)
debug_bfgs test.

Initialize pab to quiet ftnchek warning.  This was actually a false positive.



------------------------------------------------------------------------
r817 | airwin | 2008-06-24 11:45:54 -0700 (Tue, 24 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Type lnblnk (required on some platforms).

------------------------------------------------------------------------
r816 | airwin | 2008-06-24 11:43:01 -0700 (Tue, 24 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/f_psi.f

Change exct and fp12 to subroutines with the names exct_calc and fp12_calc.

------------------------------------------------------------------------
r815 | airwin | 2008-06-24 11:10:38 -0700 (Tue, 24 Jun 2008) | 4 lines
Changed paths:
   M /trunk/src/CMakeLists.txt
   D /trunk/src/exct.f
   A /trunk/src/exct_calc.f (from /trunk/src/exct.f:814)
   D /trunk/src/fp12.f
   A /trunk/src/fp12_calc.f (from /trunk/src/fp12.f:814)

Change the names of fp12.f and exct.f to fp12_calc.f and exct_calc.f to be
consistent with the (new) subroutine names fp12_calc and exct_calc that
appear in those files.

------------------------------------------------------------------------
r814 | airwin | 2008-06-24 11:07:11 -0700 (Tue, 24 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/exct.f
   M /trunk/src/fp12.f

Change exct and fp12 to subroutines with the names exct_calc and fp12_calc.

------------------------------------------------------------------------
r813 | airwin | 2008-06-22 19:35:24 -0700 (Sun, 22 Jun 2008) | 6 lines
Changed paths:
   M /trunk/src/eos_cold_start.f
   M /trunk/src/free_eos_detailed.f

Move ifsame_under calculation from eos_cold_start to free_eos_detailed.
This solves a potential bug since kif was not defined inside eos_cold_start.
(Thanks to Don VandenBerg for reporting this issue.)

Tweak free_eos_detailed commentary.

------------------------------------------------------------------------
r812 | airwin | 2008-06-22 18:23:02 -0700 (Sun, 22 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f

Replace tabs (which gfortran complained about) with blanks.

------------------------------------------------------------------------
r811 | airwin | 2008-06-22 15:06:57 -0700 (Sun, 22 Jun 2008) | 5 lines
Changed paths:
   M /trunk/src/quad4b.f

Replace assigned gotos (which gfortran cannot understand) with equivalent if
block logic.  Checked result with fermi_dirac_test for morder = 21 and -21
for gfortran version old g77. All was well.


------------------------------------------------------------------------
r810 | airwin | 2008-06-22 08:07:51 -0700 (Sun, 22 Jun 2008) | 8 lines
Changed paths:
   M /trunk/utils/CMakeLists.txt
   A /trunk/utils/exchange_test.out_standard

exchange_test.out_standard is the result of 

exchange_test <exchange_test.in > exchange_test.out_standard

done with my new gfortran system.  For the wide range of fl at intermediate
gl = 0 that is tested, the results are excellent.


------------------------------------------------------------------------
r809 | airwin | 2008-06-22 08:02:12 -0700 (Sun, 22 Jun 2008) | 6 lines
Changed paths:
   M /trunk/utils/exchange_test.in

Change ifexchange from 16 to 14, the value currently used for most FreeEOS
calculations.

Change independent variables so that large range of fl is tested for fixed gl.


------------------------------------------------------------------------
r808 | airwin | 2008-06-21 19:39:52 -0700 (Sat, 21 Jun 2008) | 2 lines
Changed paths:
   A /trunk/utils/exchange_test.in
   A /trunk/utils/exchange_test_main.f
   A /trunk/utils/fermi_dirac_test.in
   A /trunk/utils/fermi_dirac_test_main.f

Add fermi_dirac_test and exchange_test to test routines.

------------------------------------------------------------------------
r807 | airwin | 2008-06-21 19:39:32 -0700 (Sat, 21 Jun 2008) | 4 lines
Changed paths:
   M /trunk/utils/CMakeLists.txt

Add fermi_dirac_test and exchange_test to test routines.

Create required constants.h dependency for free_eos_test

------------------------------------------------------------------------
r806 | airwin | 2008-06-21 19:36:08 -0700 (Sat, 21 Jun 2008) | 4 lines
Changed paths:
   M /trunk/cmake/modules/CheckFortranFunctionExists.cmake

Add "call" to test function to force link to it since the external statement
does not seem force linking for gfortran.


------------------------------------------------------------------------
r805 | airwin | 2008-06-19 12:47:35 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   M /trunk/src/eos_jacobian.f

Correct routine tag attached to error messages.

------------------------------------------------------------------------
r804 | airwin | 2008-06-19 08:02:45 -0700 (Thu, 19 Jun 2008) | 7 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Preliminary result for 2.3.0 which incorporates H2 and H2+ "neutral" PI
changes of + 0.5 and +40 (to change H2+ to MDH value).

The result is that H2+ fraction is reduced from order of magnitude of 1.d-4
to 1.d-8 and other EOS changes are in the 3rd or 4th figure in consequence.


------------------------------------------------------------------------
r803 | airwin | 2008-06-19 07:31:19 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/convergence.tex

Tweak form of acknowledgements.

------------------------------------------------------------------------
r802 | airwin | 2008-06-19 07:30:11 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/Changes
   M /trunk/www/eospaper/solution/Changes

Reminder to do references in correct style for electronic publication.

------------------------------------------------------------------------
r801 | airwin | 2008-06-19 07:27:07 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb

Tweak svn:ignore property to ignore generated *.eps and *.png figures.

------------------------------------------------------------------------
r800 | airwin | 2008-06-19 07:26:20 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/Makefile

New style consistent with that of Paper I.

------------------------------------------------------------------------
r799 | airwin | 2008-06-19 07:21:37 -0700 (Thu, 19 Jun 2008) | 3 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/coulomb.tex

Tweak figure style to be more suitable for electronic publication, i.e.,
adopt new style as in Paper I.

------------------------------------------------------------------------
r798 | airwin | 2008-06-19 07:18:31 -0700 (Thu, 19 Jun 2008) | 4 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/coulomb_adjust.i

Substantial revision of all figures to make them more consistent in style
with Paper I (eff_fit).


------------------------------------------------------------------------
r797 | airwin | 2008-06-19 07:17:25 -0700 (Thu, 19 Jun 2008) | 3 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/0.1_model_pteh.py
   M /trunk/www/eospaper/coulomb/1.0_model_pteh.py
   M /trunk/www/eospaper/coulomb/context.py
   M /trunk/www/eospaper/coulomb/dh.py
   M /trunk/www/eospaper/coulomb/dhtau.py
   M /trunk/www/eospaper/coulomb/nocoulomb.py
   M /trunk/www/eospaper/coulomb/pteh.py

Substantial revision of all figures to make them more consistent in style
with Paper I (eff_fit).

------------------------------------------------------------------------
r796 | airwin | 2008-06-19 07:13:32 -0700 (Thu, 19 Jun 2008) | 3 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/Changes

Pietrinferni issue now taken care of.  Copy generic instructions for further
checks to be done from Paper I (eff_fit).

------------------------------------------------------------------------
r795 | airwin | 2008-06-19 07:02:03 -0700 (Thu, 19 Jun 2008) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0

Tweak svn:ignore property to ignore h2plus_neutral_0
and h2m3.

------------------------------------------------------------------------
r794 | airwin | 2008-06-19 06:55:46 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/NOTES

Detailed notes for all the fitting adjustments made for this release.

------------------------------------------------------------------------
r793 | airwin | 2008-06-19 06:47:59 -0700 (Thu, 19 Jun 2008) | 2 lines
Changed paths:
   A /trunk/www/eff_fit_fig3.png

Convenient symbolic link to generated result.

------------------------------------------------------------------------
r792 | airwin | 2008-06-19 06:40:28 -0700 (Thu, 19 Jun 2008) | 13 lines
Changed paths:
   M /trunk/include/pi_fit.h

Move Coulomb fitting factors to pi_fit.h.  This means pi_fit.h now contains
all fitting factors for FreeEOS.

Experiment with neutral PI fitting factors to reduce high-density/low T
discontinuties.

Add 0.5 to H2 (this may be reverted).

Change H2+ from negligible (-40) to MDH value (0.0).  

These combined changes removed all discontinuties associated with H2+.


------------------------------------------------------------------------
r791 | airwin | 2008-06-19 06:33:34 -0700 (Thu, 19 Jun 2008) | 3 lines
Changed paths:
   M /trunk/src/CMakeLists.txt

Move Coulomb fitting factors to pi_fit.h.  This means pi_fit.h now contains
all fitting factors for FreeEOS.

------------------------------------------------------------------------
r790 | airwin | 2008-06-19 06:29:58 -0700 (Thu, 19 Jun 2008) | 3 lines
Changed paths:
   M /trunk/src/coulomb.f

Move Coulomb fitting factors to pi_fit.h.  This means pi_fit.h now contains
all fitting factors for FreeEOS.

------------------------------------------------------------------------
r789 | airwin | 2007-09-16 08:28:01 -0700 (Sun, 16 Sep 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/Makefile

Tweak mostlyclean and clean lists.

------------------------------------------------------------------------
r788 | airwin | 2007-09-13 11:23:43 -0700 (Thu, 13 Sep 2007) | 12 lines
Changed paths:
   M /trunk/www/eospaper/solution/Makefile

mostlyclean and clean targets.

Generic chains of commands to generate figures in all cases.  When the .eps
version of the figure would consume to much bandwidth (more than 50K)
use a compact chain of commands to generate a low-quality pixmap and a
high-quality chain of commands to produce a corresponsing high-quality .png.

Adapt to new figure naming scheme, solution_fig?.eps (or solution_fig?.png
for the high quality case, when the .eps version is low quality to save
bandwith).


------------------------------------------------------------------------
r787 | airwin | 2007-09-13 11:18:29 -0700 (Thu, 13 Sep 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/solution/solution.tex

Convert to solution_fig?.eps form of figures and properly associate figure
captions with figures.

------------------------------------------------------------------------
r786 | airwin | 2007-09-13 11:16:13 -0700 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/eff_fit.tex

Fix curly brace error for figure \lab commands.

------------------------------------------------------------------------
r785 | airwin | 2007-09-13 10:21:59 -0700 (Thu, 13 Sep 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/solution/rtc.py
   M /trunk/www/eospaper/solution/tc.py

plwid reductions and plvpor changes to make pscairo results look nice with
reasonably small margins.

------------------------------------------------------------------------
r784 | airwin | 2007-09-13 10:21:06 -0700 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/context.py

plwid reductions to make pscairo results look nice.

------------------------------------------------------------------------
r783 | airwin | 2007-09-13 10:18:44 -0700 (Thu, 13 Sep 2007) | 4 lines
Changed paths:
   M /trunk/www/eospaper/solution/opal_compare_solar.i
   M /trunk/www/eospaper/solution/opal_compare_solar_radial.i
   M /trunk/www/eospaper/solution/opal_solar.i
   M /trunk/www/eospaper/solution/opal_solar_1995.i
   M /trunk/www/eospaper/solution/opal_solar_radial.i
   M /trunk/www/eospaper/solution/opal_solar_radial_1995.i

Changes for pscairo.  plwid(3)==> plwid(1), black pen on white background,
character size changed from 1.5 to 2.2.


------------------------------------------------------------------------
r782 | airwin | 2007-09-13 10:16:26 -0700 (Thu, 13 Sep 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/solution/opal_solar/opal_compare_model.in
   M /trunk/www/eospaper/solution/opal_solar/statef_opal_model.in
   M /trunk/www/eospaper/solution/opal_solar/statef_opal_model_1995.in

Change OPAL table index from 0, 1, or 2 to 1995, 2001, or 2005 to be
consistent with utility programme changes.

------------------------------------------------------------------------
r781 | airwin | 2007-09-13 10:13:59 -0700 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution

Tweak svn:ignore property.

------------------------------------------------------------------------
r780 | airwin | 2007-09-13 10:12:37 -0700 (Thu, 13 Sep 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/solution/Changes

Initial commit of Changes, a file to keep track of changes between
freeeos.sf.net version and first arxiv.org version.

------------------------------------------------------------------------
r779 | airwin | 2007-09-05 17:48:28 -0700 (Wed, 05 Sep 2007) | 4 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/Changes
   M /trunk/www/eospaper/eff_fit/eff_fit.tex

Status: reorganization and rewriting of paper almost done according to
Changes document aside from description of FreeEOS which needs to be
updated.

------------------------------------------------------------------------
r778 | airwin | 2007-09-05 17:45:07 -0700 (Wed, 05 Sep 2007) | 13 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/Makefile

Generic figure names.

QUALITY_FIGURES used for high-quality png figures that will be stored at
freeeos.sf.net/alternate_paper_figures to have a URL that can be referred to
from paper for crummy-looking bitmapped figures.

figures and clean targets.

Improved PostScript and PNG options consistent with cairo PLplot devices.

Use generic commands as much as possible for easier maintenance.


------------------------------------------------------------------------
r777 | airwin | 2007-09-05 17:39:12 -0700 (Wed, 05 Sep 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/eff_f.py
   M /trunk/www/eospaper/eff_fit/eff_fg.py

plwid(3) ==> plwid(1) to make better looking pngcairo and pscairo results.
Print maximum residuals as part of plot titles.

------------------------------------------------------------------------
r776 | airwin | 2007-09-05 17:34:44 -0700 (Wed, 05 Sep 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/1.0_model.py
   M /trunk/www/eospaper/eff_fit/context_fg.py

plwid(3) ==> plwid(1) to make better looking pscairo and pngcairo result.

------------------------------------------------------------------------
r775 | airwin | 2007-09-05 17:32:40 -0700 (Wed, 05 Sep 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit

Tweak svn:ignore property.

------------------------------------------------------------------------
r774 | airwin | 2007-08-23 10:20:18 -0700 (Thu, 23 Aug 2007) | 4 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/recursion.mem

Correct one minor typographical error and slightly improve formatting.
Double checked this derivation to make sure recursion formulas in paper
were correct.

------------------------------------------------------------------------
r773 | airwin | 2007-08-16 19:06:02 -0700 (Thu, 16 Aug 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/free_eos_opal_model_1.0_eos2005_00z10x-newversion.py
   M /trunk/www/release_figures/2.3.0/free_eos_opal_model_1.0_eos2005_00z10x-oldversion.py

Switch sound speed residual plot to difference in ln v_s to be consistent
with other plots in stack of subplots.

------------------------------------------------------------------------
r772 | airwin | 2007-08-16 19:03:37 -0700 (Thu, 16 Aug 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_0.1_model.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_1.0_model.py

Plot Gamma_1 of newversion rather than oldversion.

------------------------------------------------------------------------
r771 | airwin | 2007-08-16 19:02:24 -0700 (Thu, 16 Aug 2007) | 6 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare_x1.0-newversion.py
   M /trunk/www/release_figures/2.3.0/opal_compare_x1.0-oldversion.py

Put Gamma_1 plot on first page, pressure plot on second page since in the
high-density/low-temperature region where FreeEOS errors tend to be largest,
the Gamma_1 errors are more important because the models are completely
convective.


------------------------------------------------------------------------
r770 | airwin | 2007-08-16 18:54:29 -0700 (Thu, 16 Aug 2007) | 4 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/Makefile
   M /trunk/www/release_figures/1.2.0/Makefile
   M /trunk/www/release_figures/1.3.0/Makefile
   M /trunk/www/release_figures/1.4.0/Makefile
   M /trunk/www/release_figures/1.5.0/Makefile
   M /trunk/www/release_figures/1.6.0/Makefile
   M /trunk/www/release_figures/2.0.0/Makefile
   M /trunk/www/release_figures/2.1.0/Makefile
   M /trunk/www/release_figures/2.2.0/Makefile
   M /trunk/www/release_figures/2.3.0/Makefile

Create .PHONY target so that files named all, mostlyclean, and clean are not
generated by accident during "make" error recovery.


------------------------------------------------------------------------
r769 | airwin | 2007-08-06 16:19:18 -0700 (Mon, 06 Aug 2007) | 4 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/Makefile

Better organization of postscript options.

Complete the last of the required research plots.

------------------------------------------------------------------------
r768 | airwin | 2007-08-06 16:18:01 -0700 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_0.1_model.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_1.0_model.py

Convert from log10 residuals to normal residuals.

------------------------------------------------------------------------
r767 | airwin | 2007-08-06 16:16:16 -0700 (Mon, 06 Aug 2007) | 4 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_dgamma1.py

Tweak plschr size depending on whether device is psc or not.
Tweak large line width to be highwidth (currently specified as 1 to match
psttfc device needs).

------------------------------------------------------------------------
r766 | airwin | 2007-08-06 16:02:14 -0700 (Mon, 06 Aug 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/fractions-newversion.py
   M /trunk/www/release_figures/2.3.0/fractions-oldversion.py

Tweak plschr depending on whether device is psc or not.
Output min and max for each kind of fraction.

------------------------------------------------------------------------
r765 | airwin | 2007-08-06 15:59:45 -0700 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare_x1.0-newversion.py
   M /trunk/www/release_figures/2.3.0/opal_compare_x1.0-oldversion.py
   M /trunk/www/release_figures/2.3.0/tc.py

Tweak plschr size depending on whether device is psc or not.

------------------------------------------------------------------------
r764 | airwin | 2007-08-06 15:54:26 -0700 (Mon, 06 Aug 2007) | 3 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/free_eos_opal_model_1.0_eos2005_00z10x-oldversion.py

Plot residuals between old FreeEOS and EOS_2005 for Z=0.00, X=1.00, and the
locus of points in a model of 1.0 solar masses.

------------------------------------------------------------------------
r763 | airwin | 2007-08-06 15:51:54 -0700 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/free_eos_opal_model_1.0_eos2005_00z10x-newversion.py

plschr tweak for non psc devices.

------------------------------------------------------------------------
r762 | airwin | 2007-08-06 15:49:11 -0700 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/plot.sh

Convenience script for launching gv tasks for each generated plot.

------------------------------------------------------------------------
r761 | airwin | 2007-08-06 15:47:57 -0700 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0

Tweak svn:ignore property.

------------------------------------------------------------------------
r760 | airwin | 2007-08-06 15:42:49 -0700 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare-oldversion

Tweak svn:ignore property.

------------------------------------------------------------------------
r759 | airwin | 2007-08-06 15:41:31 -0700 (Mon, 06 Aug 2007) | 4 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare-oldversion/free_eos_opal_model_1.0_eos2005_00z10x.in (from /trunk/www/release_figures/2.3.0/opal_compare-newversion/free_eos_opal_model_1.0_eos2005_00z10x.in:755)

File to control comparison between oldversion of FreeEOS and EOS_2005 for 
Z=0.00, and X = 1.00 for the locus of points in a model of 1.0 solar masses.


------------------------------------------------------------------------
r758 | airwin | 2007-08-02 23:39:29 -0700 (Thu, 02 Aug 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/fractions-newversion.py
   M /trunk/www/release_figures/2.3.0/fractions-oldversion.py

Move plschr commands to right after pladv since that command resets the
character size defaults.

------------------------------------------------------------------------
r757 | airwin | 2007-08-02 23:37:41 -0700 (Thu, 02 Aug 2007) | 5 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/free_eos_opal_model_1.0_eos2005_00z10x-newversion.py

Python script to plot differences of FreeEOS-2.3.0 versus EOS2005 for Z =
0.00 and X = 1.00 and for the locus of points in a model of 1.0 solar
masses.


------------------------------------------------------------------------
r756 | airwin | 2007-07-31 14:30:10 -0700 (Tue, 31 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0

Tweak svn:ignore property.

------------------------------------------------------------------------
r755 | airwin | 2007-07-31 14:27:53 -0700 (Tue, 31 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare-newversion

Tweak svn:ignore property.

------------------------------------------------------------------------
r754 | airwin | 2007-07-31 14:26:14 -0700 (Tue, 31 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare-newversion/free_eos_opal_model_1.0_eos2005_00z10x.in

free_eos_opal_model configuration file for case of a 1.0-solar mass model
for EOS (both FreeEOS and EOS_2005) calculated for pure hydrogen case.

------------------------------------------------------------------------
r753 | airwin | 2007-07-31 14:22:59 -0700 (Tue, 31 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/fractions-newversion.py
   M /trunk/www/release_figures/2.3.0/fractions-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_0.1_model.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_1.0_model.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_dgamma1.py
   M /trunk/www/release_figures/2.3.0/opal_compare_x1.0-newversion.py
   M /trunk/www/release_figures/2.3.0/tc.py

Adjust plschr size if the device is "psttfc".

------------------------------------------------------------------------
r752 | airwin | 2007-07-31 14:22:05 -0700 (Tue, 31 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare_x1.0-oldversion.py

Adjust from newversion to oldversion.  Adjust plschr size if the device is
"psttf".

------------------------------------------------------------------------
r751 | airwin | 2007-07-30 19:17:13 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare_x1.0-oldversion.py (from /trunk/www/release_figures/2.3.0/opal_compare_x1.0-newversion.py:749)

Copy opal_compare_x1.0-newversion.py to opal_compare_x1.0-oldversion.py.

------------------------------------------------------------------------
r750 | airwin | 2007-07-30 19:15:51 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare-oldversion (from /trunk/www/release_figures/2.3.0/opal_compare-newversion:746)
   R /trunk/www/release_figures/2.3.0/opal_compare-oldversion/abund.dat (from /trunk/www/release_figures/2.3.0/opal_compare-newversion/abund.dat:745)
   R /trunk/www/release_figures/2.3.0/opal_compare-oldversion/statef_opal_eos2005_x0.0.in (from /trunk/www/release_figures/2.3.0/opal_compare-newversion/statef_opal_eos2005_x0.0.in:745)
   R /trunk/www/release_figures/2.3.0/opal_compare-oldversion/statef_opal_eos2005_x1.0.in (from /trunk/www/release_figures/2.3.0/opal_compare-newversion/statef_opal_eos2005_x1.0.in:745)

Copy opal_compare-newversion to opal_compare-oldversion.

------------------------------------------------------------------------
r749 | airwin | 2007-07-30 19:07:39 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/Makefile
   A /trunk/www/release_figures/2.3.0/eos2005_test
   A /trunk/www/release_figures/2.3.0/opal_compare_x1.0-newversion.py

Put in infrastructure to create opal_compare_x1.0-newversion.ps.gz

------------------------------------------------------------------------
r748 | airwin | 2007-07-30 19:05:38 -0700 (Mon, 30 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/fractions-newversion.py
   M /trunk/www/release_figures/2.3.0/fractions-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_dgamma1.py
   M /trunk/www/release_figures/2.3.0/tc.py

Style tweaks.  In particular, put in computational limit and the maximum
value in all cases.

------------------------------------------------------------------------
r747 | airwin | 2007-07-30 19:00:07 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0

Tweak svn:ignore property.

------------------------------------------------------------------------
r746 | airwin | 2007-07-30 18:56:26 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare-newversion

Set svn:ignore property to ignore generated files.

------------------------------------------------------------------------
r745 | airwin | 2007-07-30 18:54:37 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/opal_compare-newversion/statef_opal_eos2005_x1.0.in

Limit range of comparison to be consistent with other comparisons.

------------------------------------------------------------------------
r744 | airwin | 2007-07-30 09:10:32 -0700 (Mon, 30 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare-newversion/abund.dat

Establish symlink between abund.dat in this directory and the opal abundance
file abund_opal.dat in the parent directory.

------------------------------------------------------------------------
r743 | airwin | 2007-07-30 09:09:30 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/abund_opal.dat

OPAL abundances.

------------------------------------------------------------------------
r742 | airwin | 2007-07-30 09:07:41 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   D /trunk/www/release_figures/2.3.0/opal_compare
   A /trunk/www/release_figures/2.3.0/opal_compare-newversion (from /trunk/www/release_figures/2.3.0/opal_compare:740)

Rename opal_compare to opal_compare-newversion

------------------------------------------------------------------------
r741 | airwin | 2007-07-30 09:06:10 -0700 (Mon, 30 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/Makefile
   M /trunk/www/release_figures/2.3.0/tc.py

Enable thermodynamic consistency plot based on statef_grid contour.out results
rather than special run of statef_compare.

------------------------------------------------------------------------
r740 | airwin | 2007-07-30 09:04:02 -0700 (Mon, 30 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare/statef_opal_eos2005_x0.0.in
   A /trunk/www/release_figures/2.3.0/opal_compare/statef_opal_eos2005_x1.0.in

Control files for statef_opal for pure helium and pure hydrogen cases.

------------------------------------------------------------------------
r739 | airwin | 2007-07-29 18:36:19 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/opal_compare

Add directory for containing opal comparison input files and result.

------------------------------------------------------------------------
r738 | airwin | 2007-07-29 10:18:58 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_dgamma1.py

clevel_inc = 2.

------------------------------------------------------------------------
r737 | airwin | 2007-07-29 10:18:22 -0700 (Sun, 29 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/fractions-newversion.py

Plot titles refer to "(new version)" to distinguish them from "(old
version)" plots.

------------------------------------------------------------------------
r736 | airwin | 2007-07-29 10:17:02 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_1.0_model.py

Change name of input file to reflect being more specific about mass of model.

------------------------------------------------------------------------
r735 | airwin | 2007-07-29 10:14:49 -0700 (Sun, 29 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/newversion-oldversion_0.1_model.py (from /trunk/www/release_figures/2.3.0/newversion-oldversion_1.0_model.py:725)

Gamma_1 and differences of thermodynamic functions for locus of points in a
model of 0.1 solar masses.

------------------------------------------------------------------------
r734 | airwin | 2007-07-29 10:13:52 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0

Tweak svn:ignore property.

------------------------------------------------------------------------
r733 | airwin | 2007-07-29 10:13:06 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/oldversion

Tweak svn:ignore property.

------------------------------------------------------------------------
r732 | airwin | 2007-07-29 10:12:42 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion

Tweak svn:ignore property.

------------------------------------------------------------------------
r731 | airwin | 2007-07-29 10:11:52 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/fractions-oldversion.py (from /trunk/www/release_figures/2.3.0/fractions-newversion.py:728)

H and He fractions + chi_rho plots for the old version.

------------------------------------------------------------------------
r730 | airwin | 2007-07-29 10:10:45 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/newversion/statef_grid.in (from /trunk/www/release_figures/2.3.0/oldversion/statef_grid.in:719)

Control statef_grid for the new version.

------------------------------------------------------------------------
r729 | airwin | 2007-07-29 10:09:35 -0700 (Sun, 29 Jul 2007) | 9 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/Makefile

This version generates the following figures:
$(DIFFV).eps.gz
$(DIFFV)_dgamma1.eps.gz
$(DIFFV)_1.0_model.eps.gz
$(DIFFV)_0.1_model.eps.gz
fractions-$(OLDV).ps.gz
fractions-$(NEWV).ps.gz
						

------------------------------------------------------------------------
r728 | airwin | 2007-07-29 09:49:37 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/fractions-newversion.py (from /trunk/www/release_figures/2.3.0/fractions_new.py:727)
   D /trunk/www/release_figures/2.3.0/fractions_new.py

Rename fractions_new.py ==> fractions-newversion.py.

------------------------------------------------------------------------
r727 | airwin | 2007-07-29 09:48:20 -0700 (Sun, 29 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/fractions_new.py (from /trunk/www/eospaper/convergence/fractions.py:716)

Plots of hydrogen and helium fractions and chi_rho for new version.

------------------------------------------------------------------------
r726 | airwin | 2007-07-28 17:15:59 -0700 (Sat, 28 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_dgamma1.py

Bump versions.

------------------------------------------------------------------------
r725 | airwin | 2007-07-28 17:15:28 -0700 (Sat, 28 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion-oldversion_1.0_model.py

Bump versions.
overall_lnymax = -7.58

------------------------------------------------------------------------
r724 | airwin | 2007-07-28 17:11:52 -0700 (Sat, 28 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/newversion/statef_delta_tabulate_model_0.1.in (from /trunk/www/release_figures/2.3.0/newversion/statef_delta_tabulate_model_1.0.in:723)

Results for model of 0.1 solar masses.

------------------------------------------------------------------------
r723 | airwin | 2007-07-28 17:11:00 -0700 (Sat, 28 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion/statef_delta_tabulate_model_1.0.in

More specific model name.

------------------------------------------------------------------------
r722 | airwin | 2007-07-28 17:10:20 -0700 (Sat, 28 Jul 2007) | 4 lines
Changed paths:
   D /trunk/www/release_figures/2.3.0/newversion/statef_delta_tabulate_model.in
   A /trunk/www/release_figures/2.3.0/newversion/statef_delta_tabulate_model_1.0.in (from /trunk/www/release_figures/2.3.0/newversion/statef_delta_tabulate_model.in:719)

Move statef_delta_tabulate_model.in to statef_delta_tabulate_model_1.0.in to
be more specific about model in name.


------------------------------------------------------------------------
r721 | airwin | 2007-07-28 16:51:58 -0700 (Sat, 28 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0/oldversion/statef_tabulate_model_0.1.in (from /trunk/www/release_figures/2.3.0/oldversion/statef_tabulate_model_1.0.in:720)

Control file for 0.1 solar mass model tabulation comparison.

------------------------------------------------------------------------
r720 | airwin | 2007-07-28 16:50:29 -0700 (Sat, 28 Jul 2007) | 3 lines
Changed paths:
   D /trunk/www/release_figures/2.3.0/oldversion/statef_tabulate_model.in
   A /trunk/www/release_figures/2.3.0/oldversion/statef_tabulate_model_1.0.in (from /trunk/www/release_figures/2.3.0/oldversion/statef_tabulate_model.in:719)

Rename statef_tabulate_model.in ==> statef_tabulate_model_1.0.in to be
more specific about model being used.

------------------------------------------------------------------------
r719 | airwin | 2007-07-28 16:48:30 -0700 (Sat, 28 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.3.0/newversion/statef_delta_grid.in
   M /trunk/www/release_figures/2.3.0/oldversion/statef_grid.in
   M /trunk/www/release_figures/2.3.0/oldversion/statef_tabulate_model.in

More limited range in log rho, log T, but increase rho_lim5 from 0.3 to 1.3.
Also pure hydrogen for now.

------------------------------------------------------------------------
r718 | airwin | 2007-07-28 15:46:37 -0700 (Sat, 28 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.3.0 (from /trunk/www/release_figures/2.2.0:715)

Copy 2.3.0 from 2.2.0

------------------------------------------------------------------------
r717 | airwin | 2007-07-28 09:02:22 -0700 (Sat, 28 Jul 2007) | 5 lines
Changed paths:
   M /trunk/cmake/modules/free_eos_version.cmake
   M /trunk/src/version.f

Start of version 2.3.0 development cycle for adjusting Coulomb and
pressure-ionization coefficients for better fit of EOS_2005 and better
high-density/low temperature behaviour.


------------------------------------------------------------------------
r716 | airwin | 2007-07-28 09:01:13 -0700 (Sat, 28 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/Makefile
   M /trunk/www/eospaper/convergence/fractions.py
   M /trunk/www/eospaper/convergence/pureh_fractions.py
   M /trunk/www/eospaper/convergence/purehe_fractions.py

Plot chi_rho.

------------------------------------------------------------------------
r715 | airwin | 2007-07-25 11:12:18 -0700 (Wed, 25 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/documentation.html
   M /trunk/www/index.html

Put in references to the "Improvements to the convergence method" paper
(Paper V).

------------------------------------------------------------------------
r714 | airwin | 2007-07-24 17:14:41 -0700 (Tue, 24 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/convergence.pdf
   A /trunk/www/coulomb.pdf
   A /trunk/www/eff_fit.pdf
   A /trunk/www/exchange.pdf
   A /trunk/www/solution.pdf

Put these useful symlinks to the generated papers under svn control.

------------------------------------------------------------------------
r713 | airwin | 2007-07-24 17:12:27 -0700 (Tue, 24 Jul 2007) | 5 lines
Changed paths:
   M /trunk/www/eospaper/convergence/convergence.tex

I rewrote some awkward paragraphs, did spell checking, and did the
references to finish the paper. Note, this is the first version of the paper
I will publish on the web, and I expect any further changes should be minute.


------------------------------------------------------------------------
r712 | airwin | 2007-07-23 23:48:15 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/announcement-2.2.0.html

Update release notes and ChangeLog link to correct value (which can only be
ascertained after the file release).

------------------------------------------------------------------------
r710 | airwin | 2007-07-23 22:45:56 -0700 (Mon, 23 Jul 2007) | 9 lines
Changed paths:
   M /trunk/ChangeLog

svn update # Assures up-to-date ChangeLog for the release of 2.2.0.

svn log --verbose . >| ChangeLog.test

Compared ChangeLog.test with previous Changelog generated with a similar
svn command for the special 2.1.0 tag used for the release of 2.1.0.

Than moved ChangeLog.test to ChangeLog and committed.

------------------------------------------------------------------------
r709 | airwin | 2007-07-23 22:40:01 -0700 (Mon, 23 Jul 2007) | 6 lines
Changed paths:
   M /trunk/ChangeLog

Copy ChangeLog generated by

svn log --verbose . > ChangeLog

for release 2.1.0 to the trunk.

------------------------------------------------------------------------
r708 | airwin | 2007-07-23 22:12:26 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/index.html

News item for the release of 2.2.0.

------------------------------------------------------------------------
r707 | airwin | 2007-07-23 22:11:49 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/announcement-2.2.0.html

Tweak wording of announcement.

------------------------------------------------------------------------
r706 | airwin | 2007-07-23 21:17:44 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/README

Update slightly for 2.2.0 context.

------------------------------------------------------------------------
r705 | airwin | 2007-07-23 21:13:28 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/announcement-2.2.0.html

Initial commit of 2.2.0 announcement.  The location of the release notes
is incorrect until the actual release is made.

------------------------------------------------------------------------
r704 | airwin | 2007-07-23 18:47:59 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/2.2.0-2.1.0.png

Convenient symbolic link to generated result.

------------------------------------------------------------------------
r703 | airwin | 2007-07-23 17:42:13 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.2.0/Makefile
   M /trunk/www/release_figures/2.2.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.2.0/newversion-oldversion_dgamma1.py

Bump version numbers.

------------------------------------------------------------------------
r702 | airwin | 2007-07-23 17:41:32 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.2.0/newversion-oldversion_1.0_model.py

Bump version numbers.
overall_lnymax = -9.83

------------------------------------------------------------------------
r701 | airwin | 2007-07-23 17:40:36 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.2.0/thermodynamic_consistency/statef_compare.in

Extend computational limit to higher density by 1 dex.

------------------------------------------------------------------------
r700 | airwin | 2007-07-23 15:59:50 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.2.0 (from /trunk/www/release_figures/2.1.0:699)

Copy 2.1.0 to 2.2.0

------------------------------------------------------------------------
r699 | airwin | 2007-07-23 15:58:03 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.1.0/Makefile
   M /trunk/www/release_figures/2.1.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.1.0/newversion-oldversion_dgamma1.py

Bump version numbers.

------------------------------------------------------------------------
r698 | airwin | 2007-07-23 15:57:28 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.1.0/newversion-oldversion_1.0_model.py

Bump version numbers.
overall_lnymax = -16.56

------------------------------------------------------------------------
r697 | airwin | 2007-07-23 15:09:06 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.1.0 (from /trunk/www/release_figures/2.0.0:696)

Copy 2.0.0 to 2.1.0

------------------------------------------------------------------------
r696 | airwin | 2007-07-23 15:07:39 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.0.0/newversion-oldversion.py
   M /trunk/www/release_figures/2.0.0/newversion-oldversion_dgamma1.py

Bump version numbers.

------------------------------------------------------------------------
r695 | airwin | 2007-07-23 15:07:24 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/2.0.0/newversion-oldversion_1.0_model.py

Bump version numbers.
overall_lnymax = -14.15

------------------------------------------------------------------------
r694 | airwin | 2007-07-23 15:06:29 -0700 (Mon, 23 Jul 2007) | 6 lines
Changed paths:
   M /trunk/www/release_figures/2.0.0/Makefile
   M /trunk/www/release_figures/2.0.0/oldversion/statef_grid.in

Calculate isochores at sampling of 0.02 dex in T (5 times more finely than
before) to insure warm starts, quick execution of free_eos, and convergence.
Sample the results 5 times more coarsely than before since you don't need
all that detail in the plot.


------------------------------------------------------------------------
r693 | airwin | 2007-07-23 14:56:05 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/2.0.0/Makefile

Bump version numbers.

------------------------------------------------------------------------
r692 | airwin | 2007-07-23 06:22:03 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/2.0.0 (from /trunk/www/release_figures/1.6.0:691)

Copy 1.6.0 to 2.0.0

------------------------------------------------------------------------
r691 | airwin | 2007-07-23 06:20:57 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.6.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.6.0/newversion-oldversion_dgamma1.py

Bump version numbers.
clevel_inc = 1.

------------------------------------------------------------------------
r690 | airwin | 2007-07-23 06:20:17 -0700 (Mon, 23 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.6.0/newversion-oldversion_1.0_model.py

Bump version numbers.
overall_lnymax = -5.05

------------------------------------------------------------------------
r689 | airwin | 2007-07-23 06:18:54 -0700 (Mon, 23 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.6.0/Makefile

Bump version numbers.

------------------------------------------------------------------------
r688 | airwin | 2007-07-22 20:24:04 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.6.0 (from /trunk/www/release_figures/1.5.0:687)

Copy 1.5.0 to 1.6.0

------------------------------------------------------------------------
r687 | airwin | 2007-07-22 19:05:23 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.5.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.5.0/newversion-oldversion_dgamma1.py

Bump title version numbers.

------------------------------------------------------------------------
r686 | airwin | 2007-07-22 19:04:59 -0700 (Sun, 22 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.5.0/newversion-oldversion_1.0_model.py

Bump title version numbers.
overall_lnymax = -8.33

------------------------------------------------------------------------
r685 | airwin | 2007-07-22 19:03:45 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.5.0/Makefile

Bump version numbers.

------------------------------------------------------------------------
r684 | airwin | 2007-07-22 18:07:27 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.5.0 (from /trunk/www/release_figures/1.4.0:682)

Copy 1.4.0 to 1.5.0

------------------------------------------------------------------------
r683 | airwin | 2007-07-22 18:06:02 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   D /trunk/www/release_figures/1.5.0
   D /trunk/www/release_figures/1.6.0
   D /trunk/www/release_figures/2.0.0

Remove these empty directories in anticipation of reusing them again.

------------------------------------------------------------------------
r682 | airwin | 2007-07-22 17:54:55 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.4.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.4.0/newversion-oldversion_dgamma1.py

Bump title version numbers.

------------------------------------------------------------------------
r681 | airwin | 2007-07-22 17:54:26 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.4.0/newversion-oldversion_1.0_model.py

Bump title version numbers and set overall_lnymax.

------------------------------------------------------------------------
r680 | airwin | 2007-07-22 17:53:10 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.4.0/Makefile

Bump version numbers.

------------------------------------------------------------------------
r679 | airwin | 2007-07-22 17:50:10 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.3.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.3.0/newversion-oldversion_dgamma1.py

Bump title versions.

------------------------------------------------------------------------
r678 | airwin | 2007-07-22 17:49:49 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.3.0/newversion-oldversion_1.0_model.py

Bump title versions and update overall_lnymax.

------------------------------------------------------------------------
r677 | airwin | 2007-07-22 17:48:44 -0700 (Sun, 22 Jul 2007) | 7 lines
Changed paths:
   M /trunk/www/release_figures/1.3.0/Makefile

Bump library versions to 1.2.0 (old) and 1.3.0 (new).

Both the old and new libraries in this case are standard. Therefore clean
out all the special variations of the Makefile that were required to deal
with non-standard libraries for version 1.0.0 and 1.1.0.


------------------------------------------------------------------------
r676 | airwin | 2007-07-22 17:43:46 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.2.0/version-oldversion.f

Correct version for old (1.1.0) library.

------------------------------------------------------------------------
r675 | airwin | 2007-07-22 17:42:43 -0700 (Sun, 22 Jul 2007) | 4 lines
Changed paths:
   D /trunk/www/release_figures/1.3.0/version-oldversion.f

The old library (1.2.0) has access to the version subroutine so don't need
an extra copy here.


------------------------------------------------------------------------
r674 | airwin | 2007-07-22 17:17:58 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.4.0 (from /trunk/www/release_figures/1.3.0:672)
   M /trunk/www/release_figures/1.4.0/Makefile
   M /trunk/www/release_figures/1.4.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.4.0/newversion-oldversion_1.0_model.py
   M /trunk/www/release_figures/1.4.0/newversion-oldversion_dgamma1.py
   D /trunk/www/release_figures/1.4.0/version-oldversion.f

Copy 1.3.0 to 1.4.0

------------------------------------------------------------------------
r673 | airwin | 2007-07-22 17:16:30 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   D /trunk/www/release_figures/1.4.0

Get rid of empty directory to be subsequently reused.

------------------------------------------------------------------------
r672 | airwin | 2007-07-22 16:20:35 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   R /trunk/www/release_figures/1.3.0 (from /trunk/www/release_figures/1.2.0:666)
   R /trunk/www/release_figures/1.3.0/Makefile (from /trunk/www/release_figures/1.2.0/Makefile:671)
   R /trunk/www/release_figures/1.3.0/newversion-oldversion.py (from /trunk/www/release_figures/1.2.0/newversion-oldversion.py:670)
   R /trunk/www/release_figures/1.3.0/newversion-oldversion_1.0_model.py (from /trunk/www/release_figures/1.2.0/newversion-oldversion_1.0_model.py:669)
   R /trunk/www/release_figures/1.3.0/newversion-oldversion_dgamma1.py (from /trunk/www/release_figures/1.2.0/newversion-oldversion_dgamma1.py:670)
   R /trunk/www/release_figures/1.3.0/oldversion/statef_grid.in (from /trunk/www/release_figures/1.2.0/oldversion/statef_grid.in:668)

Copy 1.2.0 to 1.3.0

------------------------------------------------------------------------
r671 | airwin | 2007-07-22 16:15:16 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/Makefile
   M /trunk/www/release_figures/1.2.0/Makefile

Create mostlyclean target

------------------------------------------------------------------------
r670 | airwin | 2007-07-22 16:04:56 -0700 (Sun, 22 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.2.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.2.0/newversion-oldversion_dgamma1.py

1.2.0-related titles + azimuth changed from 35 deg to -35 deg for better
visibility.

------------------------------------------------------------------------
r669 | airwin | 2007-07-22 16:03:50 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.2.0/newversion-oldversion_1.0_model.py

Tweak output from log|dlnp| to log10|dlnp|.

------------------------------------------------------------------------
r668 | airwin | 2007-07-22 16:02:55 -0700 (Sun, 22 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.2.0/oldversion/statef_grid.in

Version 1.1.0 (and later) has better pressure-ionization scheme than 1.0.0 so
the denslim can be extended by 0.1 dex to 0.3.

------------------------------------------------------------------------
r667 | airwin | 2007-07-22 16:00:59 -0700 (Sun, 22 Jul 2007) | 4 lines
Changed paths:
   D /trunk/www/release_figures/1.2.0/statef_grid_main-oldversion.f
   D /trunk/www/release_figures/1.2.0/statef_tabulate_model_main-oldversion.f

These special versions (where free_eos changed to awieos)
not needed for 1.1.0 because the installed version of that library has
a free_eos wrapper for awieos.

------------------------------------------------------------------------
r666 | airwin | 2007-07-22 15:58:23 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.1.0/newversion-oldversion_dgamma1.py

Change azimuth from 35 deg to -35 deg.

------------------------------------------------------------------------
r665 | airwin | 2007-07-22 15:57:23 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/newversion-oldversion_1.0_model.py

Tweak output, log ==> log10

------------------------------------------------------------------------
r664 | airwin | 2007-07-22 15:56:19 -0700 (Sun, 22 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.2.0/Makefile

Update from 1.1.0 ==> 1.2.0 including getting rid of many of the OLDV
specials associated with version 1.0.0.

------------------------------------------------------------------------
r663 | airwin | 2007-07-22 15:54:42 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/Makefile

More thorough clean target.

------------------------------------------------------------------------
r662 | airwin | 2007-07-22 15:53:41 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/tc.py
   M /trunk/www/release_figures/1.2.0/tc.py

Make z axis of thermodynamic inconsistency plot logarithmic.

------------------------------------------------------------------------
r661 | airwin | 2007-07-22 13:23:15 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.2.0 (from /trunk/www/release_figures/1.1.0:658)
   R /trunk/www/release_figures/1.2.0/Makefile (from /trunk/www/release_figures/1.1.0/Makefile:659)
   R /trunk/www/release_figures/1.2.0/abund.dat (from /trunk/www/release_figures/1.1.0/abund.dat:657)
   R /trunk/www/release_figures/1.2.0/newversion (from /trunk/www/release_figures/1.1.0/newversion:657)
   R /trunk/www/release_figures/1.2.0/newversion/statef_delta_grid.in (from /trunk/www/release_figures/1.1.0/newversion/statef_delta_grid.in:659)
   R /trunk/www/release_figures/1.2.0/newversion/statef_delta_tabulate_model.in (from /trunk/www/release_figures/1.1.0/newversion/statef_delta_tabulate_model.in:659)
   R /trunk/www/release_figures/1.2.0/newversion-oldversion.py (from /trunk/www/release_figures/1.1.0/newversion-oldversion.py:659)
   R /trunk/www/release_figures/1.2.0/newversion-oldversion_1.0_model.py (from /trunk/www/release_figures/1.1.0/newversion-oldversion_1.0_model.py:659)
   R /trunk/www/release_figures/1.2.0/newversion-oldversion_dgamma1.py (from /trunk/www/release_figures/1.1.0/newversion-oldversion_dgamma1.py:659)
   R /trunk/www/release_figures/1.2.0/oldversion (from /trunk/www/release_figures/1.1.0/oldversion:657)
   R /trunk/www/release_figures/1.2.0/oldversion/statef_grid.in (from /trunk/www/release_figures/1.1.0/oldversion/statef_grid.in:659)
   R /trunk/www/release_figures/1.2.0/plplot_python_start.py (from /trunk/www/release_figures/1.1.0/plplot_python_start.py:657)
   R /trunk/www/release_figures/1.2.0/rho-T-loci (from /trunk/www/release_figures/1.1.0/rho-T-loci:657)
   R /trunk/www/release_figures/1.2.0/statef_grid_main-oldversion.f (from /trunk/www/release_figures/1.1.0/statef_grid_main-oldversion.f:657)
   R /trunk/www/release_figures/1.2.0/statef_tabulate_model_main-oldversion.f (from /trunk/www/release_figures/1.1.0/statef_tabulate_model_main-oldversion.f:657)
   A /trunk/www/release_figures/1.2.0/tc.py (from /trunk/www/release_figures/1.1.0/tc.py:659)
   R /trunk/www/release_figures/1.2.0/thermodynamic_consistency (from /trunk/www/release_figures/1.1.0/thermodynamic_consistency:657)
   R /trunk/www/release_figures/1.2.0/version-oldversion.f (from /trunk/www/release_figures/1.1.0/version-oldversion.f:657)

Copy 1.1.0 to 1.2.0

------------------------------------------------------------------------
r660 | airwin | 2007-07-22 13:19:46 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   D /trunk/www/release_figures/1.2.0

Get rid of empty 1.2.0 directory to make room for svn copy.

------------------------------------------------------------------------
r659 | airwin | 2007-07-22 13:15:25 -0700 (Sun, 22 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/Makefile
   M /trunk/www/release_figures/1.1.0/newversion/statef_delta_grid.in
   M /trunk/www/release_figures/1.1.0/newversion/statef_delta_tabulate_model.in
   M /trunk/www/release_figures/1.1.0/newversion-oldversion.py
   M /trunk/www/release_figures/1.1.0/newversion-oldversion_1.0_model.py
   M /trunk/www/release_figures/1.1.0/newversion-oldversion_dgamma1.py
   M /trunk/www/release_figures/1.1.0/oldversion/statef_grid.in
   A /trunk/www/release_figures/1.1.0/tc.py

Final adjustments to make good-looking results for 1.1.0 versus 1.0.0 +
1.1.0 thermodynamic inconsistency figures.

------------------------------------------------------------------------
r658 | airwin | 2007-07-22 13:13:08 -0700 (Sun, 22 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0

Tweak svn:ignore property

------------------------------------------------------------------------
r657 | airwin | 2007-07-22 13:10:13 -0700 (Sun, 22 Jul 2007) | 5 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/statef_grid_main-oldversion.f
   A /trunk/www/release_figures/1.1.0/statef_tabulate_model_main-oldversion.f
   A /trunk/www/release_figures/1.1.0/version-oldversion.f

These special variations required because 1.0.0 library has no free_eos
wrapper for awieos.  N.B. 1.1.0 has such a wrapper (added to the tarball
version for convenience), and 1.2.0 shifted to using free_eos exclusively.


------------------------------------------------------------------------
r656 | airwin | 2007-07-21 11:07:03 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0

Tweak svn:ignore property

------------------------------------------------------------------------
r655 | airwin | 2007-07-21 11:05:36 -0700 (Sat, 21 Jul 2007) | 5 lines
Changed paths:
   D /trunk/www/release_figures/1.1.0/1.1.0-1.0.0.py
   D /trunk/www/release_figures/1.1.0/1.1.0-1.0.0_1.0_model.py
   D /trunk/www/release_figures/1.1.0/1.1.0-1.0.0_dgamma1.py
   A /trunk/www/release_figures/1.1.0/newversion-oldversion.py (from /trunk/www/release_figures/1.1.0/1.1.0-1.0.0.py:648)
   A /trunk/www/release_figures/1.1.0/newversion-oldversion_1.0_model.py (from /trunk/www/release_figures/1.1.0/1.1.0-1.0.0_1.0_model.py:648)
   A /trunk/www/release_figures/1.1.0/newversion-oldversion_dgamma1.py (from /trunk/www/release_figures/1.1.0/1.1.0-1.0.0_dgamma1.py:648)

Rename 
1.1.0-1.0.0_dgamma1.py ==> newversion-oldversion_dgamma1.py
1.1.0-1.0.0_1.0_model.py ==> newversion-oldversion_1.0_model.py
1.1.0-1.0.0.py ==> newversion-oldversion.py

------------------------------------------------------------------------
r654 | airwin | 2007-07-21 11:02:38 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   D /trunk/www/release_figures/1.1.0/1.1.0
   A /trunk/www/release_figures/1.1.0/newversion (from /trunk/www/release_figures/1.1.0/1.1.0:647)

Rename 1.1.0 ==> newversion

------------------------------------------------------------------------
r653 | airwin | 2007-07-21 11:00:41 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   D /trunk/www/release_figures/1.1.0/1.0.0
   A /trunk/www/release_figures/1.1.0/oldversion (from /trunk/www/release_figures/1.1.0/1.0.0:647)

rename 1.1.0 oldversion

------------------------------------------------------------------------
r652 | airwin | 2007-07-21 10:22:48 -0700 (Sat, 21 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/thermodynamic_consistency/abund.dat
   A /trunk/www/release_figures/1.1.0/thermodynamic_consistency/statef_compare.in

These control files help generate data required for thermodynamic consistency
figure.

------------------------------------------------------------------------
r651 | airwin | 2007-07-21 10:20:11 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/thermodynamic_consistency

Create svn:ignore property to ignore generated files.

------------------------------------------------------------------------
r650 | airwin | 2007-07-21 10:18:10 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/thermodynamic_consistency

Put this directory under svn control.

------------------------------------------------------------------------
r649 | airwin | 2007-07-21 09:37:59 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/Makefile

Files required to generate 1.1.0-1.0.0 figures.

------------------------------------------------------------------------
r648 | airwin | 2007-07-21 09:37:17 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/1.1.0-1.0.0.py
   A /trunk/www/release_figures/1.1.0/1.1.0-1.0.0_1.0_model.py
   A /trunk/www/release_figures/1.1.0/1.1.0-1.0.0_dgamma1.py
   A /trunk/www/release_figures/1.1.0/abund.dat
   A /trunk/www/release_figures/1.1.0/plplot_python_start.py
   A /trunk/www/release_figures/1.1.0/rho-T-loci

Files required to generate 1.1.0-1.0.0 figures.

------------------------------------------------------------------------
r647 | airwin | 2007-07-21 09:28:14 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/1.1.0/abund.dat
   A /trunk/www/release_figures/1.1.0/1.1.0/statef_delta_grid.in
   A /trunk/www/release_figures/1.1.0/1.1.0/statef_delta_tabulate_model.in

Input files for creating 1.1.0-1.0.0 comparison figures.

------------------------------------------------------------------------
r646 | airwin | 2007-07-21 09:27:08 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/1.1.0

Create svn:ignore property to ignore generated files.

------------------------------------------------------------------------
r645 | airwin | 2007-07-21 09:25:33 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/1.0.0/abund.dat
   A /trunk/www/release_figures/1.1.0/1.0.0/statef_grid.in
   A /trunk/www/release_figures/1.1.0/1.0.0/statef_tabulate_model.in

Files to control data generation for 1.0.0.

------------------------------------------------------------------------
r644 | airwin | 2007-07-21 09:24:22 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/release_figures/1.1.0/1.0.0

svn:ignore property edited to ignore generated files.

------------------------------------------------------------------------
r643 | airwin | 2007-07-21 09:21:56 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0/1.0.0
   A /trunk/www/release_figures/1.1.0/1.1.0

Put these directories under svn control.

------------------------------------------------------------------------
r642 | airwin | 2007-07-21 09:07:25 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures/1.1.0
   A /trunk/www/release_figures/1.2.0
   A /trunk/www/release_figures/1.3.0
   A /trunk/www/release_figures/1.4.0
   A /trunk/www/release_figures/1.5.0
   A /trunk/www/release_figures/1.6.0
   A /trunk/www/release_figures/2.0.0

Put these directories under subversion control

------------------------------------------------------------------------
r641 | airwin | 2007-07-21 08:58:33 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/release_figures

Put release_figures directory under svn control.

------------------------------------------------------------------------
r640 | airwin | 2007-07-21 08:51:23 -0700 (Sat, 21 Jul 2007) | 4 lines
Changed paths:
   M /trunk/utils/free_eos_test.in

Tweak to second (unused) density to be consistent with
free_eos_test.out_standard output.


------------------------------------------------------------------------
r639 | airwin | 2007-07-21 08:42:10 -0700 (Sat, 21 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/index.html

News item about new figures plus other small changes.

------------------------------------------------------------------------
r638 | airwin | 2007-07-20 17:14:57 -0700 (Fri, 20 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/CMakeLists.txt
   A /trunk/www/announcement-2.1.0.html
   M /trunk/www/index.html

Copy file changes from the 2.1.0 tag of www to trunk

------------------------------------------------------------------------
r637 | airwin | 2007-07-20 16:52:45 -0700 (Fri, 20 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution

Tweak svn:ignore property.

------------------------------------------------------------------------
r636 | airwin | 2007-07-20 16:41:39 -0700 (Fri, 20 Jul 2007) | 16 lines
Changed paths:
   M /trunk/www/eospaper/solution/Makefile

Make special version of free_eos_opal_model to link to 2.2.0_pi_EOS_2001
which is modern 2.2.0 with revision 634 of pi_fit.h which mimicked the old
pressure-ionization coefficients from revision 91 which were used to fit
EOS_2001.  Note, the revision 91 pressure-ionization coefficients replicated
in revision 634 were never made part of an official FreeEOS release because
of problems discovered with the EOS_2001 OPAL tabulation which distorted the
fitted coefficients.

The figure resulting from the special version of free_eos_opal_model is
opal_solar.ps.  This figure is very similar to a historical result from the
original solution paper figures which was generated with revision 91, and
this good agreement confirms revision 634 of pi_fit.h really does replicate
the revision 91 result (albeit with all sorts of programming details
improved in the overall FreeEOS code for the latest result).


------------------------------------------------------------------------
r635 | airwin | 2007-07-20 16:24:21 -0700 (Fri, 20 Jul 2007) | 10 lines
Changed paths:
   M /trunk/include/pi_fit.h

The previous revision replicates the old solution paper results for the
comparison between OPAL EOS_2001 and FreeEOS revised to make the best fit to
the EOS_2001 data.  However, that fit is a special case, and for the
forthcoming release revert back to the pressure-ionization fitting
coefficients that have been used for essentially all official releases of
FreeEOS because the pressure-ionization coefficients adjusted to fit
EOS_2001 were distorted by problems with that OPAL tabulation alluded to
in the solution paper.


------------------------------------------------------------------------
r634 | airwin | 2007-07-20 16:16:22 -0700 (Fri, 20 Jul 2007) | 3 lines
Changed paths:
   M /trunk/include/pi_fit.h

Commit to make permanent record of pressure-ionization fitting
coefficients that were used from revision 91 for EOS_2001 fits.

------------------------------------------------------------------------
r633 | airwin | 2007-07-20 14:55:56 -0700 (Fri, 20 Jul 2007) | 2 lines
Changed paths:
   M /trunk/src/CMakeLists.txt

Install README.developers

------------------------------------------------------------------------
r632 | airwin | 2007-07-20 14:49:03 -0700 (Fri, 20 Jul 2007) | 3 lines
Changed paths:
   M /trunk/utils/CMakeLists.txt

Install README.* files in the principal doc directory rather than the html
subdirectory of that directory.

------------------------------------------------------------------------
r631 | airwin | 2007-07-20 10:38:52 -0700 (Fri, 20 Jul 2007) | 30 lines
Changed paths:
   M /trunk/CMakeLists.txt

(1) Use

"^${PROJECT_SOURCE_DIR}/www/"

in the CPACK_SOURCE_IGNORE_FILES list to exclude all the www directory from
the source distribution tarball.  www includes the files used (in
combination with files and utils library available only on my local machine)
to generate the papers that are part of the website.

(2) Comment out

add_subdirectory(www)

These two changes mean the website and the partial means to produce it) are
not included in the tarball, and therefore, the website must not be locally
installed (which is the reason the add_subdirectory command was commented
out).

The reason for this decision to drop the website and its partial means of
production from the tarball is the full website includes the *.pdf form of
the papers which is 7MB and growing.  Also, the means of production include
1MB of data files which CMake copies 4 times rather than properly
propagating the symlinks. Ultimately, I did not want to expand the tarball
by ~12M just to provide redundant information that can be downloaded from
the real website.

The result of the two above changes is the source distribution tarball
shrinks from 12MB to 0.4MB.


------------------------------------------------------------------------
r630 | airwin | 2007-07-20 10:00:53 -0700 (Fri, 20 Jul 2007) | 67 lines
Changed paths:
   M /trunk/CMakeLists.txt

Best attempt at CPACK_SOURCE_IGNORE_FILES which excludes generated files
in the eospaper directory using the results of

svn propget svn:ignore --recursive . | ./ignore.py

to transform svn:ignore data into the regex's required by
CPACK_SOURCE_IGNORE_FILES.  The ignore.py result was put into
CPACK_SOURCE_IGNORE_FILES with the following changes:

CMake 2.4.7 (and possibly prior versions) has a bug that does not preserve
symlinks in source distributions.  Therefore, had to specially remove the
full directory copies of sweigart, EOS2001, and opal_tables_new by
specifying

"^${PROJECT_SOURCE_DIR}.*/sweigart/"
"^${PROJECT_SOURCE_DIR}/www/eospaper/solution/eos2001/"
"^${PROJECT_SOURCE_DIR}/www/eospaper/solution/opal_tables_new/"

I also commented out all the five pdf forms of the paper in the list so
the tarball would include those generated papers.

Vanilla 2.4.7 has a memory exhaustion problem which precludes using more
than ~30 regexes in CPACK_SOURCE_IGNORE_FILES.  Since the above list
was roughly 300 regexes I had to apply the following patch (which will
probably get into 2.4.8) to cmake source code:

--- cmCommandArgumentParser.cxx_original        2007-07-19 13:48:58.000000000 -0700
+++ cmCommandArgumentParser.cxx 2007-07-19 13:54:09.000000000 -0700
@@ -162,8 +162,9 @@
 static void cmCommandArgumentError(yyscan_t yyscanner, const char* message);
 
 #define YYDEBUG 1
-//#define YYMAXDEPTH 100000
-//#define YYINITDEPTH 10000
+//Temperary test by AWI to uncomment the next two lines
+#define YYMAXDEPTH 100000
+#define YYINITDEPTH 10000
 
 
 /* Disable some warnings in the generated code.  */

... to process the full CPACK_SOURCE_IGNORE_FILES and generate the tarball
for the source distribution of FreeEOS.

The unpacked source distribution tarball allowed me to regenerate the 5
papers (eff_fit, solution, coulomb, exchange, and convergence) with exact
agreement (except for dates) with the papers generated for the svn version.
This is a good test that the svn:ignore properties have been set up properly
and propagated to CPACK_SOURCE_IGNORE_FILES via the ignore.py script. Note,
the symlink to the sweigart directory wasn't needed, but the solution
symlinks to eos2001 and opal_tables_new had to be created in the unpacked
source distribution in order to generate the solution paper.

N.B. this commit is just to preserve the state of the art for the
possibility of generating the papers from a source distribution tarball by
putting all files under svn control into the source distribution tarball.
But practically speaking, no user other than myself can take advantage of
this paper building capability since I haven't distributed the FreeEOS util
libraries I have created on my local machine.  In any case, no user would
want to go to the bother of generating the papers when they are already
available for download from the FreeEOS website.  Thus, after this commit to
demonstrate that paper generation can be done from the source distribution
tarball (at least for me), I will exclude eospaper from now on to make a
slim distribution tarball without papers and with no capability of paper
generation.


------------------------------------------------------------------------
r629 | airwin | 2007-07-18 20:24:35 -0700 (Wed, 18 Jul 2007) | 3 lines
Changed paths:
   A /trunk/ignore.py

Initial commit of python script to turn svn:ignore data into a CMake list
that can be appended to CPACK_SOURCE_IGNORE_FILES.

------------------------------------------------------------------------
r628 | airwin | 2007-07-18 18:57:08 -0700 (Wed, 18 Jul 2007) | 6 lines
Changed paths:
   M /trunk/utils/free_eos_test.in
   M /trunk/utils/free_eos_test.out_standard

Convergence now works quite nicely so change back to a test at a single point
(log rho = 0. log T = 5.).  The results differ in the 11th figure or so
from the previous results (when looking at the single point), but that is
expected since the code has been so reorganized, and we are using a cold
start rather than a Taylor series.

------------------------------------------------------------------------
r627 | airwin | 2007-07-18 18:25:19 -0700 (Wed, 18 Jul 2007) | 4 lines
Changed paths:
   A /trunk/include/pi_fit.h
   M /trunk/src/CMakeLists.txt
   M /trunk/src/effective_radius.f
   M /trunk/src/mdh_pi.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qstar_calc.f

Reorganize code so that pi_fit.h is used to contain all pressure-ionization
fitting factors that are adjusted for a fit.


------------------------------------------------------------------------
r626 | airwin | 2007-07-18 17:03:57 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/free_eos_detailed.f

Tweak commentary about pressure-ionization fitting factors.

------------------------------------------------------------------------
r625 | airwin | 2007-07-18 16:49:08 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/include/eos_free_calc_argument.h
   M /trunk/include/excitation_block.h
   M /trunk/src/effective_radius.f
   M /trunk/src/eos_bfgs.f
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_jacobian.f
   M /trunk/src/eos_tqft.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qstar_calc.f

Variable name change (done with sed) iffudgepi ==> ifpi_fit

------------------------------------------------------------------------
r624 | airwin | 2007-07-18 15:08:50 -0700 (Wed, 18 Jul 2007) | 6 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Reinstate previous revision 312 because revision 504 is the result of a
complete screw up of committing the wrong file (actually was
test_rosenbrock.out_standard) with a commit message appropriate to what I
thought was a test_rosenbrock.out_standard update rather than the actual
free_eos_test.out_standard update.

------------------------------------------------------------------------
r623 | airwin | 2007-07-18 14:19:25 -0700 (Wed, 18 Jul 2007) | 3 lines
Changed paths:
   M /trunk/utils/test_rosenbrock.out_standard

More complete convergence now because of bfgs changes and
test_rosenbrock_main taking advantage of those changes.

------------------------------------------------------------------------
r622 | airwin | 2007-07-18 09:05:15 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/0.1_model.py
   M /trunk/www/eospaper/eff_fit/0.3_model.py
   M /trunk/www/eospaper/eff_fit/1.0_model.py
   M /trunk/www/eospaper/eff_fit/context.py
   M /trunk/www/eospaper/eff_fit/context_fg.py
   M /trunk/www/eospaper/eff_fit/eff_f.py
   M /trunk/www/eospaper/eff_fit/eff_fg.py
   M /trunk/www/eospaper/eff_fit/eff_rhot.py
   M /trunk/www/eospaper/eff_fit/rgbtip.1.0_model.py
   M /trunk/www/eospaper/eff_fit/tc.py
   M /trunk/www/eospaper/eff_fit/zahb.1.0_model.py

Improved character height for eff_fit plots.

------------------------------------------------------------------------
r621 | airwin | 2007-07-18 08:39:43 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/context.py
   M /trunk/www/eospaper/solution/rtc.py
   M /trunk/www/eospaper/solution/tc.py

Improved character height for all python scripts.

------------------------------------------------------------------------
r620 | airwin | 2007-07-18 06:37:58 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/0.1_model.py
   M /trunk/www/eospaper/eff_fit/0.3_model.py
   M /trunk/www/eospaper/eff_fit/1.0_model.py
   M /trunk/www/eospaper/eff_fit/context.py
   M /trunk/www/eospaper/eff_fit/context_fg.py
   M /trunk/www/eospaper/eff_fit/eff_f.py
   M /trunk/www/eospaper/eff_fit/eff_fg.py
   M /trunk/www/eospaper/eff_fit/eff_rhot.py
   M /trunk/www/eospaper/eff_fit/rgbtip.1.0_model.py
   M /trunk/www/eospaper/eff_fit/tc.py
   M /trunk/www/eospaper/eff_fit/zahb.1.0_model.py

plParseOpts ==> plparseopts

------------------------------------------------------------------------
r619 | airwin | 2007-07-18 06:31:25 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/Makefile

Improved local location for the installed yplotl programme.

------------------------------------------------------------------------
r618 | airwin | 2007-07-18 06:30:18 -0700 (Wed, 18 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/solution/opal_solar/opal_compare_model.in

opal_compare_model needs two extra lines now to specify the OPAL EOS tables
being compared.  Put those two extra lines in the control file.

------------------------------------------------------------------------
r617 | airwin | 2007-07-18 06:27:36 -0700 (Wed, 18 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/context.py
   M /trunk/www/eospaper/solution/rtc.py
   M /trunk/www/eospaper/solution/tc.py

plParseOpts ==> plparseopts

------------------------------------------------------------------------
r616 | airwin | 2007-07-17 19:16:08 -0700 (Tue, 17 Jul 2007) | 4 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/Makefile

Better (local) yplotl path.

Remove extraneous fort.* files after context data are collected.

------------------------------------------------------------------------
r615 | airwin | 2007-07-17 18:01:09 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/coulomb_adjust.i

yplot command file to create coulomb_adjust figure.

------------------------------------------------------------------------
r614 | airwin | 2007-07-17 18:00:11 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/coulomb_adjust/coulomb_adjust.in

Input file needed to generate coulomb_adjust figure.

------------------------------------------------------------------------
r613 | airwin | 2007-07-17 17:58:52 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/coulomb_adjust

svn:ignore property set to ignore generated files.

------------------------------------------------------------------------
r612 | airwin | 2007-07-17 17:54:32 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/coulomb_adjust

Bring coulomb_adjust directory under svn control.

------------------------------------------------------------------------
r611 | airwin | 2007-07-17 17:10:31 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence
   M /trunk/www/eospaper/coulomb
   M /trunk/www/eospaper/eff_fit
   M /trunk/www/eospaper/exchange
   M /trunk/www/eospaper/solution

Tweak svn:ignore property.

------------------------------------------------------------------------
r610 | airwin | 2007-07-17 15:05:03 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/Makefile

Add rules for generating rho-T loci that are needed for plots.

------------------------------------------------------------------------
r609 | airwin | 2007-07-17 14:02:16 -0700 (Tue, 17 Jul 2007) | 4 lines
Changed paths:
   A /trunk/www/eospaper/README.symlinks

Details of the external data directories that must be downloaded and
arranged in order to run the paper builds.


------------------------------------------------------------------------
r608 | airwin | 2007-07-17 12:53:25 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/exchange/exchange_check
   M /trunk/www/eospaper/exchange/model-loci
   M /trunk/www/eospaper/exchange/thermodynamic_consistency

Tweak svn:ignore property

------------------------------------------------------------------------
r607 | airwin | 2007-07-17 12:48:53 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/exchange/context/statef_grid.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_JNR.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_Jseries.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_KNR.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_Kseries.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_check34.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_check35.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_check36.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_check44.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_check45.in
   A /trunk/www/eospaper/exchange/exchange_check/exchange_check46.in
   A /trunk/www/eospaper/exchange/exchange_check/statef_compare_1_exchange.in
   A /trunk/www/eospaper/exchange/exchange_check/statef_compare_2_exchange.in
   A /trunk/www/eospaper/exchange/exchange_check/statef_compare_linear_exchange.in
   A /trunk/www/eospaper/exchange/exchange_check/statef_compare_noexchange.in
   A /trunk/www/eospaper/exchange/exchange_check/statef_compare_nr_exchange.in
   A /trunk/www/eospaper/exchange/exchange_check/statef_compare_series_exchange.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_0.1.model.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_0.3.model.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_1.0.model.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_1.0.model_linear.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_1.0.model_noexchange.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_1.0.model_nr.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_1.0.rgbtip.model.in
   A /trunk/www/eospaper/exchange/model-loci/statef_model_1.0.zahb.model.in
   A /trunk/www/eospaper/exchange/thermodynamic_consistency/statef_compare.in

Files to control data generation needed for exchange paper plots.

------------------------------------------------------------------------
r606 | airwin | 2007-07-17 12:47:21 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/exchange/context
   M /trunk/www/eospaper/exchange/exchange_check
   M /trunk/www/eospaper/exchange/model-loci
   M /trunk/www/eospaper/exchange/thermodynamic_consistency

svn:ignore property set to ignore generated files.

------------------------------------------------------------------------
r605 | airwin | 2007-07-17 12:32:31 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/exchange/context/abund.dat
   A /trunk/www/eospaper/exchange/exchange_check/abund.dat
   A /trunk/www/eospaper/exchange/model-loci/abund.dat
   A /trunk/www/eospaper/exchange/thermodynamic_consistency/abund.dat

Commit symlink for abund.dat to master symlink that is under svn control.

------------------------------------------------------------------------
r604 | airwin | 2007-07-17 12:30:20 -0700 (Tue, 17 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/exchange/context
   A /trunk/www/eospaper/exchange/exchange_check
   A /trunk/www/eospaper/exchange/model-loci
   A /trunk/www/eospaper/exchange/rho-T-loci
   A /trunk/www/eospaper/exchange/thermodynamic_consistency

Put these directories (or this symlink in the case of rho-T-loci) under svn
control.

------------------------------------------------------------------------
r603 | airwin | 2007-07-17 12:28:41 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/exchange

svn:ignore property set to ignored generated files.

------------------------------------------------------------------------
r602 | airwin | 2007-07-17 12:22:40 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/plplot_python_start.py

Use Python interface for cutting-edge version of PLplot.

------------------------------------------------------------------------
r601 | airwin | 2007-07-17 09:49:11 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/exchange/Makefile

Specialized Makefile to build paper from source.

------------------------------------------------------------------------
r600 | airwin | 2007-07-17 09:48:30 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/exchange/exchange.tex

LaTeX source of exchange paper.

------------------------------------------------------------------------
r599 | airwin | 2007-07-17 09:47:59 -0700 (Tue, 17 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/exchange/exchange_coeff.f

Symlink to fortran source code under svn control which is used to generate
tables of fitting coefficients for paper. 

------------------------------------------------------------------------
r598 | airwin | 2007-07-17 09:39:59 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/exchange/1.0_model_exchange.py
   A /trunk/www/eospaper/exchange/context.py
   A /trunk/www/eospaper/exchange/context_fg.py
   A /trunk/www/eospaper/exchange/exchange_JNR.py
   A /trunk/www/eospaper/exchange/exchange_KNR.py
   A /trunk/www/eospaper/exchange/exchange_approx_rhot.py
   A /trunk/www/eospaper/exchange/exchange_coeff_table.py
   A /trunk/www/eospaper/exchange/exchange_fg.py
   A /trunk/www/eospaper/exchange/exchange_rhot.py
   A /trunk/www/eospaper/exchange/exchange_series.py
   A /trunk/www/eospaper/exchange/plplot_python_start.py
   A /trunk/www/eospaper/exchange/tc.py

Python scripts to generate figures for exchange paper.

------------------------------------------------------------------------
r597 | airwin | 2007-07-17 09:21:22 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/exchange/README.mem

More comprehensive description of *.mem files.

------------------------------------------------------------------------
r596 | airwin | 2007-07-17 09:13:11 -0700 (Tue, 17 Jul 2007) | 3 lines
Changed paths:
   D /trunk/www/eospaper/exchange/kapusta_exchange.mem_old
   A /trunk/www/eospaper/exchange/kapusta_exchange_19960518.mem (from /trunk/www/eospaper/exchange/kapusta_exchange.mem_old:593)

Rename kapusta_exchange.mem_old to kapusta_exchange_19960518.mem to be
consistent with the date of this memo and the .mem suffix.

------------------------------------------------------------------------
r595 | airwin | 2007-07-17 09:09:15 -0700 (Tue, 17 Jul 2007) | 3 lines
Changed paths:
   D /trunk/www/eospaper/exchange/exchange.mem

Remove exchange.mem from svn control since it is too old to be the slightest
bit relevant.

------------------------------------------------------------------------
r594 | airwin | 2007-07-17 09:01:49 -0700 (Tue, 17 Jul 2007) | 5 lines
Changed paths:
   D /trunk/www/eospaper/exchange/README
   A /trunk/www/eospaper/exchange/README.mem (from /trunk/www/eospaper/exchange/README:593)

All the *.mem* files refer to derivations.  Since README not only gives an
overview of the other *.mem* files, but then adds more derivations, rename
it to README.mem to be consistent with the other *.mem* files.


------------------------------------------------------------------------
r593 | airwin | 2007-07-17 08:54:56 -0700 (Tue, 17 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/exchange/KIvsI.mem
   A /trunk/www/eospaper/exchange/README
   A /trunk/www/eospaper/exchange/exchange.mem
   A /trunk/www/eospaper/exchange/kapusta_exchange.mem
   A /trunk/www/eospaper/exchange/kapusta_exchange.mem_old
   A /trunk/www/eospaper/exchange/kapusta_integral_transform.mem
   A /trunk/www/eospaper/exchange/kovetz.mem
   A /trunk/www/eospaper/exchange/maxima.mem
   A /trunk/www/eospaper/exchange/mks.mem

Various memos with exchange integral derivations that were used in paper.

------------------------------------------------------------------------
r592 | airwin | 2007-07-16 19:37:08 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/opal_solar

Tweak svn:ignore property.

------------------------------------------------------------------------
r591 | airwin | 2007-07-16 19:34:59 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/solution/opal_solar/abund.dat
   A /trunk/www/eospaper/solution/opal_solar/opal_compare_model.in
   A /trunk/www/eospaper/solution/opal_solar/statef_opal_model.in
   A /trunk/www/eospaper/solution/opal_solar/statef_opal_model_1995.in

Input files required to generate figures comparing FreeEOS and OPAL results
and intercomparing OPAL results for the solution paper.

------------------------------------------------------------------------
r590 | airwin | 2007-07-16 19:33:34 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution/opal_solar

svn:ignore property set to ignore generated files

------------------------------------------------------------------------
r589 | airwin | 2007-07-16 19:29:13 -0700 (Mon, 16 Jul 2007) | 5 lines
Changed paths:
   A /trunk/www/eospaper/solution/eos2001
   A /trunk/www/eospaper/solution/opal_solar
   A /trunk/www/eospaper/solution/opal_tables_new
   A /trunk/www/eospaper/solution/rho-T-loci

Put under svn control the opal_solar directory, symlinks to the local
eos2001 and opal_tables_new directories, and a symlink to the rho-T-loci
directory that is already under svn control.


------------------------------------------------------------------------
r588 | airwin | 2007-07-16 19:23:03 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/solution/thermodynamic_consistency/abund.dat
   A /trunk/www/eospaper/solution/thermodynamic_consistency/statef_compare.in
   A /trunk/www/eospaper/solution/thermodynamic_consistency/statef_compare_r.in

Input files required to prepare thermodynamic consistency plots for solution
paper.

------------------------------------------------------------------------
r587 | airwin | 2007-07-16 19:21:48 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/solution/thermodynamic_consistency

svn:ignore property set to ignore generated files.

------------------------------------------------------------------------
r586 | airwin | 2007-07-16 19:12:22 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/solution

svn:ignore property set to ignore generated files.

------------------------------------------------------------------------
r585 | airwin | 2007-07-16 19:02:59 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/solution/Makefile

Makefile for generating solution paper.

------------------------------------------------------------------------
r584 | airwin | 2007-07-16 19:02:38 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/solution/solution.tex

LaTeX source for solution paper.

------------------------------------------------------------------------
r583 | airwin | 2007-07-16 19:01:39 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/solution/context.py
   A /trunk/www/eospaper/solution/plplot_python_start.py
   A /trunk/www/eospaper/solution/rtc.py
   A /trunk/www/eospaper/solution/tc.py

Python scripts for solution paper plots.

------------------------------------------------------------------------
r582 | airwin | 2007-07-16 19:00:42 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/solution/opal_compare_solar.i
   A /trunk/www/eospaper/solution/opal_compare_solar_radial.i
   A /trunk/www/eospaper/solution/opal_solar.i
   A /trunk/www/eospaper/solution/opal_solar_1995.i
   A /trunk/www/eospaper/solution/opal_solar_radial.i
   A /trunk/www/eospaper/solution/opal_solar_radial_1995.i

yplot scripts for solution paper plots.

------------------------------------------------------------------------
r581 | airwin | 2007-07-16 18:53:26 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/fermi_dirac_approx

svn:ignore property edited to ignore generated files.

------------------------------------------------------------------------
r580 | airwin | 2007-07-16 18:51:58 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/fermi_dirac_approx/abund.dat
   A /trunk/www/eospaper/eff_fit/fermi_dirac_approx/statef_compare15.in
   A /trunk/www/eospaper/eff_fit/fermi_dirac_approx/statef_compare23.in

Files used to generate FreeEOS comparisons for various Fermi-Dirac
approximations.

------------------------------------------------------------------------
r579 | airwin | 2007-07-16 18:49:18 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/model-loci

svn:ignore property set to ignore generated files.

------------------------------------------------------------------------
r578 | airwin | 2007-07-16 18:48:32 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/model-loci/abund.dat

Historical solar abundance data used for eff_fit paper FreeEOS results.

------------------------------------------------------------------------
r577 | airwin | 2007-07-16 18:40:20 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_0.1.model.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_0.1.model_13.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_0.1.model_23.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_0.3.model.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_0.3.model_13.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_0.3.model_23.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_1.0.model.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_1.0.model_13.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_1.0.model_15.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_1.0.model_23.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_1.0.model_rel.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_hot_post_agb.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_rgb_tip.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_rgbtip.1.0.model.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_rgbtip.1.0.model_13.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_rgbtip.1.0.model_23.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_start_shellflash.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_white_dwarf.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_zahb.1.0.model.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_zahb.1.0.model_13.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_zahb.1.0.model_23.in
   A /trunk/www/eospaper/eff_fit/model-loci/statef_model_zahb.in

Various control files for generating FreeEOS model results for a variety of 
model loci and FreeEOS options.

------------------------------------------------------------------------
r576 | airwin | 2007-07-16 18:37:19 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/rho-T-loci

svn:ignore property updated to ignore generated files.

------------------------------------------------------------------------
r575 | airwin | 2007-07-16 18:36:25 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/rho-T-loci/rgbtip.1.0.model
   A /trunk/www/eospaper/eff_fit/rho-T-loci/zahb.1.0.model

Selected VandenBerg models for plotting purposes.

------------------------------------------------------------------------
r574 | airwin | 2007-07-16 18:31:16 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/rho-T-loci/gong

svn:ignore property edited to ignored generated files.

------------------------------------------------------------------------
r573 | airwin | 2007-07-16 18:29:44 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m0085eos1gong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m0085eos2gong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m0085eos3gong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m0085eos4gong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m0085ptehgong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m01premiergong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m01ptehgong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m03premiergong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/m10premiergong.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/test.data
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong/test1.data

Some selected Don VandenBerg models in gong format for plotting purposes.

------------------------------------------------------------------------
r572 | airwin | 2007-07-16 18:21:58 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/stru_001zsun_zams.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/stru_003zsun_zams.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/stru_010zsun_tip.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/stru_010zsun_zahb.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/stru_010zsun_zams.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/strut0p1M_AI.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/strut0p1M_SCV.dat
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/strutt0075_corr
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi/strutt0075_err

Make selected Cassisi models available for paper figures.

------------------------------------------------------------------------
r571 | airwin | 2007-07-16 18:20:12 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/rho-T-loci/cassisi
   A /trunk/www/eospaper/eff_fit/rho-T-loci/gong
   A /trunk/www/eospaper/eff_fit/rho-T-loci/sweigart

Put these directories under svn control for eff_fit paper.

------------------------------------------------------------------------
r570 | airwin | 2007-07-16 18:19:21 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/fermi_dirac_approx
   A /trunk/www/eospaper/eff_fit/model-loci
   A /trunk/www/eospaper/eff_fit/rho-T-loci

Start of putting these directories under svn control for eff_fit paper.

------------------------------------------------------------------------
r569 | airwin | 2007-07-16 18:06:52 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/thermodynamic_consistency/abund.dat
   A /trunk/www/eospaper/eff_fit/thermodynamic_consistency/statef_compare.in

Input files required to generate (test) thermodynamic consistency figure.

------------------------------------------------------------------------
r568 | airwin | 2007-07-16 18:03:37 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/thermodynamic_consistency

svn:ignore: ignore generated files.

------------------------------------------------------------------------
r567 | airwin | 2007-07-16 17:57:52 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit

svn:ignore property for directory edited to ignore files generated as part
of eff_fit paper preparation.

------------------------------------------------------------------------
r566 | airwin | 2007-07-16 17:43:29 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/Changes

Possible future changes for eff_fit paper.

------------------------------------------------------------------------
r565 | airwin | 2007-07-16 17:38:34 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/recursion.mem

Memo with my derivation of recursion relations that are stated in paper.

------------------------------------------------------------------------
r564 | airwin | 2007-07-16 17:32:06 -0700 (Mon, 16 Jul 2007) | 4 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/eff_cdfit_rounded.out

Local symlink to EFF fitting coefficients in exact rounded form used in
fortran programmes.


------------------------------------------------------------------------
r563 | airwin | 2007-07-16 17:23:44 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/eff_check/eff_check1.in
   A /trunk/www/eospaper/eff_fit/eff_check/eff_check3.in
   A /trunk/www/eospaper/eff_fit/eff_check/eff_check5.in
   A /trunk/www/eospaper/eff_fit/eff_check/eff_check8.in
   A /trunk/www/eospaper/eff_fit/eff_check/eff_checknr.in
   A /trunk/www/eospaper/eff_fit/eff_check/effo_check3.in
   A /trunk/www/eospaper/eff_fit/eff_check/effoo_check3.in

Input files required to check EFF integral fitting residuals.

------------------------------------------------------------------------
r562 | airwin | 2007-07-16 17:22:57 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/eff_fit/eff_check

svn:ignore property: ignore output files.

------------------------------------------------------------------------
r561 | airwin | 2007-07-16 17:21:08 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/eff_check

Directory for checking/generating EFF integral fitting residuals for plots.

------------------------------------------------------------------------
r560 | airwin | 2007-07-16 17:13:51 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/0.1_model.py
   A /trunk/www/eospaper/eff_fit/0.3_model.py
   A /trunk/www/eospaper/eff_fit/1.0_model.py
   A /trunk/www/eospaper/eff_fit/context.py
   A /trunk/www/eospaper/eff_fit/context_fg.py
   A /trunk/www/eospaper/eff_fit/eff_cdfit_table.py
   A /trunk/www/eospaper/eff_fit/eff_f.py
   A /trunk/www/eospaper/eff_fit/eff_fg.py
   A /trunk/www/eospaper/eff_fit/eff_rhot.py
   A /trunk/www/eospaper/eff_fit/plplot_python_start.py
   A /trunk/www/eospaper/eff_fit/rgbtip.1.0_model.py
   A /trunk/www/eospaper/eff_fit/tc.py
   A /trunk/www/eospaper/eff_fit/zahb.1.0_model.py

Python scripts to generate figures or data for eff_fit paper.

------------------------------------------------------------------------
r559 | airwin | 2007-07-16 17:07:02 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/Makefile

Makefile for generating paper.

------------------------------------------------------------------------
r558 | airwin | 2007-07-16 17:06:42 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit/eff_fit.tex

LaTeX text for paper.

------------------------------------------------------------------------
r557 | airwin | 2007-07-16 17:00:29 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/eff_fit
   A /trunk/www/eospaper/exchange
   A /trunk/www/eospaper/solution

Initial step in putting eff_fit, exchange, and solution papers on svn control.

------------------------------------------------------------------------
r556 | airwin | 2007-07-16 16:34:35 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Tweak

------------------------------------------------------------------------
r555 | airwin | 2007-07-16 16:33:15 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb

Tweak

------------------------------------------------------------------------
r554 | airwin | 2007-07-16 16:30:25 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/Changes

Possible future changes in text.

------------------------------------------------------------------------
r553 | airwin | 2007-07-16 16:29:38 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb

Ignore generated files.

------------------------------------------------------------------------
r552 | airwin | 2007-07-16 16:25:54 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/coulomb.tex

LaTeX source for coulomb paper.

------------------------------------------------------------------------
r551 | airwin | 2007-07-16 16:25:05 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/Makefile

Makefile for generating coulomb paper.

------------------------------------------------------------------------
r550 | airwin | 2007-07-16 16:23:59 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/model-loci/abund.dat
   A /trunk/www/eospaper/coulomb/model-loci/statef_model_0.1.model_pteh.in
   A /trunk/www/eospaper/coulomb/model-loci/statef_model_1.0.model_eos1a-eos1.in
   A /trunk/www/eospaper/coulomb/model-loci/statef_model_1.0.model_pteh.in

Input files required to generate data for model loci that are used in some
plots for the coloumb paper.

------------------------------------------------------------------------
r549 | airwin | 2007-07-16 16:22:40 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/model-loci

Ignore generated files.

------------------------------------------------------------------------
r548 | airwin | 2007-07-16 16:18:30 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/pteh/abund.dat
   A /trunk/www/eospaper/coulomb/pteh/statef_compare.in

Input files required to generate pteh figure.

------------------------------------------------------------------------
r547 | airwin | 2007-07-16 16:18:01 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/pteh

Ignore generated files.

------------------------------------------------------------------------
r546 | airwin | 2007-07-16 16:17:18 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/nocoulomb/abund.dat
   A /trunk/www/eospaper/coulomb/nocoulomb/statef_compare.in

Input files required to generate nocoulomb figure.

------------------------------------------------------------------------
r545 | airwin | 2007-07-16 16:16:49 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/nocoulomb

Ignore generated files.

------------------------------------------------------------------------
r544 | airwin | 2007-07-16 16:15:12 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/dhtau/abund.dat
   A /trunk/www/eospaper/coulomb/dhtau/statef_compare.in

Input files required to generate dhtau figure.

------------------------------------------------------------------------
r543 | airwin | 2007-07-16 16:14:38 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/dhtau

Ignored generated files.

------------------------------------------------------------------------
r542 | airwin | 2007-07-16 16:12:55 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/dh

Ignore generated files

------------------------------------------------------------------------
r541 | airwin | 2007-07-16 16:09:45 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/dh/abund.dat
   A /trunk/www/eospaper/coulomb/dh/statef_compare.in

Input files required to generate dh plot.

------------------------------------------------------------------------
r540 | airwin | 2007-07-16 16:07:34 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/coulomb/context

Ignore generated files

------------------------------------------------------------------------
r539 | airwin | 2007-07-16 16:05:31 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/context/abund.dat
   A /trunk/www/eospaper/coulomb/context/statef_grid.in

Input files required for context figure.

------------------------------------------------------------------------
r538 | airwin | 2007-07-16 16:03:44 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/context
   A /trunk/www/eospaper/coulomb/dh
   A /trunk/www/eospaper/coulomb/dhtau
   A /trunk/www/eospaper/coulomb/model-loci
   A /trunk/www/eospaper/coulomb/nocoulomb
   A /trunk/www/eospaper/coulomb/pteh
   A /trunk/www/eospaper/coulomb/rho-T-loci

Initial commit of coulomb subdirectorie (or symlinks to a directory
in the case of rho-T-loci).

------------------------------------------------------------------------
r537 | airwin | 2007-07-16 15:56:08 -0700 (Mon, 16 Jul 2007) | 5 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/abund.dat

Common solar abundance set used for coulomb plots.  The provenance of these
abundances are lost in the mists of time, but if I ever replot these figures
I will use more modern solar abundances such as the abund.dat file in
the parent directory.

------------------------------------------------------------------------
r536 | airwin | 2007-07-16 15:53:02 -0700 (Mon, 16 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/coulomb/0.1_model_pteh.py
   A /trunk/www/eospaper/coulomb/1.0_model_pteh.py
   A /trunk/www/eospaper/coulomb/context.py
   A /trunk/www/eospaper/coulomb/dh.py
   A /trunk/www/eospaper/coulomb/dhtau.py
   A /trunk/www/eospaper/coulomb/nocoulomb.py
   A /trunk/www/eospaper/coulomb/plplot_python_start.py
   A /trunk/www/eospaper/coulomb/pteh.py

Initial commit of all python scripts mentioned in Makefile

------------------------------------------------------------------------
r535 | airwin | 2007-07-16 13:37:38 -0700 (Mon, 16 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/coulomb

Start process of bringing Coulomb paper (Paper III) under svn control at
SF.

------------------------------------------------------------------------
r534 | airwin | 2007-07-14 18:06:02 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/convergence/Makefile

Clean up Makefile to refer just to what is in paper rather than all
figure experiments.

------------------------------------------------------------------------
r533 | airwin | 2007-07-14 17:44:58 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Tweak ignored files.

------------------------------------------------------------------------
r532 | airwin | 2007-07-14 17:41:26 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/convergence/newversion_grid/abund.dat
   A /trunk/www/eospaper/convergence/newversion_grid/statef_grid.in

Initial commit of input files required for statef_grid for full solar
abundance case.

------------------------------------------------------------------------
r531 | airwin | 2007-07-14 17:39:33 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/newversion_grid

Ignore *.out and *.err files.

------------------------------------------------------------------------
r530 | airwin | 2007-07-14 17:35:06 -0700 (Sat, 14 Jul 2007) | 5 lines
Changed paths:
   A /trunk/www/eospaper/abund.dat

Initial commit of Asplund et al. 2005 preprint 0410214 abundances.  The plan
is to use this file (via symlinks) for most FreeEOS calculations from
now on that are used to generate figures for the papers.


------------------------------------------------------------------------
r529 | airwin | 2007-07-14 17:32:17 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/purehe_newversion_grid

Tweak ignored file list.

------------------------------------------------------------------------
r528 | airwin | 2007-07-14 17:30:17 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/convergence/pureh_newversion_grid/abund.dat
   A /trunk/www/eospaper/convergence/pureh_newversion_grid/statef_grid.in

Initial commit of input files required for statef_grid in pure H case.

------------------------------------------------------------------------
r527 | airwin | 2007-07-14 17:28:28 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/pureh_newversion_grid

Ignore *.out and *.err files

------------------------------------------------------------------------
r526 | airwin | 2007-07-14 17:24:34 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/convergence/purehe_newversion_grid/abund.dat
   A /trunk/www/eospaper/convergence/purehe_newversion_grid/statef_grid.in

Initial commit of files required to compute statef_grid results required
for plots for convergence paper.

------------------------------------------------------------------------
r525 | airwin | 2007-07-14 17:20:35 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence/purehe_newversion_grid

Ignore output files

------------------------------------------------------------------------
r524 | airwin | 2007-07-14 17:15:07 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/convergence/newversion_grid
   A /trunk/www/eospaper/convergence/pureh_newversion_grid
   A /trunk/www/eospaper/convergence/purehe_newversion_grid
   A /trunk/www/eospaper/convergence/rho-T-loci

Initial commit of directories (or a symlink to a directory in the rho-T-loci
case) required to generate the figures for the convergence paper. 

------------------------------------------------------------------------
r523 | airwin | 2007-07-14 17:08:47 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/convergence/Makefile

Initial commit of Makefile to generate complete paper (including figures)
in pdf form.

------------------------------------------------------------------------
r522 | airwin | 2007-07-14 17:06:19 -0700 (Sat, 14 Jul 2007) | 4 lines
Changed paths:
   A /trunk/www/eospaper/convergence/convergence.tex

Initial commit of LaTeX file for my convergence paper.  Status: paper
complete, but some quality assurance (reference checks, spelling) still
needs to be done.

------------------------------------------------------------------------
r521 | airwin | 2007-07-14 17:04:44 -0700 (Sat, 14 Jul 2007) | 4 lines
Changed paths:
   A /trunk/www/eospaper/convergence/fractions.py
   A /trunk/www/eospaper/convergence/plplot_python_start.py
   A /trunk/www/eospaper/convergence/pureh_fractions.py
   A /trunk/www/eospaper/convergence/purehe_fractions.py

Initial commit of python scripts to generate paged figures which are further
processed to generate encapsulated postscript results for individual figures
that will be used in the convergence paper.

------------------------------------------------------------------------
r520 | airwin | 2007-07-14 17:02:16 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Tweak what is ignored.

------------------------------------------------------------------------
r519 | airwin | 2007-07-14 16:53:40 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Ignore generated python *.pyc files.

------------------------------------------------------------------------
r518 | airwin | 2007-07-14 16:46:54 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Ignore all postscript and encapsulated postscript results since they are
generated.

------------------------------------------------------------------------
r517 | airwin | 2007-07-14 16:44:59 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Ignore certain downloaded papers.

------------------------------------------------------------------------
r516 | airwin | 2007-07-14 16:43:34 -0700 (Sat, 14 Jul 2007) | 4 lines
Changed paths:
   M /trunk/www/eospaper/convergence

Ignore context and oldversion_grid directories which are not needed to
generate figures any more.


------------------------------------------------------------------------
r515 | airwin | 2007-07-14 16:36:23 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   M /trunk/www/eospaper

Exclude a number of old paper directories from svn control.

------------------------------------------------------------------------
r514 | airwin | 2007-07-14 16:28:45 -0700 (Sat, 14 Jul 2007) | 3 lines
Changed paths:
   A /trunk/www/eospaper/plplot_python_start.py

Initial commit of python script to intialize python interface for PLplot
plots.

------------------------------------------------------------------------
r513 | airwin | 2007-07-14 16:27:18 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper/convergence

First step in putting convergence paper under svn control.

------------------------------------------------------------------------
r512 | airwin | 2007-07-14 16:26:48 -0700 (Sat, 14 Jul 2007) | 2 lines
Changed paths:
   A /trunk/www/eospaper

First step in putting all FreeEOS papers under SF svn control.

------------------------------------------------------------------------
r511 | airwin | 2007-07-11 14:54:46 -0700 (Wed, 11 Jul 2007) | 10 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Implement general method of freezing certain aux_old variables when doing
BFGS minimization.  In specific, freeze the aux_old variables that are zero.

This change gave mixed results for calculational boundary indicating I am
probably up against pseudo-random changes in the last floating-point bits
that determine that boundary, but nevertheless I feel keeping the zero
auxiliary variables frozen is a good idea in general for the BFGS
minimization so I will leave this change in.


------------------------------------------------------------------------
r510 | airwin | 2007-07-10 14:57:25 -0700 (Tue, 10 Jul 2007) | 6 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Comment out all post-facto adjustments for underflowed auxiliary variables
since those adjustments introduced the error where maxfaux hangs at 50
rather than converging).  The recently committed logic for eos_calc should
handle the zeroing of auxiliary variables and their derivatives gracefully.


------------------------------------------------------------------------
r509 | airwin | 2007-07-10 14:54:50 -0700 (Tue, 10 Jul 2007) | 5 lines
Changed paths:
   M /trunk/include/aux_scale.h
   M /trunk/src/eos_calc.f

Do smooth transition to zero for all auxiliary variables and their
derivatives if the magnitude of the auxiliary variable is less than
aux_underflow.


------------------------------------------------------------------------
r508 | airwin | 2007-07-09 12:23:02 -0700 (Mon, 09 Jul 2007) | 8 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Cannot get into much trouble if both fl and flold < -10 so relax delta fl
criterion for the warm start Taylor series in that case.

Some limited NR output after (and if) the BFGS technique was invoked.

More comprehensive debug_output.


------------------------------------------------------------------------
r507 | airwin | 2007-07-09 12:18:49 -0700 (Mon, 09 Jul 2007) | 12 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Bug fix.  Only use solutions that are acceptable points in the BFGS line
search.

Make BFGS logic identical to that used in test_rosenbrock code (which was
recently upgraded to deal properly with all error conditions signalled
by bfgs_iterate).

Implement debug_output to deal with optional debugging output.  Currently
debug_output is .true., but as I gain more experience with how the BFGS
technique helps FreeEOS converge, I will set this to .false..


------------------------------------------------------------------------
r506 | airwin | 2007-07-09 12:11:52 -0700 (Mon, 09 Jul 2007) | 6 lines
Changed paths:
   M /trunk/src/free_eos.f

Relax criteria for fl Taylor series to be roughly equivalent to the
Opal step size in log density and T.

Also relax further criteria used to decide whether to start at flold - 20
or 100.

------------------------------------------------------------------------
r505 | airwin | 2007-07-08 13:08:51 -0700 (Sun, 08 Jul 2007) | 6 lines
Changed paths:
   M /trunk/src/bfgs.f

Fixed several status logic errors.

Improved status commentary.

Improved debug output.

------------------------------------------------------------------------
r504 | airwin | 2007-07-08 11:56:11 -0700 (Sun, 08 Jul 2007) | 2 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Change to completely converged (zero gradient on g77 Linux platform) result.

------------------------------------------------------------------------
r503 | airwin | 2007-07-08 11:51:02 -0700 (Sun, 08 Jul 2007) | 3 lines
Changed paths:
   M /trunk/utils/test_rosenbrock.f

Improve commentary, complete convergence to non-decreasing function or 
zero gradient, and better handling of errors.

------------------------------------------------------------------------
r502 | airwin | 2007-07-06 06:54:58 -0700 (Fri, 06 Jul 2007) | 6 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Better formatted output when the fl cold-start iteration fails to converge.

Turn the BFGS convergence back on (at the 100th NR iteration)
which had previously been temporarily suspended.


------------------------------------------------------------------------
r501 | airwin | 2007-07-06 06:52:35 -0700 (Fri, 06 Jul 2007) | 4 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Bug fix. Return rather than continue if non-zero info (bad fl convergence
for fixed auxiliary variables) provided by eos_free_calc.


------------------------------------------------------------------------
r500 | airwin | 2007-07-06 06:51:26 -0700 (Fri, 06 Jul 2007) | 10 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Trivial white-space change done to give opportunity to correct previous
commit message which was meant for a different file.  The actual previous
commit message should have read as follows:

ltermax = 100 ==> ltermax = 200 to match free_eos_detailed.

More comprehensive output when the fl iteration at fixed auxiliary variables
fails to converge.


------------------------------------------------------------------------
r499 | airwin | 2007-07-06 06:41:27 -0700 (Fri, 06 Jul 2007) | 4 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Bug fix. Return rather than continue if non-zero info (bad fl convergence
for fixed auxiliary variables) provided by eos_free_calc.


------------------------------------------------------------------------
r498 | airwin | 2007-07-02 21:56:46 -0700 (Mon, 02 Jul 2007) | 40 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Figured out another high-density convergence issue; the fl iteration count
limit had to be increased from 50 to 200 because the conservative
high-density limits on the fl changes increased the iteration count to 50
and beyond for cold starts at high densities.  With this change can now do
test calculations routinely for series of isochores to log rho = 7 for the
pure H, pure He, and full (20 element) solar abundance mix. This is a really
nice breakthrough in the stability of all the changes in svn trunk HEAD
since the FreeEOS-2.1.0 code version.  These changes that have been
stabilized involve NR improvements (since the BFGS improvement is
temporarily disabled for these tests) or general improvements for the
high-density case, and this means that often the new calculations can go to
lower temperatures at fixed rho than the oldversion = 2.1.0 calculations.
This good situation should only improve once I put together some tests that
use the BFGS technique.

Other changes:

"ionized pure metals not implemented" stop message to avoid index overflow
(and other implementation issues for that case).

Improved output for fl cold-start divergence case (which lead to realization
that needed a higher iteration count limit (see above).

Introduce optional debug output that was generated in eos_jacobian before
right after call to eos_jacobian.

More comprehensive output including rcond_lapack in good format for the 

"free_eos_detailed: (1) no dgesvx solution"
"free_eos_detailed: (2) no dgesvx solution"
"free_eos_detailed: (3) no dgesvx solution"

cases.

Mark transitions from zero to non-zero or vice versa by +/- 50 for
maxfaux.

For debug_output case always output rcond_lapack in good format.


------------------------------------------------------------------------
r497 | airwin | 2007-07-02 21:44:49 -0700 (Mon, 02 Jul 2007) | 4 lines
Changed paths:
   M /trunk/src/eos_jacobian.f

Remove all optional debugging output.  (Put it in free_eos_detailed
instead.)


------------------------------------------------------------------------
r496 | airwin | 2007-07-02 21:43:25 -0700 (Mon, 02 Jul 2007) | 3 lines
Changed paths:
   M /trunk/src/free_eos.f

ifoption, ifmodified = 3,20 implemented.  It is equivalent to 3,1 except that
molecules are turned off.

------------------------------------------------------------------------
r495 | airwin | 2007-07-02 21:41:39 -0700 (Mon, 02 Jul 2007) | 20 lines
Changed paths:
   M /trunk/src/eos_calc.f

Figured out a high-density convergence issue.  The problem was a massive (up
to 9 significant digits were lost) significance loss problem that was
occurring for the full hydrogen species calculation in eos_calc when H+ is
consuming essentially all hydrogen due to pressure ionization of H, H2, and
H2+. The present algorithm improvement reduces the significance loss problem
to negligible levels with an accompanying amazing improvement in numerical
precision. Before this code change, the NR iteration changes would only
decrease to 1.d-9 at best and sometimes 1.d-7 (which would cause divergence)
for log T ~ 5.9 or so and high densities (log rho ~ 5.0 or above).  After
the code change the typical NR "level" of last changes would be 1.d-14 or
smaller (sometimes even zero). This change should assure good thermodynamic
consistency for temperatures less than log T = 6 (the upper temperature
limit where I use the full hydrogen calculation) for densities where
pressure ionization is important. Older thermodynamic consistency plots show
no significant issues below log T = 6, but that is because of the prior
conservative limits that were imposed for the thermodynamic consistency
tests (and all other results) on making calculations at high densities for
temperatures less than log T = 6.


------------------------------------------------------------------------
r494 | airwin | 2007-06-26 11:40:52 -0700 (Tue, 26 Jun 2007) | 16 lines
Changed paths:
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_jacobian.f
   M /trunk/src/free_eos_detailed.f

Move to implementation where all the auxiliary variable unscaling occurs in
eos_calc.  This change is justified because it results in much simpler code.
Furthermore, this change works around the gcc underflow comparison bug on
Intel hardware where the 80-bit register results (which rarely underflow
because of 4 extra guard digits in the exponent) are not normalized to IEEE
754 64-bit (such normalization sometimes underflows to produce zero results)
before comparisons with zero.  This gcc bug on Intel particularly screwed up
the allow_log and allow_log_neg variables when auxiliary variables were
underflowing.

Further specific changes:

eos_calc: ifpi34 = ifpi.eq.3.or.ifpi.eq.4 logic simplification.
free_eos_detailed, eos_jacobian: debug_output = .false.


------------------------------------------------------------------------
r493 | airwin | 2007-06-26 08:44:29 -0700 (Tue, 26 Jun 2007) | 12 lines
Changed paths:
   M /trunk/src/eos_jacobian.f

debug_output logic implemented, and the debug output made much more
extensive.

allow_log and allow_log_neg calculations depend on aux/aux_scale rather
than aux.  However, this did not solve log(0.) issue because gcc has
a bug for 80-bit Intel registers whose results are not normalized to 64-bit
before comparisons.

Code cleanup (get rid of some commented out lines which will never be
introduced again).


------------------------------------------------------------------------
r492 | airwin | 2007-06-26 08:39:49 -0700 (Tue, 26 Jun 2007) | 16 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Remove qf, qp from argument list.

Calculate non-zero info status within routine if there is some abnormal
condition, and pass back info in argument list to calling routine.

More comprensive output when an abnormal condition occurs.

debug_output variable to control when to print out debugging output.

Improved aux_scale values.

Improve any_ifsimple logic interaction with iteration termination condition.

Temporarily avoid using bfgs technique for comparisons with 2.1.0.


------------------------------------------------------------------------
r491 | airwin | 2007-06-26 07:57:34 -0700 (Tue, 26 Jun 2007) | 7 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Calculate and pass back to calling routine info status value which is
non-zero if fl iteration at fixed auxiliary variables fails to converge.

Improve diagnostic output if fl iteration at fixed auxiliary variables fails
to converge.


------------------------------------------------------------------------
r490 | airwin | 2007-06-26 07:53:59 -0700 (Tue, 26 Jun 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Pass info status code generated by eos_free_calc back to calling routine.

------------------------------------------------------------------------
r489 | airwin | 2007-06-26 07:51:54 -0700 (Tue, 26 Jun 2007) | 4 lines
Changed paths:
   M /trunk/src/free_eos.f

Disable (set to 1.d300) qp, qf.
Return non-zero status information as negative iteration_count values.
Revert metal excitation (for ifoption.eq.3) for now.

------------------------------------------------------------------------
r488 | airwin | 2007-06-26 07:47:50 -0700 (Tue, 26 Jun 2007) | 2 lines
Changed paths:
   M /trunk/cmake/modules/free_eos_version.cmake
   M /trunk/src/version.f

Bump version numbers in (early) preparation for next release.

------------------------------------------------------------------------
r487 | airwin | 2007-06-24 11:46:36 -0700 (Sun, 24 Jun 2007) | 7 lines
Changed paths:
   M /trunk/src/ionize.f

The index_maxnb logic does not get triggered for the hydrogen case
(iatomic_number(ielement) = 1), but that is an accident waiting to happen
(in case the subsequent code is changed) so always initialize index_maxnb.

Change commentary appropriately.


------------------------------------------------------------------------
r486 | airwin | 2007-06-22 10:40:07 -0700 (Fri, 22 Jun 2007) | 5 lines
Changed paths:
   M /trunk/utils/free_eos_test_main.f

When there is a convergence emergency, free_eos now returns with a status
code rather than stopping.  So must stop in this code instead when the status
returned by free_eos is bad.


------------------------------------------------------------------------
r474 | airwin | 2007-06-15 14:57:04 -0700 (Fri, 15 Jun 2007) | 6 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Correct bug (swapping of max and min for fl change constraints) in
cold-start iteration.  Switch to much more conservative approach (copied
from eos_free_calc) about the changes that are allowed for fl in the
cold-start iteration.


------------------------------------------------------------------------
r473 | airwin | 2007-06-15 10:43:32 -0700 (Fri, 15 Jun 2007) | 5 lines
Changed paths:
   A /trunk/COPYING

Under autotools this GPL license file was generated and therefore not kept
in the repository, but under CMake it must be added specifically to the
(svn) repository.


------------------------------------------------------------------------
r472 | airwin | 2007-06-13 11:24:54 -0700 (Wed, 13 Jun 2007) | 4 lines
Changed paths:
   M /trunk/www/index.html

Copyright notices.
<li> fixup
"&" ==> "&amp;" validation fixup

------------------------------------------------------------------------
r471 | airwin | 2007-06-13 11:23:43 -0700 (Wed, 13 Jun 2007) | 2 lines
Changed paths:
   M /trunk/www/documentation.html

Copyright notices.

------------------------------------------------------------------------
r470 | airwin | 2007-06-12 15:32:51 -0700 (Tue, 12 Jun 2007) | 5 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Implement large (~1.d200) xextrasum scaling.

Replace aux by aux/aux_scale when calculating underflow limits,
allow_log and allow_log_neg, and for zerolim logic.

------------------------------------------------------------------------
r469 | airwin | 2007-06-12 15:29:31 -0700 (Tue, 12 Jun 2007) | 3 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Change from modest (exparg_shift = 10.d0) to extreme (exparg_shift = 600.d0)
qratio/mu(ion) scaling.

------------------------------------------------------------------------
r468 | airwin | 2007-06-11 11:36:18 -0700 (Mon, 11 Jun 2007) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Implement qratio scaling.

------------------------------------------------------------------------
r467 | airwin | 2007-06-10 14:29:39 -0700 (Sun, 10 Jun 2007) | 6 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Use exsum_component_add to add excitation sum components (and account for
xextrasum and qratio scaling) consistently for non-H species, H, H2, and
H2plus.  This change gives good results for moderate xextrasum and qratio
scaling for pure H, pure He, and a full abundance mix.


------------------------------------------------------------------------
r466 | airwin | 2007-06-10 12:53:10 -0700 (Sun, 10 Jun 2007) | 7 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Reorganization of part of excitation_sum as a subroutine.  This
reorganization still gives good xextrasum and qratio scaling results for the
pure He case, and should allow 3 other instances (H, H2, and H2plus) where
nearly the same code could be replaced by a call to the same subroutine and
incidentally implement xextrasum and qratio scaling for those cases as well.


------------------------------------------------------------------------
r465 | airwin | 2007-06-08 07:54:27 -0700 (Fri, 08 Jun 2007) | 9 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Partial update to implement xextrasum and qratio scaling which works for the
pure He case. H, H2, and H2plus portions of the code (and similarly for
excitation_pi) still need to be updated.  As far as I can remember those
additional portions of the code are largely copys of the code portion that
has been updated so a subroutine approach may be the way to go for the rest
of the update for complement implementation of xextrasum and qratio scaling,
but we will see.


------------------------------------------------------------------------
r464 | airwin | 2007-06-07 10:20:08 -0700 (Thu, 07 Jun 2007) | 4 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f

Dropped all preliminary checks of factors in excitation_sum and 
excitation_pi for uniform zeroing of qratio/mu(ion).  Now, only do final
check of complete product.

------------------------------------------------------------------------
r463 | airwin | 2007-06-06 13:29:02 -0700 (Wed, 06 Jun 2007) | 10 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Underflows lead to aux being zero.  In this special case, the problem has
been isolated by zeroing the corresponding off-diagonal elements of the
Jacobian, but that isolation did not extend to the extra "match_variable"
equation row, and corresponding "fl" column for the Jacobian. This commit
addresses this oversight.

Fix scaling bugs in special treatment for zero to non-zero transitions, and
zero to non-zero transitions.


------------------------------------------------------------------------
r462 | airwin | 2007-06-05 18:38:32 -0700 (Tue, 05 Jun 2007) | 12 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f

Implement logic to test size of qratio or mu(ion) against exp_lim so can
lower exparg_lim without being worried about combined underflow of the
exparg and qstar factors that go into qratio or mu(ion).

exparg_lim = -500 (which corresponds to 10^{-217}) gives reasonable result
for case "k", full abundance mix log T = 4.5 isotherm, and excellent results
(convergence for densities from +2 to -2 with worst case converging in 1048
iterations). for case "j", pure He, log T = 5.2 isotherm.  The "j" test 1048
convergence fails to converge if I try exparg_lim = -250 instead. That might
be accidental convergence, but I will take it for now.


------------------------------------------------------------------------
r461 | airwin | 2007-06-05 18:30:28 -0700 (Tue, 05 Jun 2007) | 3 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Potential simple iterations post-bfgs but currently turned off because
sometimes get large auxiliary variable oscillations.

------------------------------------------------------------------------
r460 | airwin | 2007-06-04 15:17:33 -0700 (Mon, 04 Jun 2007) | 23 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f

Improved treatment of excitation limits.  The previous commit was not quite
right (in fact caused fl iteration divergence for eos_free_calc under
certain circumstances) so below will refer to current status rather than
differences with previous commit.

Now have three different limiting value parameters (exparg_lim =  -46,
eps_factor_lim = -690, and ground_state_lim = -50) for the three different
kinds of excitation limits that have now been implemented.

eps_factor_lim is a floor limit on eps_factor. A very small value near
the ln underflow limit is used for this to avoid overflow in eps/eps_factor
used to control termination of excitation sums.  This floor limit means
qstar_calc and qmhd_calc are called every time.  After these calls, uniform
zeroing is done for all values of the excited state partition function
(referred to the ion energy) smaller than exp_lim = exp(exparg_lim).  This
takes care of the case when the excited state partition function is wiped
out by pressure ionization. Uniform zeroing is also done for exparg (which
refers the excited state partition functions to the ground state
energy) smaller than exparg_lim. Finally, ignore excitation correction if
ground state wiped out (ln occupation probablity less than exparg_lim) by
pressure ionization.


------------------------------------------------------------------------
r459 | airwin | 2007-06-04 14:59:05 -0700 (Mon, 04 Jun 2007) | 12 lines
Changed paths:
   M /trunk/src/free_eos.f

Treat excited states of metals for EOS1 (and all ifoption=3, ifmodified > 0
results).  This represents a significant change in free energy model. When I
tried this a year or so ago, there were convergence difficulties, but when
it did converge, the result was much smoother (no sharp changes in
ionization which cause annoying glitches in thermodynamic quantities for 0.1
solar mass locus of rho-T values).  It appears (at least from one log T =
4.5 isotherm I have run) that the convergence difficulties have been solved.
I ascribe this improvement to the recent improvement (just about to be
committed) in the eps_factor limit treatment which should make a significant
difference for high effective charge results (i.e., for ionized metal
results).

------------------------------------------------------------------------
r458 | airwin | 2007-06-01 09:52:04 -0700 (Fri, 01 Jun 2007) | 3 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Increase number of iterations from 1000 to 2000.  (Have one case that
smoothly and non-randomly but very slowly converges in 1048 iterations.)

------------------------------------------------------------------------
r457 | airwin | 2007-06-01 09:50:30 -0700 (Fri, 01 Jun 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Comment out debugging output.

------------------------------------------------------------------------
r456 | airwin | 2007-06-01 09:48:42 -0700 (Fri, 01 Jun 2007) | 4 lines
Changed paths:
   M /trunk/src/eos_calc.f

Fix parenthesis bug in extrasum_dv calculation.  This fix solves derivative
errors (or immediate info = 12 lapack error for extreme weighting) that
occurred for the full abundance mix case.

------------------------------------------------------------------------
r455 | airwin | 2007-06-01 09:36:23 -0700 (Fri, 01 Jun 2007) | 3 lines
Changed paths:
   M /trunk/src/ionize.f

Arithmetic ordering tweak to make derivative calculation ordering more
consistent with the ordering of the function whose derivative was taken.

------------------------------------------------------------------------
r454 | airwin | 2007-05-31 15:54:49 -0700 (Thu, 31 May 2007) | 3 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Unneeded log(1 + mu(ion)) bug fix.


------------------------------------------------------------------------
r453 | airwin | 2007-05-31 15:52:21 -0700 (Thu, 31 May 2007) | 2 lines
Changed paths:
   M /trunk/src/excitation_sum.f

White space tweak.

------------------------------------------------------------------------
r452 | airwin | 2007-05-31 08:13:53 -0700 (Thu, 31 May 2007) | 6 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Force at least two NR iterations after bfgs minimization.

Optional (currently turned off) 5 simple iterations before bfgs minimization
step.


------------------------------------------------------------------------
r451 | airwin | 2007-05-31 08:05:01 -0700 (Thu, 31 May 2007) | 3 lines
Changed paths:
   M /trunk/src/eos_jacobian.f

Fix undefined rl and derivatives bug for auxus, etc.
Fix jaux/iaux bug for dauxus_dv.

------------------------------------------------------------------------
r450 | airwin | 2007-05-28 19:03:38 -0700 (Mon, 28 May 2007) | 3 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Increase number of fl iterations, more debugging output, better
message when it diverges.

------------------------------------------------------------------------
r449 | airwin | 2007-05-28 11:19:28 -0700 (Mon, 28 May 2007) | 5 lines
Changed paths:
   M /trunk/src/eos_calc.f

Make rl calculation more robust against underflow/overflow for the H2 case
by looking at whether one of the hydrogen species dominates the rest and
if that occurs, using the logarithmic form of that dominate species and
ignoring the rest.

------------------------------------------------------------------------
r448 | airwin | 2007-05-26 10:11:12 -0700 (Sat, 26 May 2007) | 5 lines
Changed paths:
   M /trunk/src/eos_calc.f

Fix bugs introduced by code changes for scaling (even in the case where
scaling factors are unity).  These changes mean that a pure H test for
a log T = 4.5 isotherm gives good results (for the first time)
for unity scaling and no excitation.

------------------------------------------------------------------------
r447 | airwin | 2007-05-25 13:07:33 -0700 (Fri, 25 May 2007) | 15 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f

Remove nonsensical eps_factor limits (which should cause problems for
high-ionization cases).

Replace ln(1+factor) with appropriate limit series for small factor.

Remove all arbitrary underflow limits.

N.B. None of the above three changes made any difference for the single test
case I am working on (pure He, log T = 5.2 isochrone), but they probably
will make a difference when metals are allowed to be excited (note, that
diverged before, perhaps for the above reason), and for other physical
conditions where the previous limited range for underflow limits were
unnecessarily zeroing the previous results.


------------------------------------------------------------------------
r446 | airwin | 2007-05-24 13:29:05 -0700 (Thu, 24 May 2007) | 6 lines
Changed paths:
   M /trunk/src/eos_calc.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/ionize.f

Introduce (output) extrasum auxiliary variable scaling.  Even with large
scaling factors gives the same answers (for one test case, a log T = 5.2
isochrone for pure He) within the expected roundoff errors.

To Do:  xextrasum auxiliary variable scaling.

------------------------------------------------------------------------
r445 | airwin | 2007-05-24 08:30:54 -0700 (Thu, 24 May 2007) | 2 lines
Changed paths:
   M /trunk/src/ionize.f

Rearrange Coulomb sum scaling to avoid underflows as much as possible.

------------------------------------------------------------------------
r444 | airwin | 2007-05-23 14:26:53 -0700 (Wed, 23 May 2007) | 12 lines
Changed paths:
   A /trunk/include/aux_scale.h
   M /trunk/src/CMakeLists.txt
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_jacobian.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/ionize.f

Introduce scaling of (output) auxiliary variables to help reduce the effects
of underflows.

The current status is the Coulomb sums have been slightly scaled as a test
case and the resulting (output) auxiliary variables transformed to unscaled
values only when necessary.  The results for the slightly scaled and unscaled
(where scaling factors set to unity) cases are equal within the expected
rounding errors for a pure helium log T = 5.2 isotherm.

ToDo: scale extrasum and xextrasum.


------------------------------------------------------------------------
r443 | airwin | 2007-05-19 14:44:34 -0700 (Sat, 19 May 2007) | 2 lines
Changed paths:
   M /trunk/src/include_depends.py

Generate appropriate CMake dependency information for fortran include files.

------------------------------------------------------------------------
r442 | airwin | 2007-05-15 13:07:13 -0700 (Tue, 15 May 2007) | 6 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/free_eos_detailed.f

Transform of Jacobian when aux or aux_old = 0 moved from eos_jacobian to
free_eos_detailed.  The effect is a better gradient and normally better
convergence for the bfgs technique (which also calls eos_jacobian where the
previous zero transform was interfering with derivative consistency).


------------------------------------------------------------------------
r441 | airwin | 2007-05-12 11:23:02 -0700 (Sat, 12 May 2007) | 13 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Move from zeroing off-diagonal elements of Jacobian and replacing diagonal
element by unity for simple equations to adding simple_lambda to diagonal
elements and multiplying RHS by (1 + simple_lambda) for simple equations.
Separate, independent simple_lambda values are determined for each equation
by fast-attack (if satisfies criterion for simple equation adopt large
simple_lambda), slow decay (gradually reduce simple_lambda if simple
equation criteria are not satisfied) strategy.

In practice, this change made little difference with some number of iterations
increased and some reduced by small amounts with no change in
regimes where convergence/divergence appeared.


------------------------------------------------------------------------
r440 | airwin | 2007-05-07 10:28:19 -0700 (Mon, 07 May 2007) | 6 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Fix inconsistency with how the allow_log variables are treated.

Still use original values to decide on auxiliary variable/xi transform, but
account for the difference between the original and updated allow log forms
when calculating the _xi_ gradient.

------------------------------------------------------------------------
r439 | airwin | 2007-04-29 10:13:34 -0700 (Sun, 29 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/free_non_ideal_calc.f

Documentation tweak.

------------------------------------------------------------------------
r438 | airwin | 2007-04-28 18:29:37 -0700 (Sat, 28 Apr 2007) | 4 lines
Changed paths:
   M /trunk/src/README.developers

Large number of changes to bring this documentation up to date with current
code.


------------------------------------------------------------------------
r437 | airwin | 2007-04-28 16:09:24 -0700 (Sat, 28 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_bfgs.f
   M /trunk/src/free_eos_detailed.f

Improve consistency of allow_log variables.

------------------------------------------------------------------------
r436 | airwin | 2007-04-28 10:09:20 -0700 (Sat, 28 Apr 2007) | 11 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Reviewed non-log auxiliary variable code, i.e., auxiliary variables which
change sign or go to zero or come from zero, and decided at the modified NR
stage to just drop through, i.e., take aux from last eos_calc call subject
to further zero limit constraints.

Reviewed subsequent zero limit code.  Now I understand it, I will leave it
as is, but I did correct the maxfaux calculation to be the maximum magnitude
of -faux_limit and previous values so the output of that variable makes more
sense.


------------------------------------------------------------------------
r435 | airwin | 2007-04-27 10:37:21 -0700 (Fri, 27 Apr 2007) | 12 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

faux_limit_min = 1.d-02 ==> faux_limit_min = 1.d-10

maximum fl change now minimum of 0.01 and faux_limit.

Reimplement adjustment of NR solution by ifsimple changes by modifying
Jacobian matrix (making the ifsimple partition of the matrix into the
unity matrix).  Also tried keeping dependence of ifsimple equations on
fl change, but it is not clear that is actually a good idea (pre-bfgs went
through massive swings, and it didn't help post-bfgs) so I commented out
that possibility (at least for now).


------------------------------------------------------------------------
r434 | airwin | 2007-04-24 15:25:55 -0700 (Tue, 24 Apr 2007) | 60 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Large number of changes to improve convergence of combined simple iteration
and NR iteration. These are mostly minor, but some have a major influence on
convergence for important difficult test case (log rho = 0.61, log T 4.5,
full abundance mix, 3,1,-2) which does not converge in 100 pre-BFGS
iterations and which is extremely reluctant to converge post-BFGS.

1. Dropped unused faux_rel logic.

2. Much improved format for debug output.

3. Some changes in variables that affect convergence:

If don't have solution by 1000 iterations, forget it!
-      parameter (maxioncount=5000)
+      parameter (maxioncount=1000)

This change is fairly major since it greatly affects size of scaling when
far from solution, but an incredibly small value is simply a desperation
measure, and note that the corresponding constant fl limit has always
been 0.01.

-      parameter(faux_limit_min = 1.d-10)
+      parameter(faux_limit_min = 1.d-02)

Emphasize simple iteration a bit more over NR iteration.  (Got divergence
for faux_limit_diag = 10.d0 so I felt backing off from 1.0 was a reasonably
conservative change to make.)
-      parameter(faux_limit_diag = 1.d0)
+      parameter(faux_limit_diag = 0.5d0)

New parameter to control the algorithm for determining ifmajor.
+      parameter(major_crit = 1.d-3)

4. Don't reuse faux vector so much for different purposes.

rhs rather than faux now used for right-hand-side of system of equations to
be solved.

faux_nr, pac_nr is original full NR solution.  faux and pac is combined
result of simple iteration and reduced NR solution.

5. Implement ifmajor logic to decide in reasonable way when I can ignore
large faux values when calculating maxfaux_diag.  Use major_crit * row norm
(max of row) of Jacobian as the criterion for whether one equation affected
in a major way by another.

6. maufaux_diag now calculated consistently with pac.  This affects halving
logic (see next) a lot since pac = delta fl often dominates maufaux_diag.
OTOH, fl consistency is really important so it is good to have the fl
equation considered now.

7. Halving logic for faux_limit_small now depends on changes in sign
of maxfaux_diag rather than changes in sign of maxfaux.

8. Implement reduced NR solution to make faux subset that is calculated with NR
technique consistent with faux subset that is due to imposed simple
iteration solution.



------------------------------------------------------------------------
r433 | airwin | 2007-04-24 14:34:27 -0700 (Tue, 24 Apr 2007) | 7 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Additional debugging output which is currently commented out.

Implement allow_log_old and allow_log_neg_old logic to keep BFGS results
consistent over line search (and also currently for all of BFGS solution
consisting of a number of line searches).


------------------------------------------------------------------------
r432 | airwin | 2007-04-24 14:29:05 -0700 (Tue, 24 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Additional debugging output which is currently commented out.

------------------------------------------------------------------------
r431 | airwin | 2007-04-19 09:58:34 -0700 (Thu, 19 Apr 2007) | 6 lines
Changed paths:
   M /trunk/CMakeLists.txt
   M /trunk/cmake/modules/fortran.cmake

Use project to specify the Fortran language rather than enable_language.
This works around the bug in enable_language that does not set the special
compile flags correctly.  It also eliminates the default enabling of C and
C++.


------------------------------------------------------------------------
r430 | airwin | 2007-04-01 10:41:45 -0700 (Sun, 01 Apr 2007) | 5 lines
Changed paths:
   M /trunk/www/index.html

Link changed from old CVS to new SVN repository.

News items about change from autotools- to CMake-based build system, and
change from old CVS to new SVN repository at SourceForge.

------------------------------------------------------------------------
r429 | airwin | 2007-04-01 10:40:32 -0700 (Sun, 01 Apr 2007) | 2 lines
Changed paths:
   M /trunk/www/documentation.html

Link changed from old CVS to new SVN repository.

------------------------------------------------------------------------
r428 | airwin | 2007-03-31 21:23:39 -0700 (Sat, 31 Mar 2007) | 2 lines
Changed paths:
   D /trunk/.cvsignore
   D /trunk/include/.cvsignore
   D /trunk/src/.cvsignore
   D /trunk/utils/.cvsignore
   D /trunk/www/.cvsignore

.cvsignore files not needed for svn.

------------------------------------------------------------------------
r427 | airwin | 2007-03-31 17:16:39 -0700 (Sat, 31 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/bfgs.f

Tweak commentary.

------------------------------------------------------------------------
r426 | airwin | 2007-01-29 23:43:04 -0800 (Mon, 29 Jan 2007) | 19 lines
Changed paths:
   M /trunk/src/CMakeLists.txt
   M /trunk/src/eos_bfgs.f

Add completely revised eos_bfgs that uses reverse communication and calls to
eos_free_calc to do a bfgs minimization on the free energy.

STATUS: it takes typically 100 line search iterations to converge (and each
line search typically requires ~10 EOS calculations) so this is a truly slow
method.  The gradient remains too far from zero as well. The NR technique
can reduce the gradient modulus to ~1.d-15, but you are lucky to get 1.d-8
with bfgs technique.  Probably all the problems with complete minimization
are due to severe ill-conditioning. Nevertheless, despite these problems
with bfgs free-energy minization using auxiliary variables, the method has
already proven to be a major stabilizing influence for a log T = 5 isotherm
starting at log rho = -1 in increments of 0.1 dex. Currently, the bfgs
technique it is running into trouble near log rho = 0.6 due to a bug in
bfgs.f (f increases dramatically rather than decreasing which is supposed to
be impossible.  Probably, there is an error return of some kind which is not
being done correctly). However, with just the NR method you can only do cold
start calculations to a maximum density of log rho = -1 or so, so there is
already a significant improvement in robustness of FreeEOS.

------------------------------------------------------------------------
r425 | airwin | 2007-01-29 23:25:35 -0800 (Mon, 29 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Rearrange so call eos_bfgs on 100th NR iteration to attempt to settle down
solution that is diverging.

------------------------------------------------------------------------
r424 | airwin | 2007-01-29 23:23:56 -0800 (Mon, 29 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_non_ideal_calc.f

Modify debugging output (which is already commented out until the next
time we have to debug).

------------------------------------------------------------------------
r423 | airwin | 2007-01-29 23:20:39 -0800 (Mon, 29 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Comment out debugging output

------------------------------------------------------------------------
r422 | airwin | 2007-01-28 11:52:55 -0800 (Sun, 28 Jan 2007) | 3 lines
Changed paths:
   M /trunk/cmake/modules/FindBLAS.cmake

Allow detection of native BLAS (and LAPACK) on Mac OS X.  Patch supplied by
David Thompson.

------------------------------------------------------------------------
r421 | airwin | 2007-01-28 11:25:03 -0800 (Sun, 28 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/bfgs.f

Remove declarations for unused variables q2_hi and q2_lo.

------------------------------------------------------------------------
r420 | airwin | 2007-01-26 11:50:27 -0800 (Fri, 26 Jan 2007) | 2 lines
Changed paths:
   M /trunk/cmake/modules/FindBLAS.cmake

Use an internal macro to shorten the logic and make it much more readable.

------------------------------------------------------------------------
r419 | airwin | 2007-01-25 22:31:30 -0800 (Thu, 25 Jan 2007) | 4 lines
Changed paths:
   M /trunk/utils/CMakeLists.txt

If the build tree is different than the source tree, copy a list of
files from the source to build tree so that free_eos_test and test_rosenbrock
will work, and will have result files to compare with.

------------------------------------------------------------------------
r418 | airwin | 2007-01-25 22:30:16 -0800 (Thu, 25 Jan 2007) | 4 lines
Changed paths:
   M /trunk/src/CMakeLists.txt

For the link step use the information collected in
${LAPACK_LINKER_FLAGS} and ${LAPACK_LIBRARIES} by the new FindLAPACK.cmake
module we are now using.

------------------------------------------------------------------------
r417 | airwin | 2007-01-25 22:28:19 -0800 (Thu, 25 Jan 2007) | 2 lines
Changed paths:
   M /trunk/README

Major changes concerning instructions for our new CMake build system.

------------------------------------------------------------------------
r416 | airwin | 2007-01-25 19:11:54 -0800 (Thu, 25 Jan 2007) | 3 lines
Changed paths:
   D /trunk/m4

Strip out all autotools-related files since I have a working CMake
build system.

------------------------------------------------------------------------
r415 | airwin | 2007-01-25 19:09:08 -0800 (Thu, 25 Jan 2007) | 2 lines
Changed paths:
   M /trunk/NEWS

Make NEWS consistent with website news.

------------------------------------------------------------------------
r414 | airwin | 2007-01-25 18:53:30 -0800 (Thu, 25 Jan 2007) | 3 lines
Changed paths:
   D /trunk/Makefile.am
   D /trunk/bootstrap.sh
   D /trunk/configure.ac
   D /trunk/include/Makefile.am
   D /trunk/m4/Makefile.am
   D /trunk/m4/README.macros
   D /trunk/m4/acx_blas.m4
   D /trunk/m4/acx_lapack.m4
   D /trunk/src/Makefile.am
   D /trunk/utils/Makefile.am
   D /trunk/www/Makefile.am

Strip out all autotools-related files since I have a working CMake
build system.

------------------------------------------------------------------------
r413 | airwin | 2007-01-25 18:30:39 -0800 (Thu, 25 Jan 2007) | 2 lines
Changed paths:
   A /trunk/cmake/modules/CheckFortranFunctionExists.cmake
   A /trunk/cmake/modules/FindBLAS.cmake
   A /trunk/cmake/modules/FindLAPACK.cmake
   M /trunk/cmake/modules/free_eos.cmake

Add BLAS and LAPACK checking functionality following autoconf macros.

------------------------------------------------------------------------
r412 | airwin | 2007-01-24 18:52:03 -0800 (Wed, 24 Jan 2007) | 10 lines
Changed paths:
   M /trunk/include/bfgs.h
   M /trunk/src/bfgs.f
   M /trunk/utils/test_rosenbrock.f
   M /trunk/utils/test_rosenbrock.out_standard

Convert the bfgs code and its Rosenbrock test routine to reverse
communication.  The resulting test_rosenbrock.out_standard is numerically
identical to the previous result, but now also gives the initial values of
function and gradient, and also has a slightly different ascii description
of the results.

N.B. reverse communication for the BFGS technique is a huge convenience for
users since the argument lists to the routines that supply the function and
gradient can be of any form.

------------------------------------------------------------------------
r411 | airwin | 2007-01-19 16:15:31 -0800 (Fri, 19 Jan 2007) | 11 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Remove temporary zeroing of part of the free-energy gradient calculation
that was used for testing purposes and inadvertently left in the code.  Once
the full gradient calculation is restored by this change, the Newton-Raphson
iteration zeroes the gradient quadratically as expected for pure H, pure He,
and full abundance tests cases for EOS1, kif=2, log T = 5, log rho = -2.
This is a good comprehensive test that all free-energy derivatives for these
particular test cases are fine.  It was also interesting to show that the NR
iterations did not reduce the gradient very much until extremely close to
the minimum. Which shows as expected that the NR technique is not very good
far from the minimum.

------------------------------------------------------------------------
r410 | airwin | 2007-01-19 15:37:42 -0800 (Fri, 19 Jan 2007) | 7 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Remove freef (which is now contained in free_daux array).

First attempt at free_daux for fl eliminated by iteration.  Something is not
quite right because partials of free(aux,fl) wrt aux and fl are tested but
gradient calculated from them does not go to zero as NR iteration
numerically approaches minimum of free(aux) (with fl eliminated).

------------------------------------------------------------------------
r409 | airwin | 2007-01-19 15:33:59 -0800 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/free_eos_detailed.f

Remove freef (which is now contained in free_daux array).

------------------------------------------------------------------------
r408 | airwin | 2007-01-19 15:30:09 -0800 (Fri, 19 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/eos_calc.f

Fix _dv initialization bug that meant free_dv was not getting properly
initialized when H2 or H2+ were included in the EOS.

------------------------------------------------------------------------
r407 | airwin | 2007-01-19 15:25:16 -0800 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/free_non_ideal_calc.f

Tweak white space.

------------------------------------------------------------------------
r406 | airwin | 2007-01-18 14:10:51 -0800 (Thu, 18 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/free_non_ideal_calc.f

Tweak dimensions on free_daux.

------------------------------------------------------------------------
r405 | airwin | 2007-01-18 13:08:32 -0800 (Thu, 18 Jan 2007) | 4 lines
Changed paths:
   M /trunk/src/eos_jacobian.f

Tweak which parts of Jacobian are tested, but this doesn't matter now since
testing is complete (at least for EOS1 and kif=2) and debug_jacobian has
now been set to .false..

------------------------------------------------------------------------
r404 | airwin | 2007-01-18 13:06:40 -0800 (Thu, 18 Jan 2007) | 6 lines
Changed paths:
   M /trunk/src/free_non_ideal_calc.f

Bugfix: account for fact that auxnew depends on fl when calculating freef.

With this bugfix, testing completed successfully (at least for EOS1, and
kif=2) so remove all testing go to's which selected sub-components of the
free energy to test.

------------------------------------------------------------------------
r403 | airwin | 2007-01-18 13:03:39 -0800 (Thu, 18 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Tests done so set debug_jacobian = .false.

------------------------------------------------------------------------
r402 | airwin | 2007-01-18 13:02:44 -0800 (Thu, 18 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f

Tests done so set debug_any = .false.

------------------------------------------------------------------------
r401 | airwin | 2007-01-17 19:12:27 -0800 (Wed, 17 Jan 2007) | 4 lines
Changed paths:
   M /trunk/src/ionize.f

Fix fion_dv index problem.  Forgot external arrays had to have a different
treatment of the index from internal arrays which are reused for each element.
This solves all remaining fion issues.

------------------------------------------------------------------------
r400 | airwin | 2007-01-16 19:05:32 -0800 (Tue, 16 Jan 2007) | 5 lines
Changed paths:
   M /trunk/src/eos_calc.f
   M /trunk/src/ionize.f

Calculate fion and fionh derivatives using the new paradigm of a
non-equilibrium calculation of fion and fionh.  Results look good for
the partials with respect to fl, but have not completed checks for aux
derivatives, yet.

------------------------------------------------------------------------
r399 | airwin | 2007-01-16 13:36:29 -0800 (Tue, 16 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f

debug_any = .true. during this current series of tests.

------------------------------------------------------------------------
r398 | airwin | 2007-01-16 13:33:04 -0800 (Tue, 16 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Fixed debug logic.  Also debug_jacobian is set to true for the current set
of tests, but that will be changed back to false for real EOS calculations.

------------------------------------------------------------------------
r397 | airwin | 2007-01-16 13:28:54 -0800 (Tue, 16 Jan 2007) | 20 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_non_ideal_calc.f

Continued bug fixing for free_daux logic in free_non_ideal_calc.

* fixed non-local dimensions for local arrays.  (g77 should have caught this
error, and the result was local arrays were overwriting other data.)

* Passed required values back from eos_warm_step through eos_jacobian to
free_non_ideal_calc.

* Corrected some errors in assumed name for do loop indices.

Status: For EOS1 all partial derivatives of free wrt auxiliary variables are
verified by centred differences except for the fion component (whose partial
derivatives are not yet programmed for the new non-equilibrium paradigm).
For EOS1 the partial derivative of free wrt ln f is verified by centred
differences except for the Coulomb, mdh_pi, and fion components.  I don't
understand the first two since the equivalent pressure result is fine.  I
suspect there is still some lurking data overwriting going on due to
non-local dimensions.  The fion partial wrt ln f is not yet programmed in
the new paradigm.

------------------------------------------------------------------------
r396 | airwin | 2007-01-16 11:58:52 -0800 (Tue, 16 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

naux sanity check.

------------------------------------------------------------------------
r395 | airwin | 2007-01-16 11:50:34 -0800 (Tue, 16 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/mdh_pi.f

Remove factor of 2x error in free_pi2_daux calculation.

------------------------------------------------------------------------
r394 | airwin | 2007-01-10 18:15:49 -0800 (Wed, 10 Jan 2007) | 8 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_non_ideal_calc.f

Combine all components (including fion) into the total free energy in
free_non_ideal_calc.  This combining calculation is completely reorganized
in a logical manner compared to previous combined free energy calculations
that first appeared in eos_warm_step, then eos_jacobian.

Status: still obtain good results compared to equilibrium values of
free-energy, but I have not yet tested the partial derivatives.

------------------------------------------------------------------------
r393 | airwin | 2007-01-10 18:04:46 -0800 (Wed, 10 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

naux_local = 20 ==> naux_local = 21

------------------------------------------------------------------------
r392 | airwin | 2007-01-01 15:13:22 -0800 (Mon, 01 Jan 2007) | 9 lines
Changed paths:
   M /trunk/src/eos_jacobian.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_non_ideal_calc.f

Move free_non_ideal_calc call from eos_warm_step to eos_jacobian.
Take this opportunity to simplify the free_non_ideal_calc argument list
by replacing all the traditional auxiliary variables by aux, auxf, auxt.

The result was identical with previous.  This means the NR iteration is
still minimizing the free energy as a function of auxiliary variables (for
fl implicitly eliminated in terms of the fixed input rho) which is the
desired outcome.

------------------------------------------------------------------------
r391 | airwin | 2006-12-31 19:41:24 -0800 (Sun, 31 Dec 2006) | 18 lines
Changed paths:
   M /trunk/src/CMakeLists.txt
   M /trunk/src/eos_warm_step.f
   A /trunk/src/free_non_ideal_calc.f

Initial commit of free_non_ideal_calc which calculates non-ideal components
of free energy _after_ eos_calc is called (which updates all auxiliary
variables to new values).

It turns out it is essential to use the updated auxiliary variables. Without
this change, the free-energy for fl(aux) is not minimized by the NR
solution.  For two test cases (log rho = -2 and +2 for log T = 5) without
this update, the free-energy went through some gyrations close to minimum or
else maximized.  The same two test cases with this fix showed a nice
progression to (quartic?) minimum with near perfect agreement with the
NR-converged free-energy calculated using equilibrium relations.

Status: now I have (finally!) demonstrated free-energy minimization
equivalent of NR technique, still need to programme the gradient and
apply the BFGS technique when the NR technique is having trouble converging.
So there is a ton still to do, but it is a nice first step that was completed
today.

------------------------------------------------------------------------
r390 | airwin | 2006-12-31 11:57:19 -0800 (Sun, 31 Dec 2006) | 4 lines
Changed paths:
   M /trunk/src/eos_calc.f

Make monatomic hydrogen mass consistent with that used in ionize.

Test for nu(species) > 0. to avoid log(0.) in fion calculation.

------------------------------------------------------------------------
r389 | airwin | 2006-12-31 11:51:43 -0800 (Sun, 31 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Comment out debug output of free energy which has now been moved to
eos_free_calc after fl iteration is completed.

------------------------------------------------------------------------
r388 | airwin | 2006-12-31 11:49:25 -0800 (Sun, 31 Dec 2006) | 4 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Debug output of free energy calculated from first principles after fl
iteration is completed to make rho(fl) consistent with input rho for fixed
(input) auxiliary variables.

------------------------------------------------------------------------
r387 | airwin | 2006-12-31 11:46:34 -0800 (Sun, 31 Dec 2006) | 4 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Reduce free energy component debug output.

Commented out test of free_fp (free energy calculated from first principles).

------------------------------------------------------------------------
r386 | airwin | 2006-12-29 21:39:32 -0800 (Fri, 29 Dec 2006) | 4 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Temporarily output components of equilibrium free energy formula
to compare with calculation done in ionize, eos_calc, and eos_warm_step that
is formulated from first principles.

------------------------------------------------------------------------
r385 | airwin | 2006-12-29 21:38:04 -0800 (Fri, 29 Dec 2006) | 9 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Transform fion the following way consistent with the first-principles
result: Add in (1.d0 + 1.5d0*tl - rl) term summed over all species
multiply by RT to obtain free-energy in ergs, and put in hydrogen species
energy zero point shift of h2diss for the two diatomic species and h2diss/2
for the monatomic species.

Temporarily output components of free energy to compare with equilibrium
calculation.

------------------------------------------------------------------------
r384 | airwin | 2006-12-29 21:35:25 -0800 (Fri, 29 Dec 2006) | 13 lines
Changed paths:
   M /trunk/src/eos_calc.f

Treat ifreduced_mass, mass values, and monatomic partition functions
consistently between eos_calc and ionize so that the two should give
consistent results when molecules are turned on but negligible and when
molecules are turned explicitly off.

Introduce molecular treatment of the hydrogen component of fion derived
from first principles.  This result should be good for all conditions, not
just chemical equilibrium.

Currently, there is a small difference ~1.d-3*h2plusrat between this new
treatment (when at chemical equilibrium) and the old equilibrium
formula for fion.  Still trying to figure it out.

------------------------------------------------------------------------
r383 | airwin | 2006-12-28 12:05:31 -0800 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/eos_calc.f

fh ==> fionh variable name change to be consistent with ionize.

------------------------------------------------------------------------
r382 | airwin | 2006-12-21 16:48:28 -0800 (Thu, 21 Dec 2006) | 6 lines
Changed paths:
   M /trunk/src/ionize.f

Change expression for fion in chemical equilibrium to the more fundamental
formulation in terms of number densities that is correct regardless of whether
chemical equilibrium has been obtained or not.  The new formulation still
needs to be tested and the partial derivatives have to be changed to
be consistent with the new formulation.

------------------------------------------------------------------------
r381 | airwin | 2006-12-21 12:06:47 -0800 (Thu, 21 Dec 2006) | 6 lines
Changed paths:
   M /trunk/src/ionize.f

All f related variables renamed to fion to make them easy to distinguish.

Put infrastructure in place to calculate fion from first principles (i.e.,
as a function of number density) rather than using relationships that are
only true at chemical equilibrium.

------------------------------------------------------------------------
r380 | airwin | 2006-12-21 12:04:40 -0800 (Thu, 21 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Add test call to eos_free_calc for comparison purposes.

------------------------------------------------------------------------
r379 | airwin | 2006-12-21 12:03:29 -0800 (Thu, 21 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Restore original status for fl and aux before returning from eos_free_calc.f
so as not to affect the NR iteration for now.

------------------------------------------------------------------------
r378 | airwin | 2006-12-20 11:36:38 -0800 (Wed, 20 Dec 2006) | 9 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Entirely new version of eos_free_calc that is based on calculating free
energy as a function of aux(old).  Initial version uses iterative calls to
eos_jacobian to determine fl as function of aux_old.  Initial standard test
of this version showed quadratic convergence so I must be doing something
correctly.  It turns out this standard test does not exercise heuristics for
keeping the fl iteration under control when the inferred change in fl is
large or when the derivative of fl with respect to density has the wrong
sign so this may not be the final version of those heuristics.

------------------------------------------------------------------------
r377 | airwin | 2006-12-18 23:34:47 -0800 (Mon, 18 Dec 2006) | 10 lines
Changed paths:
   M /trunk/src/CMakeLists.txt
   A /trunk/src/aux_to_traditional.f
   M /trunk/src/eos_jacobian.f
   M /trunk/src/free_eos_detailed.f

Eliminate traditional forms of auxiliary variables and their partial
derivatives from argument lists in eos_jacobian routine called from
free_eos_detailed.f.  Use aux_old, aux and its derivatives instead.  Use
aux_to_traditional subroutine and traditional_to_aux entry point to copy
from aux_old) to local traditional variables on entry and from traditional
variables to aux, auxf, auxt, and daux_dv on exit.

Gave identical results to previous for standard free_eos_test at log rho = 0,
log T = 5, EOS1.

------------------------------------------------------------------------
r376 | airwin | 2006-12-18 23:25:39 -0800 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f

Turn debug mode to off to be consistent with previous releases.

------------------------------------------------------------------------
r375 | airwin | 2006-11-30 21:57:33 -0800 (Thu, 30 Nov 2006) | 3 lines
Changed paths:
   A /trunk/CMakeLists.txt
   A /trunk/cmake
   A /trunk/cmake/modules
   A /trunk/cmake/modules/fortran.cmake
   A /trunk/cmake/modules/free_eos.cmake
   A /trunk/cmake/modules/free_eos_version.cmake
   A /trunk/cmake/modules/instdirs.cmake
   A /trunk/include/CMakeLists.txt
   A /trunk/src/CMakeLists.txt
   A /trunk/utils/CMakeLists.txt
   A /trunk/www/CMakeLists.txt

Introduce a CMake Build System (CBS) for FreeEOS.  Initial indications are
that it works well.

------------------------------------------------------------------------
r374 | airwin | 2006-11-30 21:56:31 -0800 (Thu, 30 Nov 2006) | 5 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Comment out calls to eos_bfgs since probably will be replacing that
number-density BFGS technique with an auxiliary variable BFGS technique, and
in any case the eos_bfgs call chain has been disrupted by some changes
to argument lists that have not been finished properly.

------------------------------------------------------------------------
r373 | airwin | 2006-11-29 19:24:50 -0800 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/utils/test_rosenbrock.out_standard

Change to improved format for output.

------------------------------------------------------------------------
r372 | airwin | 2006-11-29 18:56:07 -0800 (Wed, 29 Nov 2006) | 5 lines
Changed paths:
   M /trunk/utils/abund_read.f

Replace " use " by "_use_" in all comments using the cmake_module_fixup.sed
sed script. This change is a horrible workaround required for current cmake,
but the script can be easily changed to reverse this workaround once cmake
fixes this bug.

------------------------------------------------------------------------
r371 | airwin | 2006-11-29 18:54:55 -0800 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/utils/test_rosenbrock.f

Format output.

------------------------------------------------------------------------
r370 | airwin | 2006-11-29 15:57:39 -0800 (Wed, 29 Nov 2006) | 5 lines
Changed paths:
   M /trunk/src/bfgs.f
   M /trunk/src/coulomb.f
   M /trunk/src/effective_radius.f
   M /trunk/src/eos_bfgs.f
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_jacobian.f
   M /trunk/src/eos_sum_calc.f
   M /trunk/src/eos_tqft.f
   M /trunk/src/eos_tqsum_calc.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/exchange_gcpf.f
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/fermi_dirac.f
   M /trunk/src/fermi_dirac_ct.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/fermi_dirac_original_coeff.f
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/free_eos_interpolated.f
   M /trunk/src/ionize.f
   M /trunk/src/lnx_calc.f
   M /trunk/src/master_coulomb.f
   M /trunk/src/mdh_pi.f
   M /trunk/src/plsum.f
   M /trunk/src/pteh_pi.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qryd_approx.f
   M /trunk/src/qryd_calc.f
   M /trunk/src/qstar_calc.f
   M /trunk/src/quad4b.f

Replace " use " by "_use_" in all comments using the cmake_module_fixup.sed
sed script. This change is a horrible workaround required for current cmake,
but the script can be easily changed to reverse this workaround once cmake
fixes this bug.

------------------------------------------------------------------------
r369 | airwin | 2006-11-29 15:44:48 -0800 (Wed, 29 Nov 2006) | 5 lines
Changed paths:
   A /trunk/src/cmake_module_fixup.sed

Initial commit of useful sed script to replace " use " by "_use_" in all
comments. This is a horrible workaround required for current cmake, but the
script can be easily changed to reverse the workaround once cmake fixes this
bug.

------------------------------------------------------------------------
r368 | airwin | 2006-11-29 15:31:31 -0800 (Wed, 29 Nov 2006) | 4 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/eos_jacobian.f
   M /trunk/src/free_eos_detailed.f

Initial commit of eos_jacobian.f which is called by free_eos_detailed.f and
which in turn calls free_eos_warm_step and calculates Jacobian from same.
This compiles, but has not been tested yet.

------------------------------------------------------------------------
r367 | airwin | 2006-06-04 17:26:00 -0700 (Sun, 04 Jun 2006) | 2 lines
Changed paths:
   M /trunk/m4
   M /trunk/m4/.cvsignore

Tweak

------------------------------------------------------------------------
r366 | airwin | 2006-06-04 16:12:07 -0700 (Sun, 04 Jun 2006) | 4 lines
Changed paths:
   M /trunk/utils
   M /trunk/utils/.cvsignore
   M /trunk/utils/Makefile.am
   A /trunk/utils/README.test_rosenbrock
   A /trunk/utils/test_rosenbrock.f
   A /trunk/utils/test_rosenbrock.out_standard

Initial commit of source code, test results, and documentation of a
programme to test the BFGS algorithm included with libfree_eos using the
standard Rosenbrock function minimization.

------------------------------------------------------------------------
r365 | airwin | 2006-06-04 15:11:47 -0700 (Sun, 04 Jun 2006) | 4 lines
Changed paths:
   M /trunk/include/Makefile.am
   A /trunk/include/eos_free_calc_argument.h

Initial commit of eos_free_calc_argument.h.  N.B. this is a work in progress
with the common block not finalized yet.  For example, there are syntax
errors that I will deal with later.

------------------------------------------------------------------------
r364 | airwin | 2006-04-27 19:05:06 -0700 (Thu, 27 Apr 2006) | 26 lines
Changed paths:
   M /trunk/src/bfgs.f

Installed logic for three possibilities (Fletcher estimate, GSL estimate,
and Numerical Recipes estimate) for estimating initial step size of the line
search.  The Fletcher estimate took a few more function evaluations for
Rosenbrock's minimization problem, but also did a better job of finding the
minimum.  I suspect these differences between the initial step size
estimates will not be consistent for a wide variety of function
minimizations so I will stick with the Fletcher estimate just to be
consistent with his book as much as possible.

I also implemented cubic extrapolation/interpolation with a switch from
quadratic to cubic whenever the required derivative information is available
for the previous point.  (This is slightly different than Fletcher who uses
cubic whenever derivative information is available for _any_ prior point.) I
reproduced Fletcher Table 2.6.1 exactly for the case where all data entered
by hand so I am pretty confident that the cubic is being done right (at
least the parts of the code which are exercised by this test). The one
quadratic step simply found the edge of the possible range so that was not a
strong numerical test of the quadratic. The results were better (~20 fewer
function and gradient evaluations) than quadratic by a small but significant
amount and insignificantly different from Fletcher's result given by his
Table 3.5.1 (a few more function evaluations, a few less gradient
evaluations).

I have also kept the option of quadratic only, in case it is more robust
for numerically difficult minimization problems.

------------------------------------------------------------------------
r363 | airwin | 2006-04-27 18:49:02 -0700 (Thu, 27 Apr 2006) | 3 lines
Changed paths:
   M /trunk/include/bfgs.h

Store both deltaf_previous and alpha_previous in case needed for estimating
initial step of next line search.

------------------------------------------------------------------------
r362 | airwin | 2006-04-25 15:20:15 -0700 (Tue, 25 Apr 2006) | 2 lines
Changed paths:
   M /trunk/include/bfgs.h

Trying to improve estimate of alpha1 based on Fletcher's exact remarks.

------------------------------------------------------------------------
r361 | airwin | 2006-04-25 15:19:26 -0700 (Tue, 25 Apr 2006) | 2 lines
Changed paths:
   M /trunk/include/Makefile.am

bfgh.h ==> bfgs.h

------------------------------------------------------------------------
r360 | airwin | 2006-04-25 15:18:21 -0700 (Tue, 25 Apr 2006) | 3 lines
Changed paths:
   M /trunk/configure.ac

Use m4 directory for auxiliary autotools scripts.  Some reordering of
statements.

------------------------------------------------------------------------
r359 | airwin | 2006-04-25 15:05:38 -0700 (Tue, 25 Apr 2006) | 2 lines
Changed paths:
   M /trunk/src/bfgs.f

Trying to improve estimate of alpha1 based on Fletcher's exact remarks.

------------------------------------------------------------------------
r358 | airwin | 2006-04-21 00:35:47 -0700 (Fri, 21 Apr 2006) | 9 lines
Changed paths:
   M /trunk/src/bfgs.f

Put in extra bfgs_linesearch exit corresponding to discussion on PMOO, p. 38
of a function difference criterion to avoid numerical round-off noise in
final stages of overall convergence.  This should increase the overall
robustness of the code for the case where significance loss (numerical noise)
is making life difficult for minimization codes.

Rosenbrock test results were identical to previous except terminated slightly
earlier in final rapid convergence phase.

------------------------------------------------------------------------
r357 | airwin | 2006-04-20 22:32:11 -0700 (Thu, 20 Apr 2006) | 27 lines
Changed paths:
   M /trunk/include/bfgs.h

Complete rewrite to convert from the inefficient GSL linesearch to the
provably correct (through assertions automatically checked as the code
executes) Fletcher line search.

Got factor of six (!) reduction in function/gradient calls compared to GSL
results for BFGS solution to standard test of Rosenbrock function
minimization.  The new implementation uses a quadratic to
extrapolate/interpolate.  The full convergence of the new method requires
roughly 1.4 times as many function evaluations as the test results done with
a cubic that Fletcher reported in his book.  But I favor the more
conservative quadratic approach because I think it may be more robust, and
the factor of 1.4 inefficiency for this test case does not worry me as much
as the factor of ~10 inefficiency of the GSL linesearch algorithm which this
commit replaces.

Of course, there might be something fairly wrong with the new quadratic
extrapolation/interpolation code since the results are limited to an allowed
range to maintain correctness regardless of errors in the
extrapolation/interpolation.  So I may revisit this issue if inefficiencies
are making a difference for the FreeEOS solution.

Also, I expect more tweaks might be required to insure convergence for the
case when numerical noise (significance loss) is substantially interfering
with the process.  (Fletcher discusses numerical noise issues a bit, but I
haven't yet implemented all the tweaks he mentioned to get around the
problem.)

------------------------------------------------------------------------
r356 | airwin | 2006-04-20 18:52:01 -0700 (Thu, 20 Apr 2006) | 27 lines
Changed paths:
   M /trunk/src/bfgs.f

Complete rewrite to convert from the inefficient GSL linesearch to the
provably correct (through assertions automatically checked as the code
executes) Fletcher line search.

Got factor of six (!) reduction in function/gradient calls compared to GSL
results for BFGS solution to standard test of Rosenbrock function
minimization.  The new implementation uses a quadratic to
extrapolate/interpolate.  The full convergence of the new method requires
roughly 1.4 times as many function evaluations as the test results done with
a cubic that Fletcher reported in his book.  But I favor the more
conservative quadratic approach because I think it may be more robust, and
the factor of 1.4 inefficiency for this test case does not worry me as much
as the factor of ~10 inefficiency of the GSL linesearch algorithm which this
commit replaces.

Of course, there might be something fairly wrong with the new quadratic
extrapolation/interpolation code since the results are limited to an allowed
range to maintain correctness regardless of errors in the
extrapolation/interpolation.  So I may revisit this issue if inefficiencies
are making a difference for the FreeEOS solution.

Also, I expect more tweaks might be required to insure convergence for the
case when numerical noise (significance loss) is substantially interfering
with the process.  (Fletcher discusses numerical noise issues a bit, but I
haven't yet implemented all the tweaks he mentioned to get around the
problem.)

------------------------------------------------------------------------
r355 | airwin | 2006-04-18 09:53:34 -0700 (Tue, 18 Apr 2006) | 7 lines
Changed paths:
   M /trunk/src/bfgs.f

Stylistic change so that a call to bfgs_iterate corresponds to a line search
(as opposed to the previous style where bfgs_iterate was entered and exited
for each cycle of the bracketing phase).  I confirmed this was
just a stylistic change because I got identical floating point results
at the end of each true iteration of the complete (including the
bracketing phase) line search.

------------------------------------------------------------------------
r354 | airwin | 2006-04-12 19:37:41 -0700 (Wed, 12 Apr 2006) | 2 lines
Changed paths:
   M /trunk/include/Makefile.am
   M /trunk/include/bfgs.h
   M /trunk/include/constants.h
   M /trunk/include/diagnostics.h
   M /trunk/include/eff_fit.h
   M /trunk/include/excitation_block.h
   M /trunk/include/helium1.h
   M /trunk/include/ionization.h
   M /trunk/include/nuvar.h
   M /trunk/include/quad4block.h
   M /trunk/include/statistical_weights.h

Copyright date update to 2006.

------------------------------------------------------------------------
r353 | airwin | 2006-04-12 19:18:59 -0700 (Wed, 12 Apr 2006) | 2 lines
Changed paths:
   M /trunk/include/bfgs.h

GPL license

------------------------------------------------------------------------
r352 | airwin | 2006-04-12 19:12:47 -0700 (Wed, 12 Apr 2006) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/coulomb.f
   M /trunk/src/coulomb_adjust.f
   M /trunk/src/deriv_product.f
   M /trunk/src/deriv_ratio.f
   M /trunk/src/effective_radius.f
   M /trunk/src/effsum_calc.f
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_sum_calc.f
   M /trunk/src/eos_tqft.f
   M /trunk/src/eos_tqsum_calc.f
   M /trunk/src/exchange_coeff.f
   M /trunk/src/exchange_gcpf.f
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_pi_end.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/exct.f
   M /trunk/src/f_psi.f
   M /trunk/src/fermi_dirac.f
   M /trunk/src/fermi_dirac_coeff.f
   M /trunk/src/fermi_dirac_ct.f
   M /trunk/src/fermi_dirac_direct.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/fermi_dirac_minusnr_coeff.f
   M /trunk/src/fermi_dirac_original_coeff.f
   M /trunk/src/fermi_dirac_recursion.f
   M /trunk/src/fjs_pi.f
   M /trunk/src/fp12.f
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/free_eos_interpolated.f
   M /trunk/src/ionize.f
   M /trunk/src/lnblnk.f
   M /trunk/src/lnx_calc.f
   M /trunk/src/master_coulomb.f
   M /trunk/src/mdh_pi.f
   M /trunk/src/molecular_hydrogen.f
   M /trunk/src/pl_prepare.f
   M /trunk/src/plsum.f
   M /trunk/src/plsum_approx.f
   M /trunk/src/poly_sum.f
   M /trunk/src/pteh_pi.f
   M /trunk/src/pteh_theta.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qryd_approx.f
   M /trunk/src/qryd_calc.f
   M /trunk/src/qstar_calc.f
   M /trunk/src/quad4b.f
   M /trunk/src/round_ln.f
   M /trunk/src/tau_calc.f
   M /trunk/src/version.f

Copyright date update to 2006.

------------------------------------------------------------------------
r351 | airwin | 2006-04-12 19:09:28 -0700 (Wed, 12 Apr 2006) | 2 lines
Changed paths:
   M /trunk/src/bfgs.f

GPL license.

------------------------------------------------------------------------
r350 | airwin | 2006-04-12 18:38:21 -0700 (Wed, 12 Apr 2006) | 6 lines
Changed paths:
   M /trunk/src/bfgs.f

g77 demands

      external ffunction, dfsubroutine

for calling routine when these procedure names are passed.

------------------------------------------------------------------------
r349 | airwin | 2006-04-12 18:35:38 -0700 (Wed, 12 Apr 2006) | 6 lines
Changed paths:
   M /trunk/include/Makefile.am
   A /trunk/include/bfgs.h
   M /trunk/src/Makefile.am

Initial commit of my fortran implementation of GSL (unbounded) BFGS routine
that was originally written in C. N.B. this fortran implementation is
complete and compiles without errors, but it still needs to be tested
thoroughly with at least one test function and after that many FreeEOS
tests to see whether it does better than L-BFGS-B.

------------------------------------------------------------------------
r348 | airwin | 2006-04-12 18:29:20 -0700 (Wed, 12 Apr 2006) | 6 lines
Changed paths:
   A /trunk/src/bfgs.f

Initial commit of my fortran implementation of GSL (unbounded) BFGS routine
that was originally written in C. N.B. this fortran implementation is
complete and compiles without errors, but it still needs to be tested
thoroughly with at least one test function and after that many FreeEOS
tests to see whether it does better than L-BFGS-B.

------------------------------------------------------------------------
r347 | airwin | 2006-04-12 18:24:39 -0700 (Wed, 12 Apr 2006) | 26 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Go back to iterating on log(nu') to avoid bounds faults that occur with
previous method due to robustness issues with L-BFGS-B.  Also, use gradient
criterion for convergence.

This commit corresponds to best use of L-BFGS-B to date, but log rho = 1.5
isochore showed up yet one more robustness issue with L-BFGS-B at log T =
4.8 for the pure He case.  The L-BFGS-B line search ignored a good solution
and used a significantly worse one instead which screwed up the subsequent
Newton-Raphson iteration.

This was the straw that broke the camel's back.  The "B" L-BFGS-B was
already suspect because the specified bounds were ignored in some cases
leading to major problems (overflows, Inf, NaN) in my own code. Furthermore,
L-BFGS-B is code with a bad free license (must advertise two papers in
perpetuity no matter how indirectly referenced) so nobody is working on it
including the principal authors who want to switch me to the expensive
proprietary version.  In sum, the "free" version is unmaintained crippleware
with a bad license.

Thus, I have decided further FreeEOS work will use my own fortran
implementation of BFGS starting by implementing the C code in the GSL (Gnu
Scientific Library) in fortran.  If that fortran version has any robustness
issues, then I will hit the (many) books and papers which have described the
BFGS technique in detail and also interact with the GSL BFGS developers to
straighten out any problems I encounter.

------------------------------------------------------------------------
r346 | airwin | 2006-04-05 13:11:58 -0700 (Wed, 05 Apr 2006) | 17 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Tried nu' iteration rather than log(nu') iteration where actual nu is given
by

nu = nu'/(1+nu')*eps_lim

This gave better convergence for gradients so it was quite promising, but it
turned out to not be robust because had to impose lower limit on nu' which
exposed the usual intermittent limit bug for L-BFGS-B (where it sometimes
requests independent variables substantially outside the limit range with
often catastrophic results).  Even imposing my own limits didn't work and
sometimes confused the L-BFGS-B algorithm to provide a solution right
at the imposed limit which was ~1 per cent worse than the starting solution.

So after this commit to save the work, I am going to abandon this approach
and go back to iterating on log(nu') which so far is quite robust although
it doesn't converge the gradient quite as much as I would like.

------------------------------------------------------------------------
r345 | airwin | 2006-04-05 12:49:06 -0700 (Wed, 05 Apr 2006) | 21 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

log rho = 1.5 isochore tests exposed an ifsame_under bug.  I don't
completely understand prior logic which seemed over-complicated for deciding
when auxiliary variable iteration was close to convergence so could pre-zero
quantities calculated in ionize that had underflowed before.  I think my
prior idea was not to worry about wildly swinging but small auxiliary
variables that ultimately did not matter, but the result was this logic was
set way too soon resulting in zero results when none were justified by an
underflow.  I switched to more conservative logic with 1.d-3 overall
convergence criterion (i.e., roughly two iterations before final
convergence), and that solved the issue (which previously was screwing up
initial BFGS estimates with nu values of zero when they should not have
been).

Got rid of a number of unused variables.

temporary disabling of Newton-Raphson limits (which don't seem to be working
well in any case so this logic will probably be replaced by something else).

temporary look at eos_bfgs after Newton-Raphson convergence to check
consistency.

------------------------------------------------------------------------
r344 | airwin | 2006-04-05 12:38:18 -0700 (Wed, 05 Apr 2006) | 2 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Tweak warning message.

------------------------------------------------------------------------
r343 | airwin | 2006-04-05 12:37:04 -0700 (Wed, 05 Apr 2006) | 2 lines
Changed paths:
   M /trunk/src/ionize.f

Save nuvar in all cases.

------------------------------------------------------------------------
r342 | airwin | 2006-03-26 09:01:30 -0800 (Sun, 26 Mar 2006) | 26 lines
Changed paths:
   M /trunk/src/eos_bfgs.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_sum_calc.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_eos_detailed.f

Snapshot of source code to serve as benchmark for further BFGS efforts.

Status:

* Extensive temporary output of values to help show how the BFGS logic is
working.

* Emphasis on subtraction technique to determine the reference species where
the reference species is the most abundant of all neutral or ionized states.
(Renormalization technique is still there for emergencies when epsilon/2
bounds are still not enough to insure sum nu(non-ref) < eps).

* All partial derivatives for the subtraction technique have been verified
for the helium case for a wide variety of conditions.

* BFGS technique seems to be working properly for all densities up to and
including log rho = 0

* L-BFGS-B (Lbfgsb) upper bound of eps/2 deployed which is necessary (but
not sufficient in some odd corner cases) for keeping the calculated
reference species within bounds.  Unfortunately, both Lbfgsb.2.1 and 2.4
seem to let us down with consistently enforcing the bounds so the next step
is to use a transformation to enforce the bounds and use Lbfgsb only in
unbounded mode.  In fact, this next development is the motivation for taking
the current snapshot to serve as a benchmark.

------------------------------------------------------------------------
r341 | airwin | 2006-03-26 08:49:04 -0800 (Sun, 26 Mar 2006) | 5 lines
Changed paths:
   M /trunk/README

Update section on creating L-BFGS-B library to emphasize that it is an
experimental concept that is being explored in CVS right now, and the
final decision about whether to include the BFGS technique to help solve
the EOS is still not made.

------------------------------------------------------------------------
r340 | airwin | 2006-03-26 08:46:50 -0800 (Sun, 26 Mar 2006) | 2 lines
Changed paths:
   M /trunk/www/documentation.html
   M /trunk/www/index.html

Copyright 2004, 2005, and 2006 on web documents

------------------------------------------------------------------------
r339 | airwin | 2006-03-26 08:45:36 -0800 (Sun, 26 Mar 2006) | 5 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Version 2.1.0.  Normally I like to change this number right after release
to strongly distinguish cvs efforts leading up to the next release
from the software that has been previously released, but this time
I forgot.

------------------------------------------------------------------------
r338 | airwin | 2006-02-01 22:08:32 -0800 (Wed, 01 Feb 2006) | 11 lines
Changed paths:
   M /trunk/src/eos_bfgs.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_sum_calc.f
   M /trunk/src/free_eos_detailed.f

Update to one furthe improvement in formulation which minimizes free for the
independent variables x = log(nu(ref and non-ref)/nu(max)). This replaces
the previous version which minimized free for the independent variables x =
log(nu(non-ref)/nu(ref)).

The advantage of this formulation is it reduces correlation.  In the old
version to get a change in nu(neutral) you had to change all the ions by the
same (correlated) amount.  In the new formulation, nu(max) tends to stay
more constant (near its maximum value of eps) then nu(ref) = nu(neutral) in
the old formulation.

------------------------------------------------------------------------
r337 | airwin | 2006-01-31 00:31:16 -0800 (Tue, 31 Jan 2006) | 24 lines
Changed paths:
   M /trunk/src/eos_bfgs.f
   M /trunk/src/eos_free_calc.f
   M /trunk/src/eos_sum_calc.f
   M /trunk/src/free_eos_detailed.f

Update to an improved formulation which minimizes free for the independent
variables x = log(nu(non-ref)/nu(ref)). This replaces old version which
minimized free for the independent variables x = log(nu(non-ref)).

Advantages of transformation:

* No constraints on new x values within huge range.

* sum calculations were almost already done using new normalization with
significance loss problems already sorted out.

* No numerical problems determining nu(r) and nu(nr) from new x although I
have to perform additional sum with maximum component removed to squeeze out
a final reduction in the significance loss.

* partial of F(xold)/xold depends on newx directly without inferring anything
about the log(nu(reference) so no numerical problems there.

Disadvantage:

* partial F(x)/wrt x requires sum over all partial F(xold)/ wrt xold,
but I have worked out an implementation of that which works without
substantial significance loss.

------------------------------------------------------------------------
r336 | airwin | 2006-01-29 15:52:09 -0800 (Sun, 29 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/free_eos.f

Add debug_any option to be changed to .true. at the same time as any debug_*
option is changed to .true. in free_eos_detailed.f.

------------------------------------------------------------------------
r335 | airwin | 2006-01-29 15:47:21 -0800 (Sun, 29 Jan 2006) | 8 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Provide debug_bfgs capability and introduce debug_all to make the code
a little more compact and understandable.

Status: this is the check-in of best x=log(nuvar(nr)) free-energy
minimization result (which is suspect because of horrible significance loss
problems, but which did provide a working minimization for conditions where
significance loss was not an issue).

------------------------------------------------------------------------
r334 | airwin | 2006-01-29 15:42:57 -0800 (Sun, 29 Jan 2006) | 10 lines
Changed paths:
   M /trunk/src/eos_bfgs.f

Provide debug_bfgs feedback to check partial derivatives.

Provide method of determining active variables based on size of x and size
of the gradient and only iterate on those variables.

Status: this is the check-in of best x=log(nuvar(nr)) result (which is
suspect because of horrible significance loss problems, but which did
provide a working minimization for conditions where significance loss was
not an issue).

------------------------------------------------------------------------
r333 | airwin | 2006-01-29 15:38:11 -0800 (Sun, 29 Jan 2006) | 13 lines
Changed paths:
   M /trunk/src/eos_free_calc.f

Comment out free component write out which was being used for debugging
purposes.

Use eos_sum_calc to provide fion as a function of number to replace the
(removed) call to eos_tqsum_calc routine which depended on equilbrium
constants.  (The equilibrium constant expression for fion only holds at
convergence which is not what we want here.)

Status: this is the check-in of best x=log(nuvar(nr)) result (which is
suspect because of horrible significance loss problems, but which did
provide a working minimization for conditions where significance loss was
not an issue).

------------------------------------------------------------------------
r332 | airwin | 2006-01-29 15:33:03 -0800 (Sun, 29 Jan 2006) | 10 lines
Changed paths:
   M /trunk/src/eos_sum_calc.f

Add calculation of fion as a function of number to replace the (removed)
eos_tqsum_calc method which depended on equilbrium constants.  (The
equilibrium constant expression for fion only holds at convergence which is
not what we want here.)

Status: this is the check-in of best x=log(nuvar(nr)) result (which is
suspect because of horrible significance loss problems, but which did
provide a working minimization for conditions where significance loss was
not an issue).

------------------------------------------------------------------------
r331 | airwin | 2006-01-29 15:24:27 -0800 (Sun, 29 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Comment out extra write-out of components of free that were being used
only for debugging purposes.

------------------------------------------------------------------------
r330 | airwin | 2006-01-29 15:21:58 -0800 (Sun, 29 Jan 2006) | 4 lines
Changed paths:
   M /trunk/include/nuvar.h

Improve commentary and also add one more element to nuvar to hold the
bare ion nu value.  This extra element is required for the BFGS minimization
possibility.

------------------------------------------------------------------------
r329 | airwin | 2006-01-29 15:19:17 -0800 (Sun, 29 Jan 2006) | 3 lines
Changed paths:
   M /trunk/README

Initial cut at discussing the (possible) L-BFGS-B prequisite assuming I
can get the BFGS technique to work in general for FreeEOS.

------------------------------------------------------------------------
r328 | airwin | 2006-01-26 00:35:20 -0800 (Thu, 26 Jan 2006) | 6 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Test calls to eos_bfgs to see whether minimizes free.

pnorad_daux and free_daux calculations moved to eos_warm_step.

rearranged test output.

------------------------------------------------------------------------
r327 | airwin | 2006-01-26 00:32:30 -0800 (Thu, 26 Jan 2006) | 4 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Put pnorad_daux and free_daux calculations in this routine rather
than in the calling routine (free_eos_detailed).  Rearranged temporary
measure to output results.

------------------------------------------------------------------------
r326 | airwin | 2006-01-26 00:29:58 -0800 (Thu, 26 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Allow negative ifnr to mark when no derivatives required at all.

------------------------------------------------------------------------
r325 | airwin | 2006-01-26 00:27:16 -0800 (Thu, 26 Jan 2006) | 23 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/eos_bfgs.f
   A /trunk/src/eos_free_calc.f
   A /trunk/src/eos_sum_calc.f
   A /trunk/src/eos_tqsum_calc.f

Initial commit of eos_free_calc.f eos_sum_calc.f eos_tqsum_calc.f
and build rules for them.  Update of eos_bfgs.f from a simple example to
a real FreeEOS example.

eos_bfgs obtains initial approximation for x = log(nuvar(non-ref)), handles BFGS algorithm and
desired call to eos_free_calc.

eos_free_calc calculates y(x) = -log(-free) and its gradient as a function
of x.

eos_sum_calc calculates all required sums (sum1, sum0, sum2, extrasum,
sumpl0) that don't depend on dv.

eos_tqsum_calc calculates fion sum as a function of dv and other quantities.

Status: test results even for the pure He case for EOS1 are not working very
well, yet.  I suspect derivative problems, but it could also be
ill-conditioning.  You might get correlation between He+ and He++ if all
they do is generate or consume He changing the neutral-neutral pressure
ionization.  But I don't think that is the case here.  Also, there is some
evidence for a back-reaction on the N-R calculation (i.e., L-BFGS-B is
taking a completely wrong step), but derivative testing may sort that out.

------------------------------------------------------------------------
r324 | airwin | 2006-01-26 00:13:06 -0800 (Thu, 26 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/eos_calc.f

Store nuvar in nuvar.h common block for hydrogen case.

------------------------------------------------------------------------
r323 | airwin | 2006-01-26 00:11:56 -0800 (Thu, 26 Jan 2006) | 5 lines
Changed paths:
   M /trunk/src/ionize.f

ifcsum = .not.(if_mc.eq.1.or.if_pteh.eq.1) logic to improve readability
(and speed to a minute degree).

Always save nuvar and related quantities in nuvar.h common block.

------------------------------------------------------------------------
r322 | airwin | 2006-01-26 00:08:31 -0800 (Thu, 26 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/master_coulomb.f

Allow the no derivatives case with ifnr < 0

------------------------------------------------------------------------
r321 | airwin | 2006-01-26 00:07:31 -0800 (Thu, 26 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/qmhd_calc.f

Line wrapping and indentation.

------------------------------------------------------------------------
r320 | airwin | 2006-01-18 15:41:37 -0800 (Wed, 18 Jan 2006) | 6 lines
Changed paths:
   A /trunk/src/eos_bfgs.f

Initial commit of test version of this code that mimicked a minimization in
Fletcher's "Practical Method of Optimization" of Rosenbrock's function using
the L-BFGS-B package. The result compares well with Fletcher's BFGS results
to find the minimum of that function.  So our next commit will try using the
L-BFGS-B package to minimize the free energy from FreeEOS.

------------------------------------------------------------------------
r319 | airwin | 2006-01-15 16:31:43 -0800 (Sun, 15 Jan 2006) | 6 lines
Changed paths:
   M /trunk/www/announcement-2.0.0.html

Tweak first paragraph.

Also, update to the correct ChangeLog location.  This is not in the 2.0.0
tarball because needed to make that file release before I could find out
ChangeLog location at SF.  Chicken and egg.

------------------------------------------------------------------------
r317 | airwin | 2006-01-15 15:49:24 -0800 (Sun, 15 Jan 2006) | 4 lines
Changed paths:
   M /trunk/www
   M /trunk/www/.cvsignore
   A /trunk/www/1.3.0-1.2.0.png
   A /trunk/www/1.4.0-1.3.0.png
   A /trunk/www/1.5.0-1.4.0.png
   A /trunk/www/1.6.0-1.5.0.png
   A /trunk/www/2.0.0-1.6.0.png
   A /trunk/www/eos1a-eos1.png

Put remaining *.png files under CVS control.  They really aren't that big, and
it is convenient to be able to retrieve them from CVS when doing a fresh cvs
checkout rather than having to copy them from the website (or wherever).

------------------------------------------------------------------------
r316 | airwin | 2006-01-15 15:30:23 -0800 (Sun, 15 Jan 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Should be final commit of 2.0.0.

------------------------------------------------------------------------
r315 | airwin | 2006-01-15 15:27:09 -0800 (Sun, 15 Jan 2006) | 2 lines
Changed paths:
   M /trunk/www/Makefile.am

Version 2.0.0 figure and announcement.

------------------------------------------------------------------------
r314 | airwin | 2006-01-15 15:22:46 -0800 (Sun, 15 Jan 2006) | 4 lines
Changed paths:
   A /trunk/www/announcement-2.0.0.html
   M /trunk/www/index.html

Announce the release of version 2.0.0.  The actual announcement will have
to be changed after the release to reflect the actual link to the ChangeLog
area which cannot be created until after the file release.  Chicken and egg...

------------------------------------------------------------------------
r313 | airwin | 2006-01-15 12:08:51 -0800 (Sun, 15 Jan 2006) | 7 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Scale Newton-Raphson iteration so that maximum fl change lies in the range
from -0.01 to +0.01.  This heuristic change made no difference to cold-start
divergence problem for high densities, log T ~ 5.  However, we will release
as is since the new version is significantly faster, and normal use does not
use cold starts at high densities and intermediate temperatures, and instead
uses a Taylor-series approach to get starting solutions.

------------------------------------------------------------------------
r312 | airwin | 2006-01-15 12:02:49 -0800 (Sun, 15 Jan 2006) | 10 lines
Changed paths:
   M /trunk/utils/free_eos_test.in
   M /trunk/utils/free_eos_test.out_standard

For FreeEOS-2.0.0 the cold start convergence at high densities is not as
reliable as for FreeEOS-1.6.0 and prior versions so must do a cold start at
log rho = -1, log T = 5 and use a Taylor series approach with 21 different
densities from log rho = -1. to 0. to achieve a good solution at log rho =
0. log T = 5.

N.B. Plans are in the works to improve the reliability of the convergence.
If those work out, we will revert to a cold start at log rho = 0., log T = 5
for this test for a future version of FreeEOS.

------------------------------------------------------------------------
r311 | airwin | 2006-01-15 10:34:21 -0800 (Sun, 15 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Cosmetic change for improved understandability of the code.  Variable names
iflog and ifokneg changed to allow_log and allow_log_neg.

------------------------------------------------------------------------
r310 | airwin | 2006-01-14 16:26:55 -0800 (Sat, 14 Jan 2006) | 2 lines
Changed paths:
   M /trunk/README

Twak documentation.

------------------------------------------------------------------------
r309 | airwin | 2006-01-14 15:15:39 -0800 (Sat, 14 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_eos_detailed.f

Suppress special temporary calculations and output which tested pnorad,
free and their derivatives in various ways.

------------------------------------------------------------------------
r308 | airwin | 2006-01-14 15:10:53 -0800 (Sat, 14 Jan 2006) | 5 lines
Changed paths:
   M /trunk/src/README.developers

Change documentation to be consistent with completely reorganized
Newton-Raphson iteration which uses combined iteration for fl
and auxiliary variables rather than an outer fl iteration and inner
auxiliary variable iteration.

------------------------------------------------------------------------
r307 | airwin | 2006-01-11 21:49:12 -0800 (Wed, 11 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Pass ifrad to eos_warm_step so that routine can determine whether radiative
component should be included in free or not.

------------------------------------------------------------------------
r306 | airwin | 2006-01-11 21:42:14 -0800 (Wed, 11 Jan 2006) | 4 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

ifrad logic to decide whether radiative component included in free or not.

Reorganize free_pi calculation in more clear manner.

------------------------------------------------------------------------
r305 | airwin | 2006-01-11 21:36:47 -0800 (Wed, 11 Jan 2006) | 3 lines
Changed paths:
   M /trunk/include/Makefile.am

Drop all test*.h files from installation and distribution since those
have been removed (since they are no longer used).

------------------------------------------------------------------------
r304 | airwin | 2006-01-11 21:35:39 -0800 (Wed, 11 Jan 2006) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Adopt version 2.0.0 since this code base is substantially reorganized relative
to the last release of 1.x = 1.6.0.  (Prior to this I had adopted version
1.7.0 in cvs, but that was never released.)

------------------------------------------------------------------------
r303 | airwin | 2006-01-11 14:33:54 -0800 (Wed, 11 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_exchange.f

Add required (for, e.g., GEFF option suite) iforder.eq.0 block to entry
exchange_pressure.

------------------------------------------------------------------------
r302 | airwin | 2006-01-09 21:06:07 -0800 (Mon, 09 Jan 2006) | 17 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

free_star ==> free_excited to avoid confusion with Fermi-Dirac integrals
which are also identified by "star" string.

Partial cleanup: remove unused pnorad, etc. stanza.

For kif = 1, calculate additional RHS function that must be zeroed =
match_variable - log(p) (or match_variable - log(pnorad) for ifrad.gt.1).
Calculate corresponding Jacobian elements.

For kif = 1, calculate RHS vectors so that can determine partials of
auxiliary variables and fl wrt input match_variable and tl.  This requires
knowing pnoradt value calculated by eos_warm_step (see previous commmits).
General (kif=1 or 2, arbitrary ifrad) transformation of results to partials
of auxiliary variables wrt fl and tl.

Results looked good and passed spot checks on partial derivatives.

------------------------------------------------------------------------
r301 | airwin | 2006-01-09 20:40:52 -0800 (Mon, 09 Jan 2006) | 6 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Correct sign error on free_pl.

Derived, implemented and tested pnoradt partial derivatives (with components
assembled from the other recently committed routines) required in
free_eos_detailed for final auxiliary variable derivatives wrt fl and tl.

------------------------------------------------------------------------
r300 | airwin | 2006-01-09 17:57:56 -0800 (Mon, 09 Jan 2006) | 4 lines
Changed paths:
   M /trunk/src/excitation_pi_end.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/fjs_pi.f
   M /trunk/src/master_coulomb.f
   M /trunk/src/mdh_pi.f

Derived, implemented and tested partial derivatives of pressure component
wrt tl which is required to calculate pnoradt partial derivative which in
turn is required for final auxiliary variable derivatives wrt fl and tl.

------------------------------------------------------------------------
r299 | airwin | 2006-01-09 17:55:38 -0800 (Mon, 09 Jan 2006) | 7 lines
Changed paths:
   M /trunk/src/pteh_pi.f

Reorder entries into the order they all called; pteh_pi_pressure,
pteh_pi_free, and pteh_pi_end.

Derived, implemented and tested partial derivatives of pressure component
wrt tl which is required to calculate pnoradt partial derivative which in
turn is required for final auxiliary variable derivatives wrt fl and tl.

------------------------------------------------------------------------
r298 | airwin | 2006-01-08 17:38:37 -0800 (Sun, 08 Jan 2006) | 6 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

pexcited and free_excited plus all derivatives.  This finished all
additional pnorad and free partial derivatives needed for kif=1 (pnorad) and
BFGS (free) cases.

General code cleanup.

------------------------------------------------------------------------
r297 | airwin | 2006-01-08 17:33:34 -0800 (Sun, 08 Jan 2006) | 4 lines
Changed paths:
   M /trunk/include/excitation_block.h

Store psum_dv(nions_excitation+2) and free_sum_dv(nions_excitation+2) in
common block to facilitate communication between excitation_sum and
excitation_pi_pressure_free.

------------------------------------------------------------------------
r296 | airwin | 2006-01-08 17:30:22 -0800 (Sun, 08 Jan 2006) | 7 lines
Changed paths:
   M /trunk/src/excitation_pi_end.f

Replace entry excitation_pi_free by entry excitation_pi_pressure_free to
return pexcited and derivatives as well as the free_excited and derivatives
that were passed back before.

Replace "star" with "excite" in variable names to avoid confusion with
scaled Fermi-Dirac integrals which also have "star" in their name.

------------------------------------------------------------------------
r295 | airwin | 2006-01-08 17:26:31 -0800 (Sun, 08 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Add calculation of psum_dv and free_sum_dv which are required to calculate
pexcited and free_excited derivatives in excitation_pi_pressure_free.

------------------------------------------------------------------------
r294 | airwin | 2006-01-08 17:21:30 -0800 (Sun, 08 Jan 2006) | 4 lines
Changed paths:
   M /trunk/src/eos_calc.f

nug_dv, nuh2_dv, and nuh2plus_dv needed in excitation_sum even for case
where ifpi = 1 or 2. Therefore drop ifpi34 requirement for these calculations
in eos_calc.f.

------------------------------------------------------------------------
r293 | airwin | 2006-01-08 17:18:44 -0800 (Sun, 08 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/ionize.f

nuvar_dv needed in excitation_sum even for case where ifpi = 1 or 2.
Therefore drop ifpi34 requirement for nuvar_dv calculation in ionize.

------------------------------------------------------------------------
r292 | airwin | 2006-01-06 19:16:32 -0800 (Fri, 06 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Implement and test pressure ionization for pnorad and free for the ifpi = 3
(e.g., EOS1) case.

------------------------------------------------------------------------
r291 | airwin | 2006-01-06 19:15:44 -0800 (Fri, 06 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/mdh_pi.f

Implement entry mdh_pi_pressure_free for calculating ppi and free_pi and
derivatives for ifpi = 3 (e.g., EOS1) case.

------------------------------------------------------------------------
r290 | airwin | 2006-01-06 16:22:42 -0800 (Fri, 06 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/master_coulomb.f

Reorder entry points to be in general order _pressure, _free, and _end to
correspond to the order in which these entry points are called.

------------------------------------------------------------------------
r289 | airwin | 2006-01-06 16:05:55 -0800 (Fri, 06 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Implement required special handling of Coulomb derivatives for if_mc.eq.1
case (e.g., EOS2).

------------------------------------------------------------------------
r288 | airwin | 2006-01-06 16:02:47 -0800 (Fri, 06 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Wrap line that was on the 72-character limit.

------------------------------------------------------------------------
r287 | airwin | 2006-01-06 11:37:13 -0800 (Fri, 06 Jan 2006) | 12 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Add pressure ionization term to pnorad and free for ifpi = 2 (e.g., EOS2).
Numerical derivative tests confirmed analytical derivatives of pnorad and
free.

The current status is I have temporarily disabled the Coulomb component for
this (EOS2) case because of the complications of the "metal Coulomb"
(if_mc.eq.1) approximation.

ToDo: (1) Coulomb for EOS2; (2) pressure ionization for EOS1; (3) excitation
for all of EOS3, EOS2, and EOS1; and (4) check pnorad and free against
values calculated in free_eos_detailed.

------------------------------------------------------------------------
r286 | airwin | 2006-01-06 11:24:24 -0800 (Fri, 06 Jan 2006) | 8 lines
Changed paths:
   M /trunk/src/fjs_pi.f

Finish and test (using EOS2) entry fjs_pi_free for calculating free-energy
per unit volume and derivatives due to fjs form of pressure ionization.
Note, the pressure component is entirely equivalent to this component of the
free-energy per unit volume for the fjs form of pressure ionization so no
separate entry fjs_pi_pressure has to be programmed.  Furthermore, I have
also successfully tested ppi and its derivatives (which are identical to
free_pi and its derivatives) for this particular (EOS2) case.

------------------------------------------------------------------------
r285 | airwin | 2006-01-06 10:46:18 -0800 (Fri, 06 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_calc.f

Correct bug which redefined index2 and index3 by using different names where
appropriate: index1, index2, index3 ==> indexh, indexh2, and indexh2plus.

------------------------------------------------------------------------
r284 | airwin | 2006-01-04 15:32:12 -0800 (Wed, 04 Jan 2006) | 5 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Programmed and tested (with comparisons with numerical derivatives for EOS3)
the pressure ionization component of pnorad and free for ifpi = 0 (trivial,
no pressure ionization) and 1 (the PTEH pressure-ionization free-energy
model).

------------------------------------------------------------------------
r283 | airwin | 2006-01-04 15:25:05 -0800 (Wed, 04 Jan 2006) | 4 lines
Changed paths:
   M /trunk/src/pteh_pi.f

Reorganize many variable names into more logical pattern, debug
entry pteh_pi_free, and programme and debug entry pteh_pi_pressure.  Results
checked with numerical derivative tests.

------------------------------------------------------------------------
r282 | airwin | 2006-01-03 19:51:04 -0800 (Tue, 03 Jan 2006) | 7 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Second check point commit on new code to calculate pnorad, free, and their
auxiliary variable and ln f derivatives in eos_warm_step.  Add exchange
(both pnorad and free) and Planck-Larkin (just free since pnorad has no
Planck-Larkin components) and check same. Thus, all components of pnorad and
free have now been calculated with all partial derivatives checked aside
from pressure ionization and excitation components.

------------------------------------------------------------------------
r281 | airwin | 2006-01-03 19:42:09 -0800 (Tue, 03 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_exchange.f

Add exchange_pressure entry point to calculate and return exchange pressure
and its derivative wrt ln f.

------------------------------------------------------------------------
r280 | airwin | 2006-01-03 19:40:11 -0800 (Tue, 03 Jan 2006) | 4 lines
Changed paths:
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_tqft.f
   M /trunk/src/ionize.f

Calculate and return sumpl0_dv (required for dv derivative of Planck-Larkin
component of free energy) from ionize and eos_calc.  Adjust eos_calc call in
eos_cold_start and eos_tqft accordingly.

------------------------------------------------------------------------
r279 | airwin | 2006-01-03 12:48:42 -0800 (Tue, 03 Jan 2006) | 27 lines
Changed paths:
   M /trunk/src/eos_warm_step.f
   M /trunk/src/free_eos_detailed.f

Check point on new code to calculate pnorad, free, and their auxiliary
variable and ln f derivatives in eos_warm_start.  The radiative (for free),
free-electron, ion, and Coulomb parts have been checked against partials wrt
sum0, sum2, and ln f for EOS3 case.  ToDo: check (and in some cases derive
and programme) pressure-ionization, excitation, exchange, and Planck-Larkin
component partial derivatives.

free_eos_detailed status: debug_jacobian is currently .true. (which means
special derivative checks being done for pnorad and free which precludes
calculating normal EOS).

free_eos_detailed status: large reorganization of prior free-energy
calculation now done with calculations performed in the correct order so
that free is strictly a function of old auxiliary variables (except for
rho-dependent parts where I always make everything depend on rho_new =
exp(rl_new) rather than input rl for the case where input rl happens to be
an auxiliary variable).  This reordering means, for example, that derivative
calculations involving sum0 and sum2 must be done before the eos_calc call
that changes those values to the new versions.  However, the ion and
Planck-Larkin part of free depend on sums calculated in eos_calc as a
function of dv (which in turn is a function of the input old auxiliary
variables). Thus, those parts of the free calculation must be done after the
eos_calc call.  Similar thought into the ordering of the calculations will
be required for all other free and pnorad components because of the
programming complication that the new auxiliary variables are stored in the
same locations as the old auxiliary variables.

------------------------------------------------------------------------
r278 | airwin | 2006-01-01 17:03:15 -0800 (Sun, 01 Jan 2006) | 6 lines
Changed paths:
   M /trunk/src/pteh_pi.f

Finish pteh_pi_free entry point (which calculates and returns free_pi and
free_pif, the pressure-ionization free energy under the PTEH
pressure-ionization model and its partial derivative wrt fl)

N.B. no testing of this entry point has been done yet.

------------------------------------------------------------------------
r277 | airwin | 2006-01-01 16:58:58 -0800 (Sun, 01 Jan 2006) | 9 lines
Changed paths:
   M /trunk/src/master_coulomb.f

Finish master_coulomb_free entry point (which calculates and returns
free_coulomb, free_coulombf, free_coulomb0, and free_coulomb2, the Coulomb
free energy and its partial derivatives wrt fl, sum0, and sum2) and first
cut at master_coulomb_pressure entry point (which calculates and returns
dpcoulomb, dpcoulombf, dpcoulomb0, and dpcoulomb2, the Coulomb pressure and
its partial derivatives wrt fl, sum0, and sum2).

N.B. testing of these entry points is still required.

------------------------------------------------------------------------
r276 | airwin | 2006-01-01 16:26:53 -0800 (Sun, 01 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/eos_calc.f

Fix typographical error in argument list.

------------------------------------------------------------------------
r275 | airwin | 2006-01-01 16:24:15 -0800 (Sun, 01 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_exchange.f

Calculate and return free_ex and free_exf, the exchange free energy and its
fl derivative, using the exchange_free entry point.

------------------------------------------------------------------------
r274 | airwin | 2006-01-01 16:17:39 -0800 (Sun, 01 Jan 2006) | 4 lines
Changed paths:
   M /trunk/include/excitation_block.h
   M /trunk/src/excitation_pi_end.f
   M /trunk/src/excitation_sum.f

Calculate free_sumf (excitation_sum.f), store it (excitation_block.h), and
use it to calculate and return free_starf, the ln f derivative of free_star,
the contribution to the free energy due to excitation.

------------------------------------------------------------------------
r273 | airwin | 2006-01-01 16:10:13 -0800 (Sun, 01 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_tqft.f

Adjust to adding sumpl0 and sumpl0f to eos_calc argument list without passing
those values back to calling routine.

------------------------------------------------------------------------
r272 | airwin | 2006-01-01 15:59:24 -0800 (Sun, 01 Jan 2006) | 3 lines
Changed paths:
   M /trunk/src/eos_calc.f

Calculate sumpl0 and sumpl0f sums which are required for free-energy
calculation and its lnf derivative.

------------------------------------------------------------------------
r271 | airwin | 2006-01-01 15:46:01 -0800 (Sun, 01 Jan 2006) | 2 lines
Changed paths:
   M /trunk/src/ionize.f

Add sumpl0 and sumpl0f calculations which are needed for free energy.

------------------------------------------------------------------------
r270 | airwin | 2005-12-19 10:12:32 -0800 (Mon, 19 Dec 2005) | 10 lines
Changed paths:
   M /trunk/src/coulomb.f

Tweak commentary and disable the diffraction correction. I have long since
quit using this option because of its known invalidity for cooler
temperatures and higher densities right where the Coulomb interaction has
its strongest effect on EOS results.  Note, the implementation of this
option was a quick hack before I decided to quit using it.  Thus, if you
ever want to try this option again, the implementation should be carefully
checked against the original literature on the diffraction correction. Also,
the implementation should be checked for correct partial derivatives and
thermodynamic consistency.

------------------------------------------------------------------------
r269 | airwin | 2005-12-17 08:57:06 -0800 (Sat, 17 Dec 2005) | 5 lines
Changed paths:
   M /trunk/src/Makefile.am

Eliminate build of eos_auxft.lo which was used to obtain derivatives of
results with respect to fl and tl for fixed auxiliary variables.  This code
is no longer used since eos_warm_step with ifnr = 3 also provides this same
functionality.

------------------------------------------------------------------------
r268 | airwin | 2005-12-17 08:53:28 -0800 (Sat, 17 Dec 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_tqft.f

Adjust to additional arguments (fion, fionf, fion_dv, and h2_dv) for eos_calc.

------------------------------------------------------------------------
r267 | airwin | 2005-12-17 08:51:06 -0800 (Sat, 17 Dec 2005) | 3 lines
Changed paths:
   M /trunk/src/eos_calc.f

Calculate fion, fionf, and fion_dv (the free energy due to ideal ions and
its fl and dv derivatives). Also, pass back already calculated h2_dv.

------------------------------------------------------------------------
r266 | airwin | 2005-12-17 08:45:17 -0800 (Sat, 17 Dec 2005) | 3 lines
Changed paths:
   M /trunk/src/ionize.f

Implement calculation of fh and f (the free energy component due to
hydrogen [sans molecules] and every other element) plus f and dv derivatives.

------------------------------------------------------------------------
r265 | airwin | 2005-12-09 11:17:50 -0800 (Fri, 09 Dec 2005) | 4 lines
Changed paths:
   D /trunk/src/eos_auxft.f

This source code, which is used to obtain derivatives of results with respect
to fl and tl for fixed auxiliary variables, is no longer used since
eos_warm_step with ifnr = 3 also provides this same functionality.

------------------------------------------------------------------------
r264 | airwin | 2005-12-08 19:04:07 -0800 (Thu, 08 Dec 2005) | 14 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Changes to make kif=1 work when ifnoaux_iteration is true (e.g., the EOS4
kif=1 case.)

Straighten out ifnuform logic in eos_cold_start loop.  Must always be true
for present p, pf calculations to work for kif=1 iteration. (Will revisit
this later when do full kif=1 solution for arbitrary free-energy models.)

Straighten out ifexcited logic in eos_cold_start loop so it gives a good
starting solution for fl in the eos_warm_step loop when ifpi = 3 or 4.

Put in logic to limit pab in eos_cold_start loop since for low fl
(e.g., fl = -100) where radiation pressure dominates there is a huge overshoot
(1.d34 or so!) in predicted fl values.

------------------------------------------------------------------------
r263 | airwin | 2005-12-06 16:05:48 -0800 (Tue, 06 Dec 2005) | 28 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Eliminate a number of bugs for corner cases.

pe had two different uses which meant it could not be recalculated properly.
Solved this by introducing pe_cgs variable for the cgs version of electron
pressure.

ifstraight_through ==> ifnoaux_iteration + polish logic for this case so
that it works (tested by EOS4).

polish kif=0 logic so it works.

eliminate diagnostic output (which was introducing an obfuscating factor
of 1.14 in speed tests when comparing old and new results).

This version of free_eos_detailed is complete for the non-BFGS, kif=0 and
kif=2 cases.  For these cases I have done detailed comparisons with coarse
and fine spacing for EOS1, EOS2, EOS3, and EOS4, and the new code is
generally faster than the old code and produces just as high quality
(substantially higher in one case for the initial EOS2 calculation where
there was probably an initialization bug in the old code).

ToDo:

The code still needs the kif=1 and BFGS partial derivatives derived,
programmed, and tested. Also, there is some substantial additional
programming required for the BFGS case to take over whenever the
Newton-Raphson procedure is finding higher free-energies.

------------------------------------------------------------------------
r262 | airwin | 2005-12-06 15:46:05 -0800 (Tue, 06 Dec 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Eliminate diagnostic calculation and output of free-energy convergence tests.

------------------------------------------------------------------------
r261 | airwin | 2005-12-03 19:09:37 -0800 (Sat, 03 Dec 2005) | 4 lines
Changed paths:
   D /trunk/include/test_cold.h
   D /trunk/include/test_daux_dv.h
   D /trunk/include/test_ddv_aux.h
   D /trunk/include/test_delta_aux.h
   D /trunk/include/test_delta_dv.h
   D /trunk/include/test_initialize.h
   D /trunk/include/test_jacobian.h
   D /trunk/include/test_start.h
   D /trunk/include/test_variables.h

These test*.h include files are no longer used.  Instead, debug_dvdaux,
debug_dauxdv, and debug_jacobian logic was put into free_eos_detailed
(and eos_warm_step for the set change part of the debug_dauxdv test).

------------------------------------------------------------------------
r260 | airwin | 2005-12-03 19:02:22 -0800 (Sat, 03 Dec 2005) | 5 lines
Changed paths:
   M /trunk/include/excitation_block.h

Fix lately introduced bug in logic for deciding on whether recalculation
of qstar is necessary.  This time, use rigorous logic on whether new
x values are being used.  Change made dauxdv derivative checks work properly
for xextrasum.

------------------------------------------------------------------------
r259 | airwin | 2005-12-03 12:12:17 -0800 (Sat, 03 Dec 2005) | 10 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Drop unneeded iflast_aux and ifnuform from eos_warm_step argument list.

More accurate count of number of eos_**** calls which translates to number
of ionize calls.

Clean up ifnuform/ifwarm logic.

iflast_aux ==> iflast since there is no longer any outer iteration count
that must be kept separate from inner iteration count.

------------------------------------------------------------------------
r258 | airwin | 2005-12-03 12:07:27 -0800 (Sat, 03 Dec 2005) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f

Tweak commentary and drop forcing of cold start each time.

------------------------------------------------------------------------
r257 | airwin | 2005-12-03 12:06:20 -0800 (Sat, 03 Dec 2005) | 4 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Drop ifnuform and iflast_aux from argument list since ifnuform is always
set to .false. internally.  (This is one more bit of the ifnr=0 code that
is eliminated.)

------------------------------------------------------------------------
r256 | airwin | 2005-12-03 00:11:06 -0800 (Sat, 03 Dec 2005) | 9 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Drop eos_auxft call after convergence since we already have all the data we
need to derive partials of auxiliary variables and fl wrt match_variable and
tl.  So programmed those partials and transformed them to derivatives of
auxiliary variables and rho (for kif=2 case) wrt fl and tl.  The results
looked fine. This commit terminates the kif=2, combined auxiliary variables
+ fl iteration effort for forced cold start.  There is lots more to do
(e.g., warm start, kif = 1, other free-energy models, comprehensive
testing), but it is a good start.

------------------------------------------------------------------------
r255 | airwin | 2005-12-02 17:27:45 -0800 (Fri, 02 Dec 2005) | 2 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

ifstraight_through logic tweak and associated indentation changes.

------------------------------------------------------------------------
r254 | airwin | 2005-12-02 16:58:49 -0800 (Fri, 02 Dec 2005) | 2 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Indentation tweak.

------------------------------------------------------------------------
r253 | airwin | 2005-12-02 14:13:28 -0800 (Fri, 02 Dec 2005) | 10 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Dropped redundant outer iteration on fl alone for inner iteration which has
already been converted from auxiliary variables alone to combined auxiliary
variables + fl.  Also, dropped cold start part of inner iteration since
preliminary iteration has already done fl convergence for cold start
free-energy model.

Results for kif=2, EOS1 case were identical (within expected fortran
rounding) with previous aside from extra outer fl iterations that were
dropped.

------------------------------------------------------------------------
r252 | airwin | 2005-12-02 10:49:53 -0800 (Fri, 02 Dec 2005) | 8 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Strip out all ifnr = 0 logic.  That bad convergence method has been
deprecated and unused for at least 7 years.

This change includes dropping ifnr_in from the argument list.  This is an
example of an internal API change that should not affect users since they
should only call free_eos (the only part of our API we consider public)
and never call free_eos_detailed directly.

------------------------------------------------------------------------
r251 | airwin | 2005-12-02 10:44:04 -0800 (Fri, 02 Dec 2005) | 4 lines
Changed paths:
   M /trunk/src/free_eos.f

Drop all references to ifnr since that is now set in free_eos_detailed.

Temporary force of cold start every time for testing purposes.

------------------------------------------------------------------------
r250 | airwin | 2005-12-02 10:20:32 -0800 (Fri, 02 Dec 2005) | 9 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Get rid of limit on when combined auxiliary variable + fl iteration is used.
Instead, always use this combined iteration, but integrate the raw fl change
into the calculation of the scaling factor, and use that scaling not only on
the raw (logarithmic) auxiliary variable change but also on the fl change.

Result was free-energy minimization on all but the first iteration (probably
due to initialization issue when changing free-energy models for that first
iteration) and quadratic convergence during final convergence.

------------------------------------------------------------------------
r249 | airwin | 2005-12-02 07:47:56 -0800 (Fri, 02 Dec 2005) | 12 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Move from style with optional includes of test code to embedded code that
is controlled by the three logical variables debug_dvdaux, debug_dauxdv,
and debug_jacobian.

Bypass iteration on fl for fixed auxiliary variables (code remains for now
until the forthcoming code cleanup).

Implement combined Jacobian for kif=2 case.  This code passes all
debug_dvdaux, debug_dauxdv, and debug_jacobian numerical tests of partial
derivatives, and provides quadratic convergence *simultaneously* for both
the auxiliary variables and fl for fixed match_variable=log(rho) and tl.

------------------------------------------------------------------------
r248 | airwin | 2005-12-01 16:48:02 -0800 (Thu, 01 Dec 2005) | 5 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f

Fix lately introduced bug in logic for deciding on whether recalculation
of qstar is necessary.  This time, use rigorous logic on whether new
x values are being used.  Change made dauxdv derivative checks work properly
for xextrasum.

------------------------------------------------------------------------
r247 | airwin | 2005-11-27 21:24:31 -0800 (Sun, 27 Nov 2005) | 11 lines
Changed paths:
   M /trunk/src/eos_cold_start.f

Bug fix for inconsistent if_pteh = 1 set-up of of master_coulomb with the
actual call of that routine for eos_cold_start.  Previously for the EOS1
case, if_pteh = 0 was used incorrectly in the master_coulomb call leading to
a consistent, but rather artificial free-energy model, and therefore a
crummy starting approximation for the EOS1 case.

Also, change eos_calc call to be consistent with previously mentioned fix of
weak/broken excitation_pi/excitation_sum logic to eliminate incorrect
cross-talk between those two routines that was again screwing up the EOS1
case.

------------------------------------------------------------------------
r246 | airwin | 2005-11-27 21:18:33 -0800 (Sun, 27 Nov 2005) | 9 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Replace include of special test code that is normally commented out with
code that depends on debug_dauxdv, itemp1, itemp2, delta1, and delta2 in
argument list for initialization of delta dv difference approximation
to partial derivatives of new aux relative to dv.

Also, change eos_calc call to be consistent with fix of weak/broken
excitation_pi/excitation_sum logic to eliminate incorrect cross-talk
between those two routines.

------------------------------------------------------------------------
r245 | airwin | 2005-11-27 21:01:43 -0800 (Sun, 27 Nov 2005) | 2 lines
Changed paths:
   M /trunk/include/nuvar.h

Tweak commentary.

------------------------------------------------------------------------
r244 | airwin | 2005-11-27 20:52:12 -0800 (Sun, 27 Nov 2005) | 16 lines
Changed paths:
   M /trunk/include/excitation_block.h
   M /trunk/src/eos_auxft.f
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_tqft.f
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_sum.f

Fix weak logic (and broken logic in case where a cold start was done with
ifpi = 3 or 4) to deal with excitation_pi/excitation_sum interaction in
calculating qh2, qh2plus, qstar, and derivatives.  The new logic is check
all input to these calculations and if identical to previous, then use
previous values.  All the old calculation flags are now preserved in the
excitation_block.h common block so there are no more weak assumptions about
which of excitation_pi/excitation_sum is called first and whether any change
in free-energy model occurs between excitation_pi and excitation_sum.  (Such
a change does occur for eos_cold start so that was why the previous weak
logic failed in that case.)

The effect of this bug in the past was simply to get a poor starting
solution for more detailed Newton-Raphson iterations (for the ifpi = 3 or 4
case, ifpi < 3 was fine before). Now we actually need a clean iteration from
eos_cold_start so tracking down this bug was essential.

------------------------------------------------------------------------
r243 | airwin | 2005-11-22 10:47:39 -0800 (Tue, 22 Nov 2005) | 2 lines
Changed paths:
   M /trunk/README

Ran through ispell ==> one spelling tweak.

------------------------------------------------------------------------
r242 | airwin | 2005-11-22 10:39:31 -0800 (Tue, 22 Nov 2005) | 2 lines
Changed paths:
   M /trunk/README

ifion flag explanation and other tweaks.

------------------------------------------------------------------------
r241 | airwin | 2005-11-14 11:44:44 -0800 (Mon, 14 Nov 2005) | 8 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Implement ifnr = 3 which is generally interpreted as combination of
pre-existing ifnr = 1 and 2 options.  2 differs from 0 in that f and t
derivatives are calculated assuming other input variables are fixed.
However, for dv-related derivatives calculated in eos_calc and routines
called by eos_calc, ifnr = 3 corresponds to the combination of ifnr = 1 and
0 since we want to propagate dvf and dvt to the output f and t derivatives
via the chain rule.

------------------------------------------------------------------------
r240 | airwin | 2005-11-14 10:26:57 -0800 (Mon, 14 Nov 2005) | 9 lines
Changed paths:
   M /trunk/src/eos_auxft.f

Tweak commentary on following point: the sumion0 and sumion2 logic only
works if those variables have been already calculated (i.e., when eos_auxft
called AFTER eos_warm_step as in normal use).  This problem should disappear
since the current experimental code (which didn't work quite as expected,
perhaps because of this bug) for calling eos_auxft before eos_warm_step is
scheduled for removal.  Thus, the problem will become moot, but the proper
way to deal with this issue is to remove this interaction between
eos_warm_step and eos_auxft. DO THIS LATER.

------------------------------------------------------------------------
r239 | airwin | 2005-11-10 17:34:15 -0800 (Thu, 10 Nov 2005) | 6 lines
Changed paths:
   M /trunk/src/eos_calc.f

I actually changed only one minor white space issue for this commit, but I
also take this opportunity to remark on one long-standing bug spotted and
fixed in previous commit. There, for a particular corner case (zero helium
abundance) hdt is now initialized properly to zero, although I doubt this
value is actually used in the zero helium abundance case.

------------------------------------------------------------------------
r238 | airwin | 2005-11-10 17:15:59 -0800 (Thu, 10 Nov 2005) | 7 lines
Changed paths:
   M /trunk/src/eos_calc.f

Implement ifnr = 3 which is combination of pre-existing ifnr = 0 and 1
options. Note the detailed ifnr = 3 result in this routine, ionize, and
excitation_sum is different from the remaining Free_EOS routines, but the
general result is the same; ifnr = 3 means calculate derivatives with
respect to f and t and also additional variables (in this case dv rather
than auxiliary variables).

------------------------------------------------------------------------
r237 | airwin | 2005-11-10 16:05:17 -0800 (Thu, 10 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_calc.f

Make indentation (including commentary indentation) consistent.

------------------------------------------------------------------------
r236 | airwin | 2005-11-10 15:24:04 -0800 (Thu, 10 Nov 2005) | 7 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Implement ifnr = 3 code which is simple combination of pre-existing ifnr = 0
and ifnr = 1 code. Note the detailed result in this routine, ionize, and
eos_calc is different from remaining Free_EOS routines, but the general
result is the same; ifnr = 3 means calculate derivatives with respect to f
and t and also additional variables (in this case dv rather than auxiliary
variables).

------------------------------------------------------------------------
r235 | airwin | 2005-11-10 14:39:15 -0800 (Thu, 10 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_sum.f

Make commentary indentation consistent.

------------------------------------------------------------------------
r234 | airwin | 2005-11-09 18:50:10 -0800 (Wed, 09 Nov 2005) | 7 lines
Changed paths:
   M /trunk/src/ionize.f

Reassess exactly what I want to do with ifnr = 3.  Change the programming so
this is equivalent to a simple combination of ifnr = 0 and 1.  Note this
detailed result in this routine and eos_calc is different from remaining
Free_EOS routines, but the general result is the same; ifnr = 3 means
calculate derivatives with respect to f and t and also additional variables
(in this case dv rather than auxiliary variables).

------------------------------------------------------------------------
r233 | airwin | 2005-11-09 17:48:15 -0800 (Wed, 09 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f
   M /trunk/src/fjs_pi.f
   M /trunk/src/mdh_pi.f

Commentary white-space tweak.

------------------------------------------------------------------------
r232 | airwin | 2005-11-09 17:21:32 -0800 (Wed, 09 Nov 2005) | 3 lines
Changed paths:
   M /trunk/src/master_coulomb.f

Add extra ifnr_in = 3 option that combines effects of ifnr_in = 1 and
ifnr_in = 2.

------------------------------------------------------------------------
r231 | airwin | 2005-11-09 17:12:41 -0800 (Wed, 09 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/master_coulomb.f

Code and commentary indentation.

------------------------------------------------------------------------
r230 | airwin | 2005-11-08 10:56:39 -0800 (Tue, 08 Nov 2005) | 7 lines
Changed paths:
   M /trunk/src/mdh_pi.f

Add extra ifnr = 3 option that combines effects of ifnr = 1 and ifnr = 2.
However, note that for this routine ifnr = 2 is a no-op so the effect
of this change is that ifnr = 3 is treated exactly like ifnr = 1.

Change commentary indentation and also check overall indentation (which was
fine).

------------------------------------------------------------------------
r229 | airwin | 2005-11-05 09:17:59 -0800 (Sat, 05 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/fjs_pi.f

Add extra ifnr = 3 option that combines effects of ifnr = 1 and ifnr = 2.

------------------------------------------------------------------------
r228 | airwin | 2005-11-05 08:52:01 -0800 (Sat, 05 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Add extra ifnr = 3 option that combines effects of ifnr = 1 and ifnr = 2.

------------------------------------------------------------------------
r227 | airwin | 2005-11-05 08:23:19 -0800 (Sat, 05 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Commentary indentation.

------------------------------------------------------------------------
r226 | airwin | 2005-11-05 08:14:37 -0800 (Sat, 05 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Complete re-indentation.

------------------------------------------------------------------------
r225 | airwin | 2005-11-05 07:49:53 -0800 (Sat, 05 Nov 2005) | 3 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/excitation_pi.f

Remove "include nuvar.h" from excitation_pi since it is not used. Also
remove corresponding Makefile.am dependency.

------------------------------------------------------------------------
r224 | airwin | 2005-11-02 09:18:06 -0800 (Wed, 02 Nov 2005) | 24 lines
Changed paths:
   M /trunk/src/ionize.f

Previously we had the following two ifnr options:
C       ifnr = 0
C         calculate derivatives of nuvar (delivered through common block),
C         hne, sum0, sum2, s, extrasum, h, sh, hd, he, g, hequil, and sumpl1
C         wrt f, t with no other variables fixed, i.e., use
C         input dvf and dvt and chain rule.
C       ifnr = 1
C         calculate derivatives of nuvar (delivered through common block),
C         hne, sum0, sum2, extrasum, h, hd, and he wrt dv with f, t fixed.
C         n.b. list of variables is subset of those listed for ifnr = 0
C         because we only need dv derivatives for variables used to calculate
C         (output) auxiliary variables.

Here we introduce a third option (ifnr = 2 is used for different purposes
outside this routine so that is why this new option is labelled by ifnr = 3):

C       ifnr = 3
C         calculate same derivatives as ifnr = 0 but with dv fixed (which
C         means the f derivatives are all zero since that variable only
C         affects ionize calculation via dvf).  Also calculate identical
C         derivatives to ifnr = 1.

Also, we have completely reindented code and commentary.

------------------------------------------------------------------------
r223 | airwin | 2005-11-01 11:49:30 -0800 (Tue, 01 Nov 2005) | 11 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Fully implement test of using fl iteration to match match_variable = ln rho
for each step of the Newton-Raphson inner iteration.  This test shows that
the free-energy is minimized as a function of auxiliary variables (as expected
theoretically, but this was the first practical demonstration).

Next Large Coding Step: Withdraw the current code change and instead
implement simultaneous Newton-Raphson iteration on auxiliary variables and
fl. Theoretically, this also should correspond to free-energy minimization
as a function of auxiliary variables AND fl, but this will be the first
practical demonstration of that theory for FreeEOS.

------------------------------------------------------------------------
r222 | airwin | 2005-11-01 11:41:56 -0800 (Tue, 01 Nov 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_auxft.f

Tweak commentary.

------------------------------------------------------------------------
r221 | airwin | 2005-10-24 23:05:27 -0700 (Mon, 24 Oct 2005) | 2 lines
Changed paths:
   M /trunk/src
   M /trunk/src/.cvsignore

Tweak

------------------------------------------------------------------------
r220 | airwin | 2005-10-24 23:03:21 -0700 (Mon, 24 Oct 2005) | 3 lines
Changed paths:
   M /trunk/include/Makefile.am
   A /trunk/include/allascii.txt

Add allascii.txt to cvs and tarball distribution as a convenience to users
who want to check CODATA 2002 constants.

------------------------------------------------------------------------
r219 | airwin | 2005-10-24 22:44:50 -0700 (Mon, 24 Oct 2005) | 9 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/include_depends.py

Create fortran include file dependency information (something that is not
handled at all by autotools or the g77/gcc compiler) in Makefile.am using
include_depends.py script.  (To eliminate cross-platform problems this
script is run by hand on Linux and the results inserted into Makefile.am by
hand as indicated in the Makefile.am comments.)

N.B. the script is simple and implicitly relies on some assumptions that
are indicated in its commentary.  But it is good enough for the present case.

------------------------------------------------------------------------
r218 | airwin | 2005-10-24 17:38:06 -0700 (Mon, 24 Oct 2005) | 17 lines
Changed paths:
   M /trunk/include/constants.h
   M /trunk/include/diagnostics.h
   M /trunk/include/eff_fit.h
   M /trunk/include/excitation_block.h
   M /trunk/include/helium1.h
   M /trunk/include/ionization.h
   M /trunk/include/nuvar.h
   M /trunk/include/quad4block.h
   M /trunk/include/statistical_weights.h
   M /trunk/include/test_cold.h
   M /trunk/include/test_daux_dv.h
   M /trunk/include/test_ddv_aux.h
   M /trunk/include/test_delta_aux.h
   M /trunk/include/test_delta_dv.h
   M /trunk/include/test_initialize.h
   M /trunk/include/test_jacobian.h
   M /trunk/include/test_start.h
   M /trunk/include/test_variables.h

Change to a standard form of copyright notice.  The previous versions all
mentioned GPL, but were done with some variations in the copyright dates,
upper/lower case issues, white space, and variations of the name of this EOS
effort.

I no longer keep track of individual file copyrights in order to keep the
copyright notice in identical (standard) form.  The dates mentioned are
determined in the following way. This complete coding effort was started in
1996 so that date is mentioned. The further dates mentioned (starting in
1998) are the years that public releases were made of the Free_EOS code
under the GNU general license (GPL).  Thus, the copyright notice should be
correct for most of the files.  However, for a substantial minority the
early dates mentioned are incorrect because the subroutine or function was a
completely new effort released at a later date than 1996.  Anybody who cares
about these nuances should check the public releases which are the
definitive source of copyright dates.

------------------------------------------------------------------------
r217 | airwin | 2005-10-24 17:15:30 -0700 (Mon, 24 Oct 2005) | 7 lines
Changed paths:
   M /trunk/src/coulomb.f
   M /trunk/src/coulomb_adjust.f
   M /trunk/src/deriv_product.f
   M /trunk/src/deriv_ratio.f
   M /trunk/src/effective_radius.f
   M /trunk/src/effsum_calc.f
   M /trunk/src/eos_auxft.f
   M /trunk/src/eos_calc.f
   M /trunk/src/eos_cold_start.f
   M /trunk/src/eos_tqft.f
   M /trunk/src/eos_warm_step.f
   M /trunk/src/exchange_coeff.f
   M /trunk/src/exchange_gcpf.f
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_pi_end.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/exct.f
   M /trunk/src/f_psi.f
   M /trunk/src/fermi_dirac.f
   M /trunk/src/fermi_dirac_coeff.f
   M /trunk/src/fermi_dirac_ct.f
   M /trunk/src/fermi_dirac_direct.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/fermi_dirac_minusnr_coeff.f
   M /trunk/src/fermi_dirac_original_coeff.f
   M /trunk/src/fermi_dirac_recursion.f
   M /trunk/src/fjs_pi.f
   M /trunk/src/fp12.f
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/free_eos_interpolated.f
   M /trunk/src/ionize.f
   M /trunk/src/lnblnk.f
   M /trunk/src/lnx_calc.f
   M /trunk/src/master_coulomb.f
   M /trunk/src/mdh_pi.f
   M /trunk/src/molecular_hydrogen.f
   M /trunk/src/pl_prepare.f
   M /trunk/src/plsum.f
   M /trunk/src/plsum_approx.f
   M /trunk/src/poly_sum.f
   M /trunk/src/pteh_pi.f
   M /trunk/src/pteh_theta.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qryd_approx.f
   M /trunk/src/qryd_calc.f
   M /trunk/src/qstar_calc.f
   M /trunk/src/quad4b.f
   M /trunk/src/round_ln.f
   M /trunk/src/tau_calc.f
   M /trunk/src/version.f

Change to a standard form of copyright notice.  (The previous versions all
mentioned GPL, but were done with some variations in the copyright dates,
upper/lower case issues, white space, and variations of the name of this EOS
effort.  This coding effort was started in 1996 so that date is mentioned.
The further dates mentioned (starting in 1998) are the years that public
releases were made of the Free_EOS code under the GNU general license (GPL).

------------------------------------------------------------------------
r216 | airwin | 2005-10-24 12:25:59 -0700 (Mon, 24 Oct 2005) | 5 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Cross-talk reduction in argument lists to eos_cold_start, eos_auxft, and
eos_tqft.  Also, insert incomplete code (and also unexecuted code as of now
so that cvs version still works) to iterate on rho to find fl for fixed
auxiliary variables and full free-energy model.

------------------------------------------------------------------------
r215 | airwin | 2005-10-24 12:21:19 -0700 (Mon, 24 Oct 2005) | 3 lines
Changed paths:
   M /trunk/src/eos_auxft.f
   M /trunk/src/eos_tqft.f

Remove ifnr, ifnuform, and ifsame_under from argument list to reduce
cross-talk.

------------------------------------------------------------------------
r214 | airwin | 2005-10-24 12:19:17 -0700 (Mon, 24 Oct 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_cold_start.f

Remove ifsame_under from argument list to reduce cross-talk.

------------------------------------------------------------------------
r213 | airwin | 2005-10-24 11:24:45 -0700 (Mon, 24 Oct 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_auxft.f
   M /trunk/src/eos_tqft.f

Remove unneeded ifaux_last from argument list and variable list.

------------------------------------------------------------------------
r212 | airwin | 2005-10-24 10:55:55 -0700 (Mon, 24 Oct 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_auxft.f

Tweak commentary.

------------------------------------------------------------------------
r211 | airwin | 2005-10-21 13:35:56 -0700 (Fri, 21 Oct 2005) | 6 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Insert preliminary complete iteration on fl to match match_variable using
cold start free-energy model that requires no auxiliary variable iteration.

free-energy calculation at end of NR iteration to check the eos_warm_step
calculation of the free energy.

------------------------------------------------------------------------
r210 | airwin | 2005-10-21 13:29:53 -0700 (Fri, 21 Oct 2005) | 10 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

(Possibly temporary) free-energy calculation and printout to help
demonstrate that NR iteration is equivalent to free-energy minimization.
N.B. It is straightforward to show the NR iteration on auxiliary variables
is only equivalent to free-energy minimization when the independent
variables are rho and T.  It is going to take some effort to (temporarily?)
rearrange the principal iteration code in free_eos_detailed to have rho and
T as the independent variables.  Thus, the present code additions are only
part of what is required to verify NR is equivalent to free-energy
minimization.

------------------------------------------------------------------------
r209 | airwin | 2005-10-21 13:20:15 -0700 (Fri, 21 Oct 2005) | 3 lines
Changed paths:
   M /trunk/src/eos_cold_start.f

Add paa and pab to argument list since they are used in test inside
eos_cold_start.

------------------------------------------------------------------------
r208 | airwin | 2005-10-05 13:06:31 -0700 (Wed, 05 Oct 2005) | 3 lines
Changed paths:
   M /trunk/src/pteh_pi.f

Provide entry pteh_pi_free(full_sum1, rho, t, ne, free_pi) for calculating
and returning free energy according to PTEH model of pressure ionization.

------------------------------------------------------------------------
r207 | airwin | 2005-10-05 12:24:04 -0700 (Wed, 05 Oct 2005) | 3 lines
Changed paths:
   M /trunk/src/mdh_pi.f

Provide entry mdh_pi_free(t, free_pi) to calculate and return
free-energy according to MDH pressure-ionization model.

------------------------------------------------------------------------
r206 | airwin | 2005-10-05 12:21:56 -0700 (Wed, 05 Oct 2005) | 5 lines
Changed paths:
   M /trunk/src/master_coulomb.f

Provide
entry master_coulomb_free(if_pteh, free_coulomb, free_coulomb0, free_coulomb2)

for calculating and returning Coulomb free energy and its derivatives.

------------------------------------------------------------------------
r205 | airwin | 2005-10-05 12:03:14 -0700 (Wed, 05 Oct 2005) | 3 lines
Changed paths:
   M /trunk/src/fjs_pi.f

Provide entry fjs_pi_free(free_pi) to calculate and return free-energy due
to fjs model of pressure ionization.

------------------------------------------------------------------------
r204 | airwin | 2005-10-05 12:00:51 -0700 (Wed, 05 Oct 2005) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_exchange.f

Provide entry exchange_free(free_ex) to calculate free-energy due to exchange.
Also change main calculation to provide infrastructure for this entry point.

------------------------------------------------------------------------
r203 | airwin | 2005-10-05 11:56:09 -0700 (Wed, 05 Oct 2005) | 4 lines
Changed paths:
   M /trunk/include/excitation_block.h
   M /trunk/src/excitation_pi_end.f
   M /trunk/src/excitation_sum.f

Provide excitation_pi_free entry (as part of excitation_pi_end.f) to calculate
free-energy component due to excited states.  Also, provide infrastructure
changes to support this calculation.

------------------------------------------------------------------------
r202 | airwin | 2005-09-21 12:00:27 -0700 (Wed, 21 Sep 2005) | 13 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/eos_tqft.f
   M /trunk/src/free_eos_detailed.f

Factor out the eos_tqft code (for calculating derivatives with respect to fl
and tl of thermodynamic quantities after NR iterations are completed) from
free_eos_detailed.  Also, take care of indentation issues and unused
variables in free_eos_detailed.

The EOS1 results are identical to previous standard results.  Also, with
this latest factoring the EOS2, EOS3, and EOS4 runs continue to give good
derivative tests with free_eos_test.

ToDo: clean up argument lists in eos_cold_start, eos_warm_step, eos_auxft,
and eos_tqft which are poorly ordered, poorly documented, and which contain
extra arguments that unnecessarily increase cross-talk between routines.

------------------------------------------------------------------------
r201 | airwin | 2005-09-21 10:59:03 -0700 (Wed, 21 Sep 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_auxft.f

Whitespace tweak

------------------------------------------------------------------------
r200 | airwin | 2005-09-21 09:31:58 -0700 (Wed, 21 Sep 2005) | 8 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/eos_auxft.f
   M /trunk/src/free_eos_detailed.f

Factor out the eos_auxft code (for calculating aux derivatives with respect
to fl and tl after NR iterations are completed) from free_eos_detailed. The
EOS1 results are identical to previous standard results. (The previous small
floating point errors in the ~11th digit from previous factoring were due to
the temporary dropping of -O2 from the compiler flags.) Also, with this
latest factoring the EOS2, EOS3, and EOS4 runs continue to give good
derivative tests with free_eos_test.

------------------------------------------------------------------------
r199 | airwin | 2005-09-21 09:24:30 -0700 (Wed, 21 Sep 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_warm_step.f

Commentary indentation.

------------------------------------------------------------------------
r198 | airwin | 2005-09-20 12:12:34 -0700 (Tue, 20 Sep 2005) | 11 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/eos_warm_step.f
   M /trunk/src/free_eos_detailed.f

Factor out subroutine eos_warm_step from free_eos_detailed code.  This
factoring now gives good derivative test results for EOS1, EOS2, EOS3, and
EOS4 and also good agreement (to the expected floating-point precision of
~11 figures) with older results.

N.B. The argument lists of eos_warm_step (and also eos_cold_start) are still
in a bit of a jumble and need rationalization and possibly removal of
some arguments to keep cross-talk between routines to a minimum.  Also, the
documentation of the arguments needs updating.  But this
cleanup will be postponed for now.

------------------------------------------------------------------------
r197 | airwin | 2005-09-20 12:05:42 -0700 (Tue, 20 Sep 2005) | 2 lines
Changed paths:
   M /trunk/src/eos_cold_start.f

lambda and gamma_e must be in the argument list.

------------------------------------------------------------------------
r196 | airwin | 2005-09-13 15:16:10 -0700 (Tue, 13 Sep 2005) | 8 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/eos_cold_start.f
   M /trunk/src/free_eos_detailed.f

Factor out cold start code from free_eos_detailed.f.  The factored code is
contained in eos_cold_start.f.  The results are the same (within floating
roundoff uncertainties) for EOS1, and valgrind also checks out for EOS1.
However, this is only a start, and ideally the argument list of
eos_cold_start will be reduced to reduce cross-talk between the factored
pieces of code, and more testing (for a large variety of option suites) will
have to be done at that time.

------------------------------------------------------------------------
r195 | airwin | 2005-09-12 17:47:20 -0700 (Mon, 12 Sep 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Tweak commentary for input quantities.

------------------------------------------------------------------------
r194 | airwin | 2005-09-12 17:20:24 -0700 (Mon, 12 Sep 2005) | 2 lines
Changed paths:
   M /trunk/src/master_coulomb.f

Extend documentation of output quantities.

------------------------------------------------------------------------
r193 | airwin | 2005-09-12 16:56:43 -0700 (Mon, 12 Sep 2005) | 2 lines
Changed paths:
   M /trunk/src/pteh_pi.f

Document input and output quantities.

------------------------------------------------------------------------
r192 | airwin | 2005-09-10 15:00:08 -0700 (Sat, 10 Sep 2005) | 7 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Version number of next release is expected to be 1.7.0.  Furthermore, there
are no contemplated changes in the API of the free_eos routine for the next
release.  (The library soname is determined only by changes or lack of them
in the API of the free_eos routine.  All all other routines in the library
are considered internal with no correspondence between changes in their API
and the library soname.)

------------------------------------------------------------------------
r191 | airwin | 2005-09-10 14:52:33 -0700 (Sat, 10 Sep 2005) | 5 lines
Changed paths:
   M /trunk/src/free_eos_detailed.f

Collect all references to maximum iteration count on auxiliary variable
iteration into one parameter maxioncount, which is currently set at
maxioncount=5000, but which if future will be considerably reduced if I
can find a more robust iteration technique.

------------------------------------------------------------------------
r190 | airwin | 2005-09-02 14:52:48 -0700 (Fri, 02 Sep 2005) | 3 lines
Changed paths:
   M /trunk/www/announcement-1.6.0.html

Update ChangeLog location.  This change is not in the 1.6.0 tarball because
of (chicken/egg) situation.

------------------------------------------------------------------------
r188 | airwin | 2005-09-01 15:04:15 -0700 (Thu, 01 Sep 2005) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Should be final commit of 1.6.0 that gets into tarball.

------------------------------------------------------------------------
r187 | airwin | 2005-09-01 15:00:23 -0700 (Thu, 01 Sep 2005) | 3 lines
Changed paths:
   M /trunk/src/README.developers

Add sections on the location of physical constants and physical data within
the code.

------------------------------------------------------------------------
r186 | airwin | 2005-09-01 14:13:08 -0700 (Thu, 01 Sep 2005) | 3 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Changed result (1 part in 10^5 or so) due to change from CODATA 1986 to
CODATA 2002 physical constants.

------------------------------------------------------------------------
r185 | airwin | 2005-09-01 14:06:20 -0700 (Thu, 01 Sep 2005) | 2 lines
Changed paths:
   M /trunk/www
   M /trunk/www/.cvsignore
   M /trunk/www/Makefile.am
   M /trunk/www/index.html

Add 1.6.0 announcement and associated figure.

------------------------------------------------------------------------
r184 | airwin | 2005-09-01 14:03:51 -0700 (Thu, 01 Sep 2005) | 3 lines
Changed paths:
   A /trunk/www/announcement-1.6.0.html

Initial commit.  Must fill in Notes and ChangeLog location after release since
that location will only be known after release.

------------------------------------------------------------------------
r183 | airwin | 2005-09-01 13:33:59 -0700 (Thu, 01 Sep 2005) | 4 lines
Changed paths:
   M /trunk/include/constants.h

Migrate all physical constants from CODATA 1986 to CODATA 2002.  This change
to the physical constants introduces widespread, but negligible (typically 1
part in 10^5) changes in FreeEOS results.

------------------------------------------------------------------------
r182 | airwin | 2005-08-30 17:51:24 -0700 (Tue, 30 Aug 2005) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Library SONAME bump (no API change at this time, but may need to fiddle
with this later if free_eos argument list gets changed).  Also, version
changed to 1.6.0.

------------------------------------------------------------------------
r181 | airwin | 2005-08-30 17:49:20 -0700 (Tue, 30 Aug 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Include bootstrap.sh in tarball

------------------------------------------------------------------------
r180 | airwin | 2005-08-29 12:19:01 -0700 (Mon, 29 Aug 2005) | 3 lines
Changed paths:
   M /trunk/www/announcement-1.5.0.html

Update ChangeLog location.  This change is not in 1.5.0 tarball because
of (chicken/egg) situation.

------------------------------------------------------------------------
r178 | airwin | 2005-08-29 11:10:42 -0700 (Mon, 29 Aug 2005) | 5 lines
Changed paths:
   M /trunk/ChangeLog

Should be final commit of 1.5.0.
cvs2cl -l "-d< today" --stdout > ChangeLog.test
diff -au ChangeLog ChangeLog.test |less #To check that results are reasonable
mv ChangeLog.test ChangeLog

------------------------------------------------------------------------
r177 | airwin | 2005-08-29 10:52:58 -0700 (Mon, 29 Aug 2005) | 2 lines
Changed paths:
   M /trunk/src/README.developers

Update documentation of routines called from fermi_dirac and exchange_gcpf.

------------------------------------------------------------------------
r176 | airwin | 2005-08-29 10:45:02 -0700 (Mon, 29 Aug 2005) | 2 lines
Changed paths:
   M /trunk/www/Makefile.am
   M /trunk/www/documentation.html
   M /trunk/www/index.html

Paper IV (on exchange) and FreeEOS-1.5.0 news items.

------------------------------------------------------------------------
r175 | airwin | 2005-08-29 10:44:02 -0700 (Mon, 29 Aug 2005) | 2 lines
Changed paths:
   M /trunk/www
   M /trunk/www/.cvsignore

Tweak

------------------------------------------------------------------------
r174 | airwin | 2005-08-29 10:15:04 -0700 (Mon, 29 Aug 2005) | 2 lines
Changed paths:
   M /trunk/www/announcement-1.5.0.html

Spelling.  Mention the difference figure.

------------------------------------------------------------------------
r173 | airwin | 2005-08-29 10:02:08 -0700 (Mon, 29 Aug 2005) | 3 lines
Changed paths:
   A /trunk/www/announcement-1.5.0.html

Initial commit of 1.5.0 announcement. Location of Notes and Changelog still
to be changed from the 1.4.0 location.

------------------------------------------------------------------------
r172 | airwin | 2005-08-29 08:30:53 -0700 (Mon, 29 Aug 2005) | 3 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

New exchange treatment (moving from series result to second-order fit
of J and K for EOS1 option suite) causes ~7th figure change in results.

------------------------------------------------------------------------
r171 | airwin | 2005-08-29 08:19:38 -0700 (Mon, 29 Aug 2005) | 2 lines
Changed paths:
   M /trunk/include/eff_fit.h

Add a lot more control of order(s) of J and K = sqrtI fits.

------------------------------------------------------------------------
r170 | airwin | 2005-08-29 08:16:49 -0700 (Mon, 29 Aug 2005) | 3 lines
Changed paths:
   M /trunk/src/free_eos.f

Some logic cleanup + ifmodified = 311-316 to exercise various exchange
options I wanted to compare for the exchange paper.

------------------------------------------------------------------------
r169 | airwin | 2005-08-15 19:28:33 -0700 (Mon, 15 Aug 2005) | 2 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/free_eos_detailed.f

Update exchange commentary.

------------------------------------------------------------------------
r168 | airwin | 2005-08-15 19:28:02 -0700 (Mon, 15 Aug 2005) | 8 lines
Changed paths:
   M /trunk/src/free_eos.f

Default exchange changed from non-linear transform of GCPF exchange treated
with possibly degenerate series including Kapusta term to non-linear
transform of GCPF exchange treated with lowest order EFF-style
approximations to J and I integrals as well as the extra Kapusta term (the K
integral term).

Also, update exchange commentary.

------------------------------------------------------------------------
r167 | airwin | 2005-08-15 14:29:14 -0700 (Mon, 15 Aug 2005) | 4 lines
Changed paths:
   M /trunk/src/exchange_coeff.f

Final fitting coefficients for both J and K using results from
sqrti_fit_fortran.out18 and j_fit_fortran.out_new23 (both using expansions
for small x for ln(1+x) factors just like in exchange_gcpf.f itself).

------------------------------------------------------------------------
r166 | airwin | 2005-08-14 14:03:23 -0700 (Sun, 14 Aug 2005) | 10 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f

Finished the branches of the code that uses the EFF-style approximation for
the J and K integrals.  (Note, the I integral approximation follows from
I=K^2). All partial derivatives of fexi, fexj, and fexk calculated and
tested both in the normal partially relativistic case and also the
non-relativistic case, and also in all combinations of normal use, KLVH
formulation (dropping K), and I, J, and K alone.

Status of exchange approximation project: Some coefficient changes are still
planned for exchange_coeff.f, but that should be it.

------------------------------------------------------------------------
r165 | airwin | 2005-07-31 09:51:03 -0700 (Sun, 31 Jul 2005) | 6 lines
Changed paths:
   M /trunk/src/exchange_coeff.f
   M /trunk/src/exchange_gcpf.f

Improved treatment of EFF-style approximations for J and K exchange integrals.
Rather than specify all orders be the same, specify an index which then
returns the appropriate orders for that index.

Status: J not done yet, K done in ln g rather than improved ln(1+g).

------------------------------------------------------------------------
r164 | airwin | 2005-07-10 11:49:43 -0700 (Sun, 10 Jul 2005) | 5 lines
Changed paths:
   M /trunk/include/eff_fit.h

Drop ifln and add mflb and mglb (the equivalent of mf and mg for the part of
the approximation proportional to -ln beta) to the common block.  mflb or
mgln equal to zero are equivalent to the prior ifln = 0 case which signals
no -ln beta terms in the approximation.

------------------------------------------------------------------------
r163 | airwin | 2005-07-10 11:43:29 -0700 (Sun, 10 Jul 2005) | 3 lines
Changed paths:
   M /trunk/include/quad4block.h

Add betahalf = sqrt(beta) to the list of variables whose types are defined
by this include file.

------------------------------------------------------------------------
r162 | airwin | 2005-07-06 13:27:50 -0700 (Wed, 06 Jul 2005) | 3 lines
Changed paths:
   M /trunk/README

Incorporate Aaron Dotter's Mac OS X 10.4 report that the 10.3 instructions
work fine.

------------------------------------------------------------------------
r161 | airwin | 2005-06-13 18:04:42 -0700 (Mon, 13 Jun 2005) | 8 lines
Changed paths:
   M /trunk/src/fermi_dirac.f

Rearrange some of the calculations, improve comments, and also for the
separated non-relativistic approximation case (which is the usual one) take
advantage of the zero lowest-order g coefficients by manipulating norder and
moffset to calculate the polynomial multiplier of g, and then multiply by
that g factor to calculate the equivalent of the sum in Paper I.  N.B. all
these rearrangements did not appreciably change the free_eos_test results or
differences with the previous release.

------------------------------------------------------------------------
r160 | airwin | 2005-06-13 17:39:39 -0700 (Mon, 13 Jun 2005) | 3 lines
Changed paths:
   M /trunk/src/effsum_calc.f

PRIVATE API CHANGE: swap norder and morder in argument list (and elsewhere)
since the new order seems more logical to me.

------------------------------------------------------------------------
r159 | airwin | 2005-06-12 20:48:32 -0700 (Sun, 12 Jun 2005) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_original_coeff.f

Output a header line and also output just the significant digits that are
left from the rounding.

------------------------------------------------------------------------
r158 | airwin | 2005-06-12 11:37:27 -0700 (Sun, 12 Jun 2005) | 7 lines
Changed paths:
   M /trunk/src/fermi_dirac.f

Improve commentary, adjust to new private API for effsum_calc, and most
importantly get rid of noticed bug for the morder_in = -23 and morder_in =
23 results where previously the non-relativistic limit was being added in
when it should not have been.  (This fix not confirmed yet by comparing
abs(morder_in) = 23 and abs(morder_in) = 3 results, but I am sure it should
be done.)

------------------------------------------------------------------------
r157 | airwin | 2005-06-12 09:42:19 -0700 (Sun, 12 Jun 2005) | 4 lines
Changed paths:
   M /trunk/src/effsum_calc.f

PRIVATE API CHANGE.  Add additional argument for norder and use it inside
to allow different index ranges for summation over n index of order norder
and summation over m index of order morder.

------------------------------------------------------------------------
r156 | airwin | 2005-06-10 18:36:48 -0700 (Fri, 10 Jun 2005) | 5 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f

Solved some derivative problems for the "2" series cases (i.e., degenerate
series for I-J, I-J +const*K, I, -J, const*K) as revealed by my utility
programme which checks all the analytical partial derivatives provided by
exchange_gcpf using numerical centred differences.

------------------------------------------------------------------------
r155 | airwin | 2005-06-10 13:03:32 -0700 (Fri, 10 Jun 2005) | 7 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f

Commentary changes: use KLVH to refer to Kovetz et al paper + comment on
some commented out test cases to deal with significance loss and additional
terms in K series for degenerate case. Put constants in standard form.
Implement tests on psi (to avoid huge errors) and psi beta (to avoid
significance loss) for the degenerate series cases.  In the latter case
can always use the weakly relativistic series instead.

------------------------------------------------------------------------
r154 | airwin | 2005-06-07 13:06:08 -0700 (Tue, 07 Jun 2005) | 9 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f

Move to 10-figure values of a1 and a2 that I calculated myself to that
precision rather than relying on other people's much less precise
calculations of these definite integrals.  This makes a cosmetic
(noticeable, but quite small) improvement in precision in one area of
comparison with direct J calculations which is a nice verification that the
higher precision constants produce (slightly) higher precision results, but
the principal motivatation here is to make the forthcoming exchange paper
more self-contained.

------------------------------------------------------------------------
r153 | airwin | 2005-06-07 12:39:36 -0700 (Tue, 07 Jun 2005) | 10 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f

Programme test series options for I and -J with considerable rearrangement
of the old series code for I-J, I-J+const*K, and const*K as well.  The fex
values have been compared (using exchange_check) with numerical integrations
for ifexchange = -1, -11, -21, -31, -41, 1, 11, 21, 31, 41, and (for eta > 3
and eta beta > 0.5) 2, 12, 22, 32, 42 with good results in all cases except
for low degeneracy and strongly relativistic case where the series are
expected to fail. The required partial derivatives of the fex values for all
the above cases have also been programmed, but those derivatives have not
been checked yet.

------------------------------------------------------------------------
r152 | airwin | 2005-05-11 12:46:19 -0700 (Wed, 11 May 2005) | 4 lines
Changed paths:
   M /trunk/utils/abund.dat
   M /trunk/utils/free_eos_test.out_standard

New definitive solar abundance results from Apslund et al 2005
preprint number 0410214 and also new corresponding test results (which
differ from old results by 0.04 in ln P due to the abundance changes).

------------------------------------------------------------------------
r151 | airwin | 2005-05-11 12:36:18 -0700 (Wed, 11 May 2005) | 3 lines
Changed paths:
   M /trunk/utils/abund_read.f

New option to process log number abundance on arbitrary (log H = 12, usually)
scale as usually supplied by stellar atmospheric abundance results.

------------------------------------------------------------------------
r150 | airwin | 2005-04-23 10:05:08 -0700 (Sat, 23 Apr 2005) | 4 lines
Changed paths:
   M /trunk/www/Makefile.am

Install entire website (excluding papers which are too large and thus never
stored in www) into $prefix/share/doc/free_eos/html.  These files are
distributed in the tarball as well.

------------------------------------------------------------------------
r149 | airwin | 2005-04-23 09:33:52 -0700 (Sat, 23 Apr 2005) | 3 lines
Changed paths:
   M /trunk/configure.ac

New version, new soversion, and even new automake version in anticipation
of next release.

------------------------------------------------------------------------
r148 | airwin | 2005-04-23 09:33:02 -0700 (Sat, 23 Apr 2005) | 2 lines
Changed paths:
   M /trunk/src/version.f

New version in anticipation of the next release

------------------------------------------------------------------------
r147 | airwin | 2005-04-23 09:06:39 -0700 (Sat, 23 Apr 2005) | 4 lines
Changed paths:
   M /trunk/www/Makefile.am

Add 1.4.0-1.3.0.png, eos1a-eos.png, and announcement-1.4.0.html to
distribution.  (These files should have been in 1.4.0, but their absence is
not critical, and better late than never.)

------------------------------------------------------------------------
r146 | airwin | 2005-04-23 08:59:26 -0700 (Sat, 23 Apr 2005) | 2 lines
Changed paths:
   M /trunk/www/announcement-1.4.0.html

Specify ChangeLog location that has just been created.

------------------------------------------------------------------------
r144 | airwin | 2005-04-22 18:11:03 -0700 (Fri, 22 Apr 2005) | 5 lines
Changed paths:
   M /trunk/ChangeLog

Final commit of 1.4.0.  Updated ChangeLog created with

  cvs2cl -l "-d< today" --stdout > ChangeLog.test
  mv ChangeLog.test ChangeLog

------------------------------------------------------------------------
r143 | airwin | 2005-04-22 18:04:16 -0700 (Fri, 22 Apr 2005) | 2 lines
Changed paths:
   M /trunk/www/documentation.html
   M /trunk/www/index.html

Updates consistent with announcement of version 1.4.0 and Paper III.

------------------------------------------------------------------------
r142 | airwin | 2005-04-22 18:01:09 -0700 (Fri, 22 Apr 2005) | 4 lines
Changed paths:
   A /trunk/www/announcement-1.4.0.html

Initial commit of 1.4.0 announcement.  ToDo: fill in location of
ChangeLog after it is created when file release is made.  (Chicken and egg
situation.)

------------------------------------------------------------------------
r141 | airwin | 2005-04-22 17:28:09 -0700 (Fri, 22 Apr 2005) | 2 lines
Changed paths:
   M /trunk/www
   M /trunk/www/.cvsignore

Tweak

------------------------------------------------------------------------
r140 | airwin | 2005-04-22 14:55:13 -0700 (Fri, 22 Apr 2005) | 4 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Changed result (0.001 in ln P) due to moving from EOS1a to EOS1 (where
detailed ionization treatment is given to low-abundance species which
are treated as completely ionized for the EOS1a case).

------------------------------------------------------------------------
r139 | airwin | 2005-04-22 14:48:17 -0700 (Fri, 22 Apr 2005) | 4 lines
Changed paths:
   M /trunk/utils/free_eos_test.in

Change from EOS1a to EOS1 (where detailed ionization treatment is given
to low-abundance species rather than assuming full ionization for those
species).

------------------------------------------------------------------------
r138 | airwin | 2005-04-22 14:46:18 -0700 (Fri, 22 Apr 2005) | 6 lines
Changed paths:
   M /trunk/README

Tweak wording, make final decision about what to call what was formerly
known as EOS1.  (The winner is EOS1a.) The EOS1 designation is now reserved
for the option suite identical to EOS1a except that a detailed (and costly)
ionization treatment is given to small-abundance species rather than assuming
those species are completely ionized.

------------------------------------------------------------------------
r137 | airwin | 2005-04-09 14:50:06 -0700 (Sat, 09 Apr 2005) | 4 lines
Changed paths:
   M /trunk/src/free_eos.f

ifoption.eq.3.and.ifmodified.eq.301, 302, 303, 304 for doing nocoulomb, dh,
dhtau, and g_PTEH comparisons with recommended Coulomb treatment
(ifoption.eq.3.and.ifmodified.eq.1).

------------------------------------------------------------------------
r136 | airwin | 2005-04-09 14:47:32 -0700 (Sat, 09 Apr 2005) | 4 lines
Changed paths:
   M /trunk/src/coulomb.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/master_coulomb.f

mod(ifcoulomb,10).eq.9 option for replacing normal g_C with g_PTEH, but
otherwise all other aspects of the Coulomb free-energy model are identical
with the mod(ifcoulomb,10).eq.5 case, i.e., the recommended case.

------------------------------------------------------------------------
r135 | airwin | 2005-04-01 11:33:26 -0800 (Fri, 01 Apr 2005) | 7 lines
Changed paths:
   M /trunk/README

The old EOS1 option suite has now been redesignated as EOS1'.  The new EOS1
option suite is the same as EOS1' except that minor metals have their
ionization states treated in detail (which slows down the calculation by
about a factor of 3 when compared to EOS1' results).  The difference in
results is almost negligible, but might make a small but significant
difference for the critical solar vibrational frequency case.

------------------------------------------------------------------------
r134 | airwin | 2005-03-27 16:35:35 -0800 (Sun, 27 Mar 2005) | 7 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

New version only slightly changed (in fifth figure or so) from old version
due to moving to new Coulomb function paradigm where old spline correction
replaced completely by DH smoothly connected (with a exp (cubic polynomial))
to a modified OCP result.  N.B. previous commit messages about this change
said ln(cubic polynomial), but of course that should read exp( cubic
polynomial).

------------------------------------------------------------------------
r133 | airwin | 2005-03-27 16:31:13 -0800 (Sun, 27 Mar 2005) | 6 lines
Changed paths:
   D /trunk/src/coulomb_adj.f
   D /trunk/src/coulomb_correct.f

With new Coulomb function paradigm where we replace spline correction
by essentially the implicit function being fit by the spline (DH joined
to modified OCP by ln(cubic polynomial) that satisfies up to second order
continuity constraints), coulomb_adj, coulomb_correct, dspline, and dsplint
are no longer required.

------------------------------------------------------------------------
r132 | airwin | 2005-03-27 16:19:25 -0800 (Sun, 27 Mar 2005) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/master_coulomb.f

Tweak commentary.

------------------------------------------------------------------------
r131 | airwin | 2005-03-27 16:10:14 -0800 (Sun, 27 Mar 2005) | 2 lines
Changed paths:
   M /trunk/src/coulomb_adjust.f

Tweak commentary.

------------------------------------------------------------------------
r130 | airwin | 2005-03-27 16:06:43 -0800 (Sun, 27 Mar 2005) | 9 lines
Changed paths:
   M /trunk/src/coulomb.f

New, more streamlined version of coulomb function generation which drops
requirement for coulomb_correct, coulomb_adj, dspline, and dsplint.  The
basic idea is to replace previous spline fit with function that was implicitly
being fitted by spline.

That function is DH joined to modified OCP with exp(cubic) selected so that
cubic and its first two derivatives are continuous with ln(DH solution) at X
= ln Gamma = xdh and ln(modified OCP solution) at X = ln Gamma = xmocp.

------------------------------------------------------------------------
r129 | airwin | 2005-03-27 14:19:15 -0800 (Sun, 27 Mar 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Remove coulomb_adj, coulomb_correct, dspline, and dsplint from build.

------------------------------------------------------------------------
r128 | airwin | 2005-03-27 14:16:23 -0800 (Sun, 27 Mar 2005) | 2 lines
Changed paths:
   M /trunk/src/version.f

New version 1.4.0 in preparation for the release of 1.4.0.

------------------------------------------------------------------------
r127 | airwin | 2005-03-27 14:15:52 -0800 (Sun, 27 Mar 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

New version 1.4.0 (and SOVERSION) in preparation for the release of 1.4.0

------------------------------------------------------------------------
r126 | airwin | 2005-03-27 12:19:30 -0800 (Sun, 27 Mar 2005) | 7 lines
Changed paths:
   M /trunk/README

Define the official API to just be the arguments of the free_eos routine.
That is the only routine users should call, and the arguments of that
routine will only be changed with notice and documentation of the change.

All other routines in the library are considered to be internal, and I
reserve the right to change their arguments at any time without notice.

------------------------------------------------------------------------
r125 | airwin | 2005-03-27 11:55:01 -0800 (Sun, 27 Mar 2005) | 2 lines
Changed paths:
   M /trunk/src/pl_prepare.f

Improve commentary.

------------------------------------------------------------------------
r124 | airwin | 2005-03-27 11:54:01 -0800 (Sun, 27 Mar 2005) | 4 lines
Changed paths:
   M /trunk/src/README.developers

Update to reflect present situation where coulomb_correct (and coulomb_adj),
dspline, dsplint are no longer used.  Instead, coulomb calls coulomb_adjust
with none of the spline complications that were in the previous version.

------------------------------------------------------------------------
r123 | airwin | 2005-03-27 11:50:47 -0800 (Sun, 27 Mar 2005) | 7 lines
Changed paths:
   M /trunk/src/coulomb_adjust.f

Strip out everything having to do with splines.  The surviving simplified
result is identical to the Newton-Raphson iteration part of the previous
code version.  That iteration adjusts the "c" and "d" coefficients of
modified OCP results so that there is second-order continuity (via a cubic)
in Y(X) = ln(DH solution) with Y(X) = ln (modified OCP solution), where X =
ln(Gamma).

------------------------------------------------------------------------
r122 | airwin | 2005-03-25 14:59:48 -0800 (Fri, 25 Mar 2005) | 2 lines
Changed paths:
   D /trunk/src/dspline.f
   D /trunk/src/dsplint.f

These routines no longer needed by coulomb_adjust.

------------------------------------------------------------------------
r121 | airwin | 2005-03-24 14:38:36 -0800 (Thu, 24 Mar 2005) | 12 lines
Changed paths:
   M /trunk/src/coulomb_correct.f

Replace fixed Coulomb spline correction that was used for FreeEOS-1.3.0 by
a calculated version that solves some issues with the old fixed
correction (wrong boundary conditions, trial and error method of changing
delta c and delta d to get continuous results).  In practice, the old
fixed method was actually not that bad so the differences in results are
nearly negligible.

N.B. I have now figured out an improvement (simpler) method for determining
the Coulomb function (i.e., use the actual function being fitted by the
spline) so this commit is to benchmark the best spline fit before I drop the
spline altogether.

------------------------------------------------------------------------
r120 | airwin | 2005-03-15 11:44:37 -0800 (Tue, 15 Mar 2005) | 2 lines
Changed paths:
   M /trunk/www/announcement-1.3.0.html

Fix URL for ChangeLog

------------------------------------------------------------------------
r119 | airwin | 2005-03-15 11:42:08 -0800 (Tue, 15 Mar 2005) | 3 lines
Changed paths:
   M /trunk/README

Better formatting and expanded instructions about the possibilities for the
fortran compilation command (g77, f77, f90, or f95).

------------------------------------------------------------------------
r117 | airwin | 2005-02-21 18:13:03 -0800 (Mon, 21 Feb 2005) | 5 lines
Changed paths:
   M /trunk/ChangeLog

Final commit of 1.3.0.  Updated ChangeLog created with

cvs2cl -l "-d< today" --stdout > ChangeLog.test
mv ChangeLog.test ChangeLog

------------------------------------------------------------------------
r116 | airwin | 2005-02-21 18:08:56 -0800 (Mon, 21 Feb 2005) | 6 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

1.3.0 version.  The ln pressure is 0.0015 different consistent with the
general run of ln P residuals between 1.2.0 and 1.3.0 near the calculational
limit for high densities/low temperatures.  These residuals are caused by
the improved Fermi-Dirac integral approximations for 1.3.0 as presented
in Paper I.

------------------------------------------------------------------------
r115 | airwin | 2005-02-21 17:52:54 -0800 (Mon, 21 Feb 2005) | 4 lines
Changed paths:
   M /trunk/www
   M /trunk/www/.cvsignore
   M /trunk/www/Makefile.am
   M /trunk/www/announcement-1.3.0.html
   M /trunk/www/index.html

Announcement of 1.3.0 infrastructure in place + tweaking of announcement
itself. (Although a final change will have to be made after the release
to the release location for the ChangeLog.)

------------------------------------------------------------------------
r114 | airwin | 2005-02-21 12:40:52 -0800 (Mon, 21 Feb 2005) | 3 lines
Changed paths:
   A /trunk/www/announcement-1.3.0.html

Initial commit of the announcement for 1.3.0.  One URL still needs to be
fixed.

------------------------------------------------------------------------
r113 | airwin | 2005-02-20 21:33:48 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   M /trunk/src/version.f

Update version in anticipation of release 1.3.0.

------------------------------------------------------------------------
r112 | airwin | 2005-02-20 21:33:22 -0800 (Sun, 20 Feb 2005) | 5 lines
Changed paths:
   M /trunk/configure.ac

Update version information in anticipation of release 1.3.0.

Also update SOVERSION from 0:0:0 to 0:1:0 consistent with a change in source
code but no API changes.

------------------------------------------------------------------------
r111 | airwin | 2005-02-20 21:19:38 -0800 (Sun, 20 Feb 2005) | 3 lines
Changed paths:
   M /trunk/src/fermi_dirac_coeff.f
   M /trunk/src/free_eos.f

Restore implementation of latest Fermi-Dirac integral approximations
(described in Paper I) in anticipation of 1.3.0 release.

------------------------------------------------------------------------
r110 | airwin | 2005-02-20 18:56:45 -0800 (Sun, 20 Feb 2005) | 3 lines
Changed paths:
   M /trunk/www/announcement-1.2.0.html

Substantially improve wording of last two paragraphs of 1.2.0 announcement
(an hour or so post-release, but who cares).

------------------------------------------------------------------------
r108 | airwin | 2005-02-20 16:17:48 -0800 (Sun, 20 Feb 2005) | 13 lines
Changed paths:
   M /trunk/ChangeLog

Final commit of ChangeLog for release 1.2.0

This was created with

cvs2cl -l "-d< today" --stdout > ChangeLog.test
mv ChangeLog.test ChangeLog

(The problem I had before with "today" is now explained.  If you read cvs
log documentation carefully -d DATE gives you the _latest_ log for all files
with changes dated on or before DATE while -d < today (as above with the
angle bracket) gives you logs for _all_ changed versions prior to that date
which is what I require.)

------------------------------------------------------------------------
r107 | airwin | 2005-02-20 16:10:33 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   A /trunk/www/announcement-1.2.0.html
   M /trunk/www/index.html

Add 1.2.0 announcement to web site files.

------------------------------------------------------------------------
r106 | airwin | 2005-02-20 16:09:38 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   M /trunk/www
   A /trunk/www/.cvsignore

Initial commit of this convenience file.

------------------------------------------------------------------------
r105 | airwin | 2005-02-20 16:08:29 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/www/Makefile.am

Include www files in distribution.

------------------------------------------------------------------------
r104 | airwin | 2005-02-20 14:09:28 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   M /trunk/NEWS

Add news item concerning release of 1.2.0.

------------------------------------------------------------------------
r103 | airwin | 2005-02-20 12:51:01 -0800 (Sun, 20 Feb 2005) | 4 lines
Changed paths:
   A /trunk/www/1.2.0-1.1.0.png

Figure giving pressure residuals between versions 1.1.0 and 1.2.0 of FreeEOS
for solar metallicity with both EOS calculations using the EOS1 option
suite.

------------------------------------------------------------------------
r102 | airwin | 2005-02-20 11:43:14 -0800 (Sun, 20 Feb 2005) | 6 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Generated this result for version 1.2.0 of free_eos.  There are some small
(0.001 in ln P) changes from previous CVS version because have reverted both
the fermi-dirac integral approximations and the Coulomb treatment back to be
consistent with the 1.1.0 release.  (I will restore the fermi-dirac and
Coulomb changes for subsequent releases.)

------------------------------------------------------------------------
r101 | airwin | 2005-02-20 11:05:25 -0800 (Sun, 20 Feb 2005) | 8 lines
Changed paths:
   M /trunk/ChangeLog

Create new ChangeLog from first cvs commit in SF repository using
cvs2cl -l "-d>2003-01-14" --stdout > ChangeLog.test
mv ChangeLog.test ChangeLog

The old version was not correct because the date string was specified as
"-d today" which gives intermittent log results (some missing logs scattered
throughout the entire data range) for some unknown reason.

------------------------------------------------------------------------
r100 | airwin | 2005-02-20 10:26:16 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Change version string to 1.2.0 in anticipation of release later today

------------------------------------------------------------------------
r99 | airwin | 2005-02-20 09:22:39 -0800 (Sun, 20 Feb 2005) | 5 lines
Changed paths:
   M /trunk/src/coulomb_correct.f
   M /trunk/src/fermi_dirac_coeff.f

Revert back to the FreeEOS-1.1.0 version for both the fermi-dirac integral
approximations and the Coulomb effect.  This allows me to make a release
where the only major model change from FreeEOS-1.1.0 is in the H2+
pressure-ionization treatment.

------------------------------------------------------------------------
r98 | airwin | 2005-02-20 09:15:07 -0800 (Sun, 20 Feb 2005) | 4 lines
Changed paths:
   M /trunk/src/fermi_dirac_original_coeff.f

Use rounding since this routine is normally just used to illustrate
the thermodynamic inconsistency introduced by that rounding and not for
"real" calculations.

------------------------------------------------------------------------
r97 | airwin | 2005-02-20 09:10:21 -0800 (Sun, 20 Feb 2005) | 2 lines
Changed paths:
   M /trunk/src/excitation_pi.f

Tweak commentary.

------------------------------------------------------------------------
r96 | airwin | 2005-02-20 09:09:07 -0800 (Sun, 20 Feb 2005) | 4 lines
Changed paths:
   M /trunk/src/free_eos.f

Revert from higher quality morder = 13 (3rd order with non-relativistic
limit correction) to morder = 5 (fifth order without non-relativistic limit
correction) to be as consistent as possible with free_eos-1.1.0.

------------------------------------------------------------------------
r95 | airwin | 2005-02-14 22:54:53 -0800 (Mon, 14 Feb 2005) | 5 lines
Changed paths:
   M /trunk/include/Makefile.am
   A /trunk/include/diagnostics.h
   M /trunk/src/free_eos_detailed.f

Add diagnostics common block so that free_eos_detailed can communicate
diagnostics (in this starting case the ratios pr/p, (ppi + pexcited)/p,
dpcoulomb/p, and pex/p) to the outside world, usually the
main routine that is calling FreeEOS.

------------------------------------------------------------------------
r94 | airwin | 2005-02-14 22:41:29 -0800 (Mon, 14 Feb 2005) | 3 lines
Changed paths:
   M /trunk/configure.ac

Update to automake version 1.9.4.  Also, remove AC_PROG_RANLIB which is not
presently used and which is deprecated in any case.

------------------------------------------------------------------------
r93 | airwin | 2005-02-14 22:38:26 -0800 (Mon, 14 Feb 2005) | 2 lines
Changed paths:
   M /trunk/NEWS

Update to be consistent with web site.

------------------------------------------------------------------------
r92 | airwin | 2005-02-05 12:32:08 -0800 (Sat, 05 Feb 2005) | 25 lines
Changed paths:
   M /trunk/src/effective_radius.f
   M /trunk/src/mdh_pi.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qstar_calc.f
   M /trunk/utils/free_eos_test.out_standard

Revert back to FreeEOS-1.1.0 pressure ionization coefficients.  This is the
best combined fit of Saumon, OPAL EOS1995 and OPAL extended (1996 or so)
tables for quad=10 with H2+ neutral interaction radii effectively set to
zero.  The reason for the reversion is the replaced pressure ionization
coefficients (which were the best fit I could do to EOS2001) led to
calculational instabilities at high temperatures.  Also, my solar fit to
EOS2001 is not nearly as good as my solar fit to EOS1995.  Forrest Rogers
tells me the OPAL EOS2001 table has some small but significant differences
with EOS1995 table for the solar H and He ionization zones that are not
present in the solar comparisons that he made in the accompanying paper and
which he cannot reproduce with his current code results, i.e., his present
results are closer to EOS1995 than EOS2001 for the solar ionization zone
case.  With this question mark hanging over the EOS2001 table results, I
have decided not to worry too much about deviations between those results
and mine, and instead just make sure that the FreeEOS calculation is robust
as possible.

Note, there have been a large number of other changes in FreeEOS since the
release of 1.1.0.  When I compared back with standard results at log rho = 0
and log T = 5., the ln pressure deviatates by 0.001.  I attribute this
change to the much better Fermi-Dirac integral fitting I do for the present
code.  The larger errors of the old integral fits in this non-relativistic
case affect the ionization balance and thus are substantially amplified for
the conditions of this test calculation.

------------------------------------------------------------------------
r91 | airwin | 2005-02-01 15:58:11 -0800 (Tue, 01 Feb 2005) | 2 lines
Changed paths:
   M /trunk/www/index.html

News item concerning improved figures for first and second research notes.

------------------------------------------------------------------------
r90 | airwin | 2004-12-31 17:58:11 -0800 (Fri, 31 Dec 2004) | 3 lines
Changed paths:
   M /trunk/src/dsplint.f

Convert to optimizing for continuous (ascending or descending) x values
rather than previous ascending only.

------------------------------------------------------------------------
r89 | airwin | 2004-12-31 17:22:37 -0800 (Fri, 31 Dec 2004) | 9 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Minor differences in difference results (but no differences in EOS results
themselves) due to commenting out print statements that printed out NR
results in coulomb_adjust.f or make install rather than make only. (Those
are the only differences I can think of between two runs.)

WTF??  Perhaps changes induced slightly different order of computation ==>
different roundoff error, but nevertheless it is a somewhat surprising
result.  Keep track of this for future.

------------------------------------------------------------------------
r88 | airwin | 2004-12-31 17:14:40 -0800 (Fri, 31 Dec 2004) | 3 lines
Changed paths:
   M /trunk/src/coulomb_adjust.f

Comment out extraneous messages about progress of NR iteration
that were interfering with fort.90.

------------------------------------------------------------------------
r87 | airwin | 2004-12-31 17:11:11 -0800 (Fri, 31 Dec 2004) | 7 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Change in Coulomb treatment (using coulomb_adj rather than old static
version of coulomb_correct) generates differences in 4th figure.  Since
previous change of boundary condition made essentially no difference, this
substantially larger change is undoubtedly due to automatic (and more exact)
determination of delta c and delta d using Newton-Raphson iteration rather
than trial and error method.

------------------------------------------------------------------------
r86 | airwin | 2004-12-31 16:55:17 -0800 (Fri, 31 Dec 2004) | 13 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/src/coulomb.f
   A /trunk/src/coulomb_adj.f
   M /trunk/src/coulomb_correct.f
   D /trunk/src/coulomb_correct_alt.f
   M /trunk/src/version.f

Move from old static version of coulomb_correct (and coulomb_correct_alt
which is now no longer needed) to new dynamic version that generates spline
for correction of Debye-Hueckel results on the fly using coulomb_adj.

New version is now completely self-consistent with no inconsistent treatment
of derivatives at end points and automatic calculation of delta c and delta
d rather than hand-generated determination of delta c and delta d through
trial and error based on residual plot results.

The test results with free_eos_test show differences in 4th place for
rather difficult and sensitive test conditions.  Most importantly, derivatives
still look good.  So I think all is well.

------------------------------------------------------------------------
r85 | airwin | 2004-12-21 13:32:40 -0800 (Tue, 21 Dec 2004) | 3 lines
Changed paths:
   M /trunk/www/documentation.html
   M /trunk/www/index.html

Changes concerning Paper II, solution.pdf, being made available on the freeeos
site.

------------------------------------------------------------------------
r84 | airwin | 2004-12-21 13:22:21 -0800 (Tue, 21 Dec 2004) | 18 lines
Changed paths:
   M /trunk/src/effective_radius.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qstar_calc.f

Return to pressure ionization values used for preliminary overall EOS2001
fit.  Some of the hydrogen coefficients in effective_radius.f were not
actually changed back for my first try at the solution.pdf figures, but
these EOS2001 overall fitting values actually change figure 7 (the only one
affected) in a minor way so I regenerated that figure for the paper with
these more standard pressure ionization results.

BTW, I got lousy initial solar results with the overall EOS2001
pressure-ionization fitting coefficients, but that was because I was using
non-zero ifrad, and as soon as that was returned to zero to match the
EOS2001 table, the solar fit of EOS2001 becomes only 2.5 times worse than
the solar fit of EOS1995 using the older (and quite different)
free_eos-1.1.0 pressure ionization values.  That is a step in the wrong
direction, but the maximum ln P residual is still only half of the maximum
residual between EOS1995 and EOS2001 in the solar envelope for log T(r) <
5.4, and that difference between EOS1995 and EOS2001 remains unexplained at
this date although at my urging Forrest Rogers is looking in to it.

------------------------------------------------------------------------
r83 | airwin | 2004-12-21 11:18:29 -0800 (Tue, 21 Dec 2004) | 7 lines
Changed paths:
   M /trunk/src/free_eos.f

if(ifmodified.ge.201.and.ifmodified.le.231) ==>

ifrad=0 (essential for EOS1995 or EOS2001 fitting)

nmax=100 (experimental change to allow plenty of scope for changing pressure
ionization parameters without running into an nmax limit).

------------------------------------------------------------------------
r82 | airwin | 2004-12-15 16:16:46 -0800 (Wed, 15 Dec 2004) | 6 lines
Changed paths:
   M /trunk/src/effective_radius.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qstar_calc.f

Adjust pressure ionization back to earlier values to restore a good fit
for EOS1995 for solar conditions.  Committing this version so we can always
return to this benchmark.  The subsequent plan is to return to
the new values as much as possible (to keep good LMS fit) while finding the
best parameters to give good solar fit for EOS2001.

------------------------------------------------------------------------
r81 | airwin | 2004-12-15 16:08:06 -0800 (Wed, 15 Dec 2004) | 4 lines
Changed paths:
   M /trunk/src/free_eos.f

Most changes for allowing additional thermodynamic consistency checking.

Also, a few experimental changes in search of a better EOS2001 solar fit.

------------------------------------------------------------------------
r80 | airwin | 2004-12-15 16:02:53 -0800 (Wed, 15 Dec 2004) | 6 lines
Changed paths:
   M /trunk/src/fermi_dirac_original_coeff.f

Allow the possibility of rounding these coefficients calculated from original
EFF coefficients in a way that is fairly close to what EFF did for their
calculated coefficients.  But normally (as in this commit) this rounding
possibility is turned off (ifround = .false.) to preserve full thermodynamic
consistency.

------------------------------------------------------------------------
r79 | airwin | 2004-12-15 15:57:51 -0800 (Wed, 15 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Include round_ln.f in sources.

------------------------------------------------------------------------
r78 | airwin | 2004-12-15 15:56:56 -0800 (Wed, 15 Dec 2004) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Version string update to commemorate a version that gives a good fit
to OPAL EOS1995 solar results.

------------------------------------------------------------------------
r77 | airwin | 2004-12-15 15:54:01 -0800 (Wed, 15 Dec 2004) | 6 lines
Changed paths:
   A /trunk/src/round_ln.f

Initial checkin of utility routine to round coefficients.  This is
experimentally used in fermi_dirac_original_coeff.f to approximate rounding
of EFF original coefficients to demonstrate the thermodynamic inconsistency
that results, but this "feature" is normally turned off to preserve
thermodynamic consistency.

------------------------------------------------------------------------
r76 | airwin | 2004-12-15 15:46:33 -0800 (Wed, 15 Dec 2004) | 2 lines
Changed paths:
   M /trunk/utils/free_eos_test_main.f

.gt.tlim ==> .ge.tlim

------------------------------------------------------------------------
r75 | airwin | 2004-12-15 15:45:01 -0800 (Wed, 15 Dec 2004) | 2 lines
Changed paths:
   M /trunk/utils/README.free_eos_test

Tweak wording slightly.

------------------------------------------------------------------------
r74 | airwin | 2004-12-03 17:43:22 -0800 (Fri, 03 Dec 2004) | 3 lines
Changed paths:
   A /trunk/src/free_eos.c

Initial commit with commentary but no code yet on possible approach for C
interface done with cfortran.h.

------------------------------------------------------------------------
r73 | airwin | 2004-11-20 12:55:35 -0800 (Sat, 20 Nov 2004) | 8 lines
Changed paths:
   M /trunk/Makefile.am

Inspired hack suggested by Rafael Laboissiere to get around annoying aclocal
underquoted messages from all the system installed *.m4 files that do not
conform to the automake-1.8 quoting standard.  This hack only works because
there is currently a particular pattern of aclocal use in the generated
Makefile.  If that generated pattern is changed the hack may stop working.
Thus, this hack should be removed as soon as the system *.m4 files conform
to the automake-1.8 quoting standard.

------------------------------------------------------------------------
r72 | airwin | 2004-11-19 10:25:51 -0800 (Fri, 19 Nov 2004) | 9 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Very slight change in results at machine precision level (13th figure or so)
introduced by fixing spline boundary condition from zero first derivate
(completely wrong at upper boundary at log Gamma = 3) to zero second
derivative (still wrong, but not nearly as much at upper boundary).  The
errors propagate further from the boundary in the first case, but evidently
still don't propagate so far that they make a practical difference even for
this standard EOS calculation done for lower main sequence envelope
conditions where the Coulomb effect is strong and log Gamma ~ 0.3.

------------------------------------------------------------------------
r71 | airwin | 2004-11-19 10:11:01 -0800 (Fri, 19 Nov 2004) | 12 lines
Changed paths:
   M /trunk/src/coulomb_correct.f
   M /trunk/src/coulomb_correct_alt.f

Fix boundary condition bug.  Note this updated result is now at least
consistent with the trial and error fit.  That fit showed the zero
second-derivative assumption at large X did generate some errors near the
upper boundary at log Gamma = 3, but those errors did not significantly
propagate to regions where this spline is being used (log Gamma ~2 or less).

Note this remaining glitch in the upper boundary will be automatically
taken care of in the next version of this routine which will depend on the
coulomb_adjust routine which not only does the boundary conditions correctly
but also automatically calculates the OCP modifications required to make a
smooth join rather than using trial and error methods.

------------------------------------------------------------------------
r70 | airwin | 2004-11-18 15:33:36 -0800 (Thu, 18 Nov 2004) | 11 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/coulomb_adjust.f

Initial commit of coulomb_adjust.f plus associated Makefile.am changes

The code in this routine is actually quite mature.  It has simply been
copied over from the initial parts of a utility routine to do the coulomb
spline adjustment once it became apparent that that part of the code was
entirely self-contained.  (Older versions of that code required trial and
error methods to solve based on the look of residual plots, but this latest
version uses the solution of two non-linear equations to achieve the same
goal (a smooth join of DH and OCP results) much more quickly and
accurately.

------------------------------------------------------------------------
r69 | airwin | 2004-11-18 11:51:17 -0800 (Thu, 18 Nov 2004) | 5 lines
Changed paths:
   M /trunk/src/dspline.f

Bug fix: remove improperly applied comment.  This revised version has been
thoroughly tested with regard to end conditions by coulomb_adjust.  For
example, have tried both the first and second derivative condition at both
end points.  All seems well.

------------------------------------------------------------------------
r68 | airwin | 2004-11-15 21:36:28 -0800 (Mon, 15 Nov 2004) | 15 lines
Changed paths:
   M /trunk/src/coulomb_correct.f
   M /trunk/src/coulomb_correct_alt.f

Use new dspline API.

Note, I have arranged the call to dspline so this implements the identical
zero first derivatives boundary conditions used in the past, but I just
discovered that boundary condition is substantially incorrect at the largest
knot.  (I thought I was specifying the zero second derivatives used in the
fit, but in fact I was specifying zero first derivatives in error.) So these
boundary conditions are incorrect at the upper boundary, and not even
consistent with the somewhat incorrect zero second derivative boundary
condition used in the fit.

ToDo: Will fix this bug perfectly later, but I expect virtually negligible
changes as a result (because the upper boundary at log Gamma = 3 is so far
away from where the Coulomb fit is actually used).

------------------------------------------------------------------------
r67 | airwin | 2004-11-15 21:24:29 -0800 (Mon, 15 Nov 2004) | 7 lines
Changed paths:
   M /trunk/src/dspline.f

Introduce substantial mathematical commentary proving all relationships
that are used.

Introduce API change so that can specify boundary conditions
depending on either first or second derivative values independently
at each end point.

------------------------------------------------------------------------
r66 | airwin | 2004-11-01 16:35:42 -0800 (Mon, 01 Nov 2004) | 6 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f

Programme I=K^2 and K integrals from EFF-style approximation for K integral.
Result gave good looking residual plots for exchange research note.

ToDo: Partial derivatives of K and I and anything to do with EFF-style
approximation for J integral.

------------------------------------------------------------------------
r65 | airwin | 2004-10-23 15:40:19 -0700 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Add exchange_coeff.f to list of files that must be compiled.

------------------------------------------------------------------------
r64 | airwin | 2004-10-23 15:39:23 -0700 (Sat, 23 Oct 2004) | 5 lines
Changed paths:
   A /trunk/src/exchange_coeff.f

Initial commit of routine that takes fitted coefficients for J and K EFF
style approximations and stores them in convenient form for subsequent use.
N.B. This commit is only for K integral coefficients.  J coefficients to be
added later.

------------------------------------------------------------------------
r63 | airwin | 2004-10-23 11:55:40 -0700 (Sat, 23 Oct 2004) | 4 lines
Changed paths:
   M /trunk/src/exchange_gcpf.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f

Reorganization in terms of new ifexchange option scheme.  Involves
argument list changes and large matrix of changes in ifexchange options
in free_eos.f that are not tested so be careful.

------------------------------------------------------------------------
r62 | airwin | 2004-10-22 10:31:42 -0700 (Fri, 22 Oct 2004) | 2 lines
Changed paths:
   M /trunk/include/eff_fit.h

Include ifln control variable used in various EFF-style fits.

------------------------------------------------------------------------
r61 | airwin | 2004-10-14 18:57:15 -0700 (Thu, 14 Oct 2004) | 3 lines
Changed paths:
   M /trunk/www/documentation.html
   M /trunk/www/index.html

Reorganize documentation and point to CVS version of newly-created
README.free_eos_test which documents the free_eos_test code.

------------------------------------------------------------------------
r60 | airwin | 2004-10-14 16:08:34 -0700 (Thu, 14 Oct 2004) | 3 lines
Changed paths:
   M /trunk/utils/README.free_eos_test

Add remarks about the energy and enthalpy derivatives being determined by
thermodynamic consistency arguments.

------------------------------------------------------------------------
r59 | airwin | 2004-10-14 13:02:34 -0700 (Thu, 14 Oct 2004) | 8 lines
Changed paths:
   M /trunk/src/Makefile.am

Remove FLIBS from link step.  FLIBS should not be necessary since we do not
propose to use mixed C and fortran code in the same library.  (The FreeEOS
library is pure fortran, and if mixed C and fortran code is used for for the
installed lapack/blas on a users system, we encourage users to build their
own lapack and blas libraries directly from fortran source following the
directions in the top-level README).  Also, FLIBS has incorrect values for
Mac OS X and messes up all build attempts there.

------------------------------------------------------------------------
r58 | airwin | 2004-10-14 12:57:30 -0700 (Thu, 14 Oct 2004) | 3 lines
Changed paths:
   M /trunk/utils/Makefile.am

README.free_eos_test included as documentation and also in the distribution
tarball.

------------------------------------------------------------------------
r57 | airwin | 2004-10-14 12:46:54 -0700 (Thu, 14 Oct 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

Bump version number to 1.1.0.cvs.20041014

------------------------------------------------------------------------
r56 | airwin | 2004-10-14 12:39:31 -0700 (Thu, 14 Oct 2004) | 3 lines
Changed paths:
   M /trunk/README

Finalize Mac OS X 10.3 instructions following good results from Bill Paxton
for that case.  Other documentation tweaks as well.

------------------------------------------------------------------------
r55 | airwin | 2004-10-14 12:19:29 -0700 (Thu, 14 Oct 2004) | 2 lines
Changed paths:
   A /trunk/utils/README.free_eos_test

Initial commit of detailed documentation for free_eos_test.

------------------------------------------------------------------------
r54 | airwin | 2004-10-14 10:48:48 -0700 (Thu, 14 Oct 2004) | 2 lines
Changed paths:
   M /trunk/utils/free_eos_test.in

Tweak self-documentation.

------------------------------------------------------------------------
r53 | airwin | 2004-10-12 20:46:18 -0700 (Tue, 12 Oct 2004) | 8 lines
Changed paths:
   M /trunk/README

Update Mac OS X situation following my experiences at the SF compile farm
today.  Everything worked there with no obvious error messages, but the
results were unreliable with certain energy related quantities considerably
off from the standard values while other values bang on.  I will ask a user
with what may be a more reliable Mac OS X system to try out the new build
procedure for that system, and these instructions here may have to be
supplemented depending on what he finds.

------------------------------------------------------------------------
r52 | airwin | 2004-10-11 08:27:46 -0700 (Mon, 11 Oct 2004) | 5 lines
Changed paths:
   M /trunk/NEWS

There is no reason to have two NEWS sources for FreeEOS so replaced the
contents of this file with more comprehensive news from FreeEOS web page as
of 2004-10-11.  The only changes were paragraphing and putting in explicit
URLs, and we will continue to follow this model.

------------------------------------------------------------------------
r51 | airwin | 2004-10-10 18:08:03 -0700 (Sun, 10 Oct 2004) | 3 lines
Changed paths:
   M /trunk/README

Update AIX and Solaris quirks both for the prerequisite lapack stuff, but also
for the ./configure options that are required.

------------------------------------------------------------------------
r50 | airwin | 2004-10-10 18:04:36 -0700 (Sun, 10 Oct 2004) | 3 lines
Changed paths:
   A /trunk/www
   A /trunk/www/documentation.html
   A /trunk/www/index.html
   A /trunk/www/valid-html40.png

Initial commit of FreeEOS complete website with boilerplate style elements
modelled after lbproject website.

------------------------------------------------------------------------
r49 | airwin | 2004-10-07 19:18:08 -0700 (Thu, 07 Oct 2004) | 2 lines
Changed paths:
   M /trunk/m4/Makefile.am

Tweak README.m4 ==> README.macros

------------------------------------------------------------------------
r48 | airwin | 2004-10-07 19:16:48 -0700 (Thu, 07 Oct 2004) | 5 lines
Changed paths:
   M /trunk/Makefile.am

ACLOCAL_AMFLAGS = -I m4 so that bootstrap.sh only has to be used once upon
a clean start.

Also process m4 subdirectory.

------------------------------------------------------------------------
r47 | airwin | 2004-10-07 19:04:05 -0700 (Thu, 07 Oct 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Move to the new lapack configuration scheme based on the ACX_LAPACK macro.

------------------------------------------------------------------------
r46 | airwin | 2004-10-07 19:00:54 -0700 (Thu, 07 Oct 2004) | 3 lines
Changed paths:
   M /trunk/bootstrap.sh

Output versions of the autotools and change to a system based on the
recommended autoreconf script.

------------------------------------------------------------------------
r45 | airwin | 2004-10-07 18:59:25 -0700 (Thu, 07 Oct 2004) | 4 lines
Changed paths:
   M /trunk/src/Makefile.am
   A /trunk/src/lnblnk.f

Add lnblnk.f to accomodate those systems that don't have this function.

Change lapack flags to be consistent with new lapack configuration scheme.

------------------------------------------------------------------------
r44 | airwin | 2004-10-07 18:57:18 -0700 (Thu, 07 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/version.f

Tweak version.

------------------------------------------------------------------------
r43 | airwin | 2004-10-07 18:56:44 -0700 (Thu, 07 Oct 2004) | 9 lines
Changed paths:
   M /trunk/src/free_eos.f

Reorder commentary in a more logical way.

Default morder changed back to 13 since recent tests show this gives
excellent results. That precision is typically better than 1 part in 10^6
for main-sequence stars and 1 part in 10^4 for advanced stages of evolution
(where the relativistic corrections start to become appreciable so we cannot
take as much advantage of the accuracy of the non-relativistic Cody-Thacher
approximation).

------------------------------------------------------------------------
r42 | airwin | 2004-10-07 18:48:39 -0700 (Thu, 07 Oct 2004) | 2 lines
Changed paths:
   A /trunk/m4
   A /trunk/m4/.cvsignore
   A /trunk/m4/Makefile.am
   A /trunk/m4/README.macros
   A /trunk/m4/acx_blas.m4
   A /trunk/m4/acx_lapack.m4

Initial commit of all files associated with local macros.

------------------------------------------------------------------------
r41 | airwin | 2004-09-28 19:31:21 -0700 (Tue, 28 Sep 2004) | 4 lines
Changed paths:
   M /trunk/src/free_eos.f

Temporary measure to get around high-T convergence problems caused
by current pressure-ionization fit to EOS 2001.  This applies to all
ifoption=3 cases with ifmodified > 0.

------------------------------------------------------------------------
r40 | airwin | 2004-09-28 08:58:29 -0700 (Tue, 28 Sep 2004) | 2 lines
Changed paths:
   M /trunk/README

Put in section on getting the prerequisite lapack and blas libraries

------------------------------------------------------------------------
r39 | airwin | 2004-09-27 14:15:57 -0700 (Mon, 27 Sep 2004) | 9 lines
Changed paths:
   M /trunk/src/free_eos.f

Improve detection of cold starts.  Only pay attention to difference in
match_variable and ln T.

More useful Coulomb variations from ifoption = 3, ifmodified = 211 to 224

In the latter case had to force full ionization above tlim as a temporary
measure to get convergence with lame pressure-ionization coefficients I have
at the moment.

------------------------------------------------------------------------
r38 | airwin | 2004-09-27 14:09:00 -0700 (Mon, 27 Sep 2004) | 8 lines
Changed paths:
   M /trunk/src/fermi_dirac_direct.f

Change eta < 0 case so that split into two intervals with split occurring
at ampmid = 1.

Got slightly better looking results compared to Cody Thacher.

Change existing split into two intervals for intermediate eta case: was
split at eta now split at 1.d0+eta (to make smooth with eta<0 split).

------------------------------------------------------------------------
r37 | airwin | 2004-09-24 09:32:03 -0700 (Fri, 24 Sep 2004) | 2 lines
Changed paths:
   M /trunk/utils/free_eos_test_main.f

AIX compiler (and others) need specific integer typing for lnblnk.

------------------------------------------------------------------------
r36 | airwin | 2004-09-24 09:22:17 -0700 (Fri, 24 Sep 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/version.f

New version number

------------------------------------------------------------------------
r35 | airwin | 2004-09-24 09:20:16 -0700 (Fri, 24 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/free_eos_interpolated.f

AIX compiler (and others) need specific integer typing for lnblnk.

------------------------------------------------------------------------
r34 | airwin | 2004-09-23 13:06:25 -0700 (Thu, 23 Sep 2004) | 3 lines
Changed paths:
   M /trunk/README

Emphasize the most important configure options for those users who are new
to this standard way of configuring software.

------------------------------------------------------------------------
r33 | airwin | 2004-09-23 13:05:33 -0700 (Thu, 23 Sep 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog.prior_SF

Change lib/ to src/ throughout to make compatible with new directory names
on SF CVS that occurred after these changes.

------------------------------------------------------------------------
r32 | airwin | 2004-09-10 22:29:29 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/utils/free_eos_test.out_standard

Update version string.

------------------------------------------------------------------------
r31 | airwin | 2004-09-10 22:28:25 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/version.f

Better (more general) typing of version string + set new value.

------------------------------------------------------------------------
r30 | airwin | 2004-09-10 22:27:15 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/utils/free_eos_test_main.f

Output version string.

------------------------------------------------------------------------
r29 | airwin | 2004-09-10 22:06:21 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/NEWS

Latest

------------------------------------------------------------------------
r28 | airwin | 2004-09-10 21:57:30 -0700 (Fri, 10 Sep 2004) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/utils/Makefile.am

Documentation install plus DIST configuration so that make dist produces
a nice tarball including all necessary files.

------------------------------------------------------------------------
r27 | airwin | 2004-09-10 21:54:05 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/README

Add setenv possibility for setting environment variables.

------------------------------------------------------------------------
r26 | airwin | 2004-09-10 17:22:47 -0700 (Fri, 10 Sep 2004) | 3 lines
Changed paths:
   M /trunk/utils/free_eos_test.out_standard

Previous commit was for an old file calculated at log T = 4.75 by accident.
Change to the standard log T = 5.0 corresponding to free_eos_test.in

------------------------------------------------------------------------
r25 | airwin | 2004-09-10 15:47:56 -0700 (Fri, 10 Sep 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog.prior_SF

Put in ChangeLog prior to 2000 October 17 when the code was being worked on
without the aid of CVS to keep track of changes.

------------------------------------------------------------------------
r24 | airwin | 2004-09-10 15:40:33 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   A /trunk/ChangeLog

Initial commit of placeholder empty file.

------------------------------------------------------------------------
r23 | airwin | 2004-09-10 15:38:30 -0700 (Fri, 10 Sep 2004) | 23 lines
Changed paths:
   A /trunk/utils/free_eos_test.out_standard

Initial commit:

This file is generated by the following command:

./free_eos_test <free_eos_test.in >& free_eos_test.out_standard

The results of free_eos_test will be slightly different on different systems
due to floating-point significance loss (typically only 12 decimals of
precision are retained out of the 16 possible in these double-precision
floating-point calculations of the EOS).  The last 4 figures vary due to
different order of calculation and different rounding on various fortran
compilers/hardware platforms.

Despite the differences in the last 4 figures, free_eos_test is an excellent
test that the code works well on your system because it tests all the
analytically derived thermodynamic derivatives against centred numerical
differences, and free_eos_test.in is chosen to do the EOS calculations for a
set of rather difficult physical conditions (log rho = 0, log T = 5).

Although free_eos_test.out_standard is a generated file, we keep it in CVS
to help keep track of EOS differences for each code change (for conditions
that are preternaturally sensitive to EOS changes).

------------------------------------------------------------------------
r22 | airwin | 2004-09-10 12:38:26 -0700 (Fri, 10 Sep 2004) | 5 lines
Changed paths:
   A /trunk/AUTHORS
   A /trunk/NEWS
   A /trunk/README

Initial commit of AUTHORS (my name and e-mail), NEWS (recent NEWS from an
overview perspective), and README (Introduction to the software including
some specific build, install, and check instructions to supplement the
generic instructions in INSTALL).

------------------------------------------------------------------------
r21 | airwin | 2004-09-10 12:22:03 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/README.developers

awieos ==> free_eos

------------------------------------------------------------------------
r20 | airwin | 2004-09-10 10:04:39 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk
   M /trunk/.cvsignore

Tweak.

------------------------------------------------------------------------
r19 | airwin | 2004-09-10 09:57:04 -0700 (Fri, 10 Sep 2004) | 19 lines
Changed paths:
   A /trunk/utils/free_eos_test.in

Initial commit of file similar to the awieos_test.in file that was in
eos_demo_fortran.tar.gz for FreeEOS-1.0.0.

Note, there have been some changes in input format.  The input density and
temperature are now in log10 base form, and the kif value is duplicated on
the first input line to help discriminate the one case (kif=0 where ln f is
input) where you don't want the log10 form.

The effective change is the input log rho, log T are now 0 and 5, while
previously they were equivalent to 0, and 4.99... (due to round-off error in
the ln T value previously specified).

This small effective change in temperature and much larger changes in
physical EOS model for these extreme lower-main-sequence envelope conditions
(due to an improved treatment of pressure ionization) means the results will
be different than those obtained with FreeEOS-1.0.0.  Fortunately, predicted
luminosities and effective temperatures of extreme lower-main-sequence
models are insensitive to EOS changes in the envelope....

------------------------------------------------------------------------
r18 | airwin | 2004-09-10 09:45:13 -0700 (Fri, 10 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src
   M /trunk/src/.cvsignore
   M /trunk/utils
   M /trunk/utils/.cvsignore

Tweak

------------------------------------------------------------------------
r17 | airwin | 2004-09-09 16:22:37 -0700 (Thu, 09 Sep 2004) | 4 lines
Changed paths:
   M /trunk/ChangeLog.prior_SF

Enter information that utils_lib/abund_process.f and utils_lib/abund_read.f
were unchanged since initial check-in in private CVS repository prior to
rehosting CVS at SourceForge.

------------------------------------------------------------------------
r16 | airwin | 2004-09-09 16:13:52 -0700 (Thu, 09 Sep 2004) | 3 lines
Changed paths:
   A /trunk/utils/abund.dat

Initial commit of same file that was in eos_demo_fortran.tar.gz for
FreeEOS-1.0.0.

------------------------------------------------------------------------
r15 | airwin | 2004-09-09 16:09:08 -0700 (Thu, 09 Sep 2004) | 3 lines
Changed paths:
   M /trunk/src/coulomb.f
   M /trunk/src/effective_radius.f
   M /trunk/src/eos_calc.f
   M /trunk/src/exchange_gcpf.f
   M /trunk/src/excitation_pi.f
   M /trunk/src/excitation_pi_end.f
   M /trunk/src/excitation_sum.f
   M /trunk/src/fermi_dirac_ct.f
   M /trunk/src/fermi_dirac_direct.f
   M /trunk/src/fermi_dirac_exchange.f
   M /trunk/src/fjs_pi.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/ionize.f
   M /trunk/src/lnx_calc.f
   M /trunk/src/master_coulomb.f
   M /trunk/src/mdh_pi.f
   M /trunk/src/molecular_hydrogen.f
   M /trunk/src/pteh_pi.f
   M /trunk/src/qmhd_calc.f
   M /trunk/src/qryd_approx.f
   M /trunk/src/qstar_calc.f
   M /trunk/utils/free_eos_test_main.f

Convert to new include file style with no directory mentioned in the
actual include statement.

------------------------------------------------------------------------
r14 | airwin | 2004-09-09 16:07:54 -0700 (Thu, 09 Sep 2004) | 5 lines
Changed paths:
   A /trunk/utils/abund_process.f
   A /trunk/utils/abund_read.f

These files are up-to-date versions currently in my local cvs repository for
the utils-lib directory of my FreeEOS.  See ChangeLog.prior_SF in the parent
directory for a ChangeLog of changes to these files before FreeEOS was
rehosted from my private CVS repository to SF.

------------------------------------------------------------------------
r13 | airwin | 2004-09-09 15:37:58 -0700 (Thu, 09 Sep 2004) | 2 lines
Changed paths:
   M /trunk
   A /trunk/.cvsignore
   A /trunk/Makefile.am
   A /trunk/bootstrap.sh
   A /trunk/configure.ac
   M /trunk/include
   A /trunk/include/.cvsignore
   A /trunk/include/Makefile.am
   M /trunk/src
   A /trunk/src/.cvsignore
   A /trunk/src/Makefile.am
   A /trunk/utils/Makefile.am

Move to autotools-based configuration system.

------------------------------------------------------------------------
r12 | airwin | 2004-09-08 22:40:56 -0700 (Wed, 08 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/free_eos.f
   M /trunk/src/free_eos_detailed.f
   M /trunk/src/free_eos_interpolated.f

awieos ==> free_eos

------------------------------------------------------------------------
r11 | airwin | 2004-09-08 22:26:11 -0700 (Wed, 08 Sep 2004) | 2 lines
Changed paths:
   M /trunk/utils
   A /trunk/utils/.cvsignore
   M /trunk/utils/free_eos_test_main.f

awieos ==> free_eos

------------------------------------------------------------------------
r10 | airwin | 2004-09-08 22:23:08 -0700 (Wed, 08 Sep 2004) | 5 lines
Changed paths:
   D /trunk/src/awieos.f
   D /trunk/src/awieos_detailed.f
   D /trunk/src/awieos_interpolated.f
   A /trunk/src/free_eos.f
   A /trunk/src/free_eos_detailed.f
   A /trunk/src/free_eos_interpolated.f
   D /trunk/utils/awieos_test_main.f
   A /trunk/utils/free_eos_test_main.f

Rename all awieos*.f files as the corresponding free_eos*.f forms. No actual
changes to the internals of these files have been made (yet) since the
initial population of the SF CVS repository.  For previous ChangeLog of
awieos*.f form see ChangeLog.priorSF in the parent directory.

------------------------------------------------------------------------
r9 | airwin | 2004-09-08 22:11:31 -0700 (Wed, 08 Sep 2004) | 2 lines
Changed paths:
   D /trunk/src/Makefile

Retire Makefile since moving to autotools-based system

------------------------------------------------------------------------
r8 | airwin | 2004-09-08 20:03:24 -0700 (Wed, 08 Sep 2004) | 8 lines
Changed paths:
   A /trunk/utils
   A /trunk/utils/awieos_test_main.f

Initial commit of this FreeEOS utility source file (that is used to test
libeos.a) to the SF repository.

This file is an up-to-date version currently in my local cvs repository for
the utils directory of my FreeEOS.  See ChangeLog.prior_SF in the parent
directory for a ChangeLog of changes to this file before FreeEOS was
rehosted from my private CVS repository to SF.

------------------------------------------------------------------------
r7 | airwin | 2004-09-08 19:44:44 -0700 (Wed, 08 Sep 2004) | 7 lines
Changed paths:
   A /trunk/include
   A /trunk/include/constants.h
   A /trunk/include/eff_fit.h
   A /trunk/include/excitation_block.h
   A /trunk/include/helium1.h
   A /trunk/include/ionization.h
   A /trunk/include/nuvar.h
   A /trunk/include/quad4block.h
   A /trunk/include/statistical_weights.h
   A /trunk/include/test_cold.h
   A /trunk/include/test_daux_dv.h
   A /trunk/include/test_ddv_aux.h
   A /trunk/include/test_delta_aux.h
   A /trunk/include/test_delta_dv.h
   A /trunk/include/test_initialize.h
   A /trunk/include/test_jacobian.h
   A /trunk/include/test_start.h
   A /trunk/include/test_variables.h

Initial commit of FreeEOS fortran library files to SF repository.

These files are up-to-date versions currently in my local cvs repository for
the include directory of my FreeEOS.  See ChangeLog.prior_SF in the parent
directory for a ChangeLog of changes to these files before FreeEOS was
rehosted from my private CVS repository to SF.

------------------------------------------------------------------------
r6 | airwin | 2004-09-08 19:41:46 -0700 (Wed, 08 Sep 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog.prior_SF

Forgot one include directory commit in old repository which revises
the ChangeLog.prior_SF

------------------------------------------------------------------------
r5 | airwin | 2004-09-08 19:31:55 -0700 (Wed, 08 Sep 2004) | 11 lines
Changed paths:
   M /trunk/ChangeLog.prior_SF

Second try at ChangeLog prior to rehosting FreeEOS from my private repository
to the SF cvs repository.  This time used the

cvs2cl -l "-d'>1970-01-01'" --stdout >& ChangeLog.prior_SF

command in the interior_eos directory under private CVS repository control
That directory has lib, include, and utils as subdirectories.  I severely
edited this file to remove everything in the parent directory and all
but awieos_test_main.f in the utils directory while leaving log information
in the lib and include subdirectories untouched.

------------------------------------------------------------------------
r4 | airwin | 2004-09-08 19:27:32 -0700 (Wed, 08 Sep 2004) | 7 lines
Changed paths:
   A /trunk/src/Makefile
   A /trunk/src/README.developers

Initial commit of FreeEOS fortran library files to SF repository.

These files are up-to-date versions currently in my local cvs repository for
the lib directory of my FreeEOS.  See ChangeLog.prior_SF in the parent
directory for a ChangeLog of changes to these files before FreeEOS was
rehosted from my private repository to SF.

------------------------------------------------------------------------
r3 | airwin | 2004-09-08 18:33:35 -0700 (Wed, 08 Sep 2004) | 7 lines
Changed paths:
   A /trunk/src
   A /trunk/src/awieos.f
   A /trunk/src/awieos_detailed.f
   A /trunk/src/awieos_interpolated.f
   A /trunk/src/coulomb.f
   A /trunk/src/coulomb_correct.f
   A /trunk/src/coulomb_correct_alt.f
   A /trunk/src/deriv_product.f
   A /trunk/src/deriv_ratio.f
   A /trunk/src/dspline.f
   A /trunk/src/dsplint.f
   A /trunk/src/effective_radius.f
   A /trunk/src/effsum_calc.f
   A /trunk/src/eos_calc.f
   A /trunk/src/exchange_gcpf.f
   A /trunk/src/excitation_pi.f
   A /trunk/src/excitation_pi_end.f
   A /trunk/src/excitation_sum.f
   A /trunk/src/exct.f
   A /trunk/src/f_psi.f
   A /trunk/src/fermi_dirac.f
   A /trunk/src/fermi_dirac_coeff.f
   A /trunk/src/fermi_dirac_ct.f
   A /trunk/src/fermi_dirac_direct.f
   A /trunk/src/fermi_dirac_exchange.f
   A /trunk/src/fermi_dirac_minusnr_coeff.f
   A /trunk/src/fermi_dirac_original_coeff.f
   A /trunk/src/fermi_dirac_recursion.f
   A /trunk/src/fjs_pi.f
   A /trunk/src/fp12.f
   A /trunk/src/ionize.f
   A /trunk/src/lnx_calc.f
   A /trunk/src/master_coulomb.f
   A /trunk/src/mdh_pi.f
   A /trunk/src/molecular_hydrogen.f
   A /trunk/src/pl_prepare.f
   A /trunk/src/plsum.f
   A /trunk/src/plsum_approx.f
   A /trunk/src/poly_sum.f
   A /trunk/src/pteh_pi.f
   A /trunk/src/pteh_theta.f
   A /trunk/src/qmhd_calc.f
   A /trunk/src/qryd_approx.f
   A /trunk/src/qryd_calc.f
   A /trunk/src/qstar_calc.f
   A /trunk/src/quad4b.f
   A /trunk/src/tau_calc.f
   A /trunk/src/version.f

Initial commit of FreeEOS fortran library files to SF repository.

These files are up-to-date versions of fortran source files (*.f) currently
in my local cvs repository for the lib directory of my FreeEOS.  See
ChangeLog.prior_SF in the parent directory for a ChangeLog of changes to
these files before FreeEOS was rehosted from my private repository to SF.

------------------------------------------------------------------------
r2 | airwin | 2004-09-08 18:25:18 -0700 (Wed, 08 Sep 2004) | 8 lines
Changed paths:
   A /trunk/ChangeLog.prior_SF

Initial commit of ChangeLog prior to rehosting of FreeEOS to SF.  This initial
version was created by execution of

cvs2cl -l "-d'>1970-01-01'" --stdout >& ChangeLog.prior_SF

in lib directory under control of local CVS repository for the FreeEOS that
was established on 2001-10-24.

------------------------------------------------------------------------
r1 | (no author) | 2004-09-08 18:25:18 -0700 (Wed, 08 Sep 2004) | 1 line
Changed paths:
   A /branches
   A /tags
   A /trunk

New repository initialized by cvs2svn.
------------------------------------------------------------------------
